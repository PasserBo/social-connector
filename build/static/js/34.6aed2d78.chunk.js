(this["webpackJsonpbitfari-sc"]=this["webpackJsonpbitfari-sc"]||[]).push([[34],{1019:function(e,a,l){"use strict";l.r(a),a.default=l.p+"static/media/calendar-illustration.42be42ce.png"},1379:function(e,a,l){},1666:function(e,a,l){"use strict";l.r(a);var t=l(0),c=l(4),s=l.n(c),r=l(10),o=l(1567),i=l(1373),n=l(1134),d=l(1376),b=l(1378),m=l(878),j=l(219),h=l(405),u=l(351),f=l(3);const O=e=>{let{title:a,icon:l,color:c}=e;return Object(f.jsx)(t.Fragment,{children:Object(f.jsx)("div",{className:"toastify-header pb-0",children:Object(f.jsxs)("div",{className:"title-wrapper",children:[Object(f.jsx)(m.a,{size:"sm",color:c,icon:l}),Object(f.jsx)("h6",{className:"toast-title",children:a})]})})})},p=e=>{const a=Object(t.useRef)(null),{store:l,isRtl:c,dispatch:s,calendarsColor:m,calendarApi:p,setCalendarApi:v,handleAddEventSidebar:x,blankEvent:g,toggleSidebar:N,selectEvent:y,updateEvent:k}=e;Object(t.useEffect)((()=>{null===p&&v(a.current.getApi())}),[p]);const C={events:l.events.length?l.events:[],plugins:[b.a,n.b,d.a,i.a],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev,next, title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames(e){let{event:a}=e;const l=m[a._def.extendedProps.calendar];return["bg-light-".concat(l)]},eventClick(e){let{event:a}=e;s(y(a)),x()},customButtons:{sidebarToggle:{text:Object(f.jsx)(h.a,{className:"d-xl-none d-block"}),click(){N(!0)}}},dateClick(e){const a=g;a.start=e.date,a.end=e.date,s(y(a)),x()},eventDrop(e){let{event:a}=e;s(k(a)),j.f.success(Object(f.jsx)(O,{title:"Ad Updated",color:"success",icon:Object(f.jsx)(u.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},eventResize(e){let{event:a}=e;s(k(a)),j.f.success(Object(f.jsx)(O,{title:"Ad Updated",color:"success",icon:Object(f.jsx)(u.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},ref:a,direction:c?"rtl":"ltr"};return Object(f.jsx)(r.l,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(f.jsxs)(r.m,{className:"pb-0",children:[Object(f.jsx)(o.a,{...C})," "]})})};var v=Object(t.memo)(p),x=l(1019);const g=[{label:"Billboards.btc",color:"Billboards",className:"form-check-danger mb-1"},{label:"Times2.btc",color:"success",className:"form-check-info"},{label:"Screens.btc",color:"primary",className:"form-check-primary mb-1"},{label:"Agency.btc",color:"primary",className:"form-check-info"},{label:"Advertising.btc",color:"primary",className:"form-check-info"},{label:"Direct Mail.btc",color:"info",className:"form-check-info"},{label:"Panorama.btc",color:"primary",className:"form-check-info"},{label:"Office.btc",color:"primary",className:"form-check-warning mb-1"},{label:"Malls.btc",color:"success",className:"form-check-success mb-1"},{label:"Say.btc",color:"success",className:"form-check-primary mb-1"},{label:"Stadium.btc",color:"info",className:"form-check-info"},{label:"Gyms.btc",color:"info",className:"form-check-info"},{label:"Classifieds.btc",color:"primary",className:"form-check-info"},{label:"CPA.btc",color:"primary",className:"form-check-info"},{label:"Desktop.btc",color:"primary",className:"form-check-info"},{label:"Uncensored.btc",color:"info",className:"form-check-info"},{label:"KidSafe.btc",color:"success",className:"form-check-info"},{label:"HighSchool.btc",color:"success",className:"form-check-info"}];var N=e=>{const{handleAddEventSidebar:a,toggleSidebar:l,updateFilter:c,updateAllFilters:o,store:i,dispatch:n}=e;return Object(f.jsxs)(t.Fragment,{children:[Object(f.jsxs)("div",{className:"sidebar-wrapper",children:[Object(f.jsx)(r.m,{className:"card-body d-flex justify-content-center my-sm-0 mb-3",children:Object(f.jsx)(r.i,{color:"primary",block:!0,onClick:()=>{l(!1),a()},children:Object(f.jsx)("span",{className:"align-middle",children:"Book Ad"})})}),Object(f.jsxs)(r.m,{children:[Object(f.jsx)("h5",{className:"section-label mb-1",children:Object(f.jsx)("span",{className:"align-middle",children:"Filter"})}),Object(f.jsxs)("div",{className:"form-check mb-1",children:[Object(f.jsx)(r.L,{id:"view-all",type:"checkbox",label:"View All",className:"select-all",checked:i.selectedCalendars.length===g.length,onChange:e=>n(o(e.target.checked))}),Object(f.jsx)(r.O,{className:"form-check-label",for:"view-all",children:"View All"})]}),Object(f.jsx)("div",{className:"calendar-events-filter",children:g.length&&g.map((e=>Object(f.jsxs)("div",{className:s()("form-check",{[e.className]:e.className}),children:[Object(f.jsx)(r.L,{type:"checkbox",label:e.label,className:"input-filter",id:"".concat(e.label,"-event"),checked:i.selectedCalendars.includes(e.label),onChange:()=>{n(c(e.label))}},e.label),Object(f.jsx)(r.O,{className:"form-check-label",for:"".concat(e.label,"-event"),children:e.label})]},"".concat(e.label,"-key"))))})]})]}),Object(f.jsx)("div",{className:"mt-auto",children:Object(f.jsx)("img",{className:"img-fluid",src:x.default,alt:"illustration"})})]})},y=l(887),k=l.n(y),C=l(317),S=l(9),w=l(220),A=l(79),D=l.n(A),E=l(889),B=l(217),P=l(69);l(483),l(890);const F=e=>{let{title:a,icon:l,color:c}=e;return Object(f.jsx)(t.Fragment,{children:Object(f.jsx)("div",{className:"toastify-header pb-0",children:Object(f.jsxs)("div",{className:"title-wrapper",children:[Object(f.jsx)(m.a,{size:"sm",color:c,icon:l}),Object(f.jsx)("h6",{className:"toast-title",children:a})]})})})};var T=e=>{const{open:a,store:l,dispatch:c,addEvent:s,calendarApi:o,selectEvent:i,updateEvent:n,removeEvent:d,refetchEvents:b,calendarsColor:m,handleAddEventSidebar:h}=e,O=l.selectedEvent,{control:p,setError:v,setValue:x,getValues:g,handleSubmit:N,formState:{errors:y}}=Object(E.e)({defaultValues:{title:""}}),[A,T]=Object(t.useState)(""),[L,M]=Object(t.useState)(""),[U,G]=Object(t.useState)({}),[R,V]=Object(t.useState)(!1),[z,H]=Object(t.useState)(""),[q,I]=Object(t.useState)(new Date),[J,K]=Object(t.useState)(new Date),[W,Y]=Object(t.useState)([{value:"Billboards",label:"Billboards.btc",color:"primary"}]),_=[{value:"USA",label:"USA",avatar:P.default},{value:"CAN",label:"Canada",avatar:P.default},{value:"Global",label:"Global",avatar:P.default}],Q=()=>{if(g("title").length){const e={id:O.id,title:g("title"),allDay:R,start:J,end:q,url:A,display:!1===R?"block":void 0,extendedProps:{location:z,description:L,guests:U,calendar:W[0].label}},a=["id","title","url"],l=["calendar","guests","location","description"];c(n(e)),((e,a,l)=>{const t=o.getEventById(e.id);for(let c=0;c<a.length;c++){const l=a[c];t.setProp(l,e[l])}t.setDates(new Date(e.start),new Date(e.end),{allDay:e.allDay});for(let c=0;c<l.length;c++){const a=l[c];t.setExtendedProp(a,e.extendedProps[a])}})(e,a,l),h(),j.f.success(Object(f.jsx)(F,{title:"Ad Updated",color:"success",icon:Object(f.jsx)(u.a,{})}),{icon:!1,autoClose:2e3,hideProgressBar:!0,closeButton:!1})}else v("title",{type:"manual"})},X=()=>{var e;c(d(O.id)),e=O.id,o.getEventById(e).remove(),h(),j.f.error(Object(f.jsx)(F,{title:"Ad Removed",color:"danger",icon:Object(f.jsx)(Trash,{})}),{icon:!1,autoClose:2e3,hideProgressBar:!0,closeButton:!1})},Z=()=>Object(B.d)(O)||!Object(B.d)(O)&&!O.title.length?Object(f.jsxs)(t.Fragment,{children:[Object(f.jsx)(r.i,{className:"me-1",type:"submit",color:"primary",children:"Add"}),Object(f.jsx)(r.i,{color:"secondary",type:"reset",onClick:h,outline:!0,children:"Cancel"})]}):Object(f.jsxs)(t.Fragment,{children:[Object(f.jsx)(r.i,{className:"me-1",color:"primary",onClick:Q,children:"Update"}),Object(f.jsx)(r.i,{color:"danger",onClick:X,outline:!0,children:"Delete"})]}),$=Object(f.jsx)(C.a,{className:"cursor-pointer",size:15,onClick:h});return Object(f.jsxs)(r.R,{isOpen:a,className:"sidebar-lg",toggle:h,onOpened:()=>{if(!Object(B.d)(O)){const e=O.extendedProps.calendar,a=()=>e.length?{label:e,value:e,color:m[e]}:{value:"Billboards",label:"Billboards.btc",color:"primary"};x("title",O.title||g("title")),V(O.allDay||R),T(O.url||A),H(O.extendedProps.location||z),M(O.extendedProps.description||L),G(O.extendedProps.guests||U),K(new Date(O.start)),I(O.allDay?new Date(O.start):new Date(O.end)),Y([a()])}},onClosed:()=>{c(i({})),x("title",""),V(!1),T(""),H(""),M(""),G({}),Y([{value:"Billboards",label:"Billboards.btc",color:"primary"}]),K(new Date),I(new Date)},contentClassName:"p-0 overflow-hidden",modalClassName:"modal-slide-in event-sidebar",children:[Object(f.jsx)(r.U,{className:"mb-1",toggle:h,close:$,tag:"div",children:Object(f.jsxs)("h5",{className:"modal-title",children:[O&&O.title&&O.title.length?"Update":"Book"," Ad"]})}),Object(f.jsx)(D.a,{options:{wheelPropagation:!1},children:Object(f.jsx)(r.S,{className:"flex-grow-1 pb-sm-0 pb-3",children:Object(f.jsxs)(r.H,{onSubmit:N((e=>{e.title.length?Object(B.d)(y)&&(Object(B.d)(O)||!Object(B.d)(O)&&!O.title.length?(()=>{const e={title:g("title"),start:J,end:q,allDay:R,display:"block",extendedProps:{calendar:W[0].label,url:A.length?A:void 0,guests:U.length?U:void 0,location:z.length?z:void 0,desc:L.length?L:void 0}};c(s(e)),b(),h(),j.f.success(Object(f.jsx)(F,{title:"Ad Booked - Ready to Publish",color:"success",icon:Object(f.jsx)(u.a,{})}),{icon:!1,autoClose:2e3,hideProgressBar:!0,closeButton:!1})})():Q(),h()):v("title",{type:"manual"})})),children:[Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsxs)(r.O,{className:"form-label",for:"title",children:["Title ",Object(f.jsx)("span",{className:"text-danger",children:"*"})]}),Object(f.jsx)(E.a,{name:"title",control:p,render:e=>{let{field:a}=e;return Object(f.jsx)(r.L,{id:"title",placeholder:"Title",invalid:y.title&&!0,...a})}})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"label",children:"Distribution Network"}),Object(f.jsx)(w.a,{id:"label",value:W,options:[{value:"Billboards",label:"Billboards.btc",color:"success",className:"form-check-danger mb-1"},{value:"Times Sq",label:"Times2.btc",color:"success",className:"form-check-info"},{value:"Screens",label:"Screens.btc",color:"primary",className:"form-check-primary mb-1"},{value:"Agency",label:"Agency.btc",color:"primary",className:"form-check-info"},{value:"Advertising",label:"Advertising.btc",color:"primary",className:"form-check-info"},{value:"Direct Mail",label:"Direct Mail.btc",color:"info",className:"form-check-info"},{value:"Panorama",label:"Panorama.btc",color:"primary",className:"form-check-info"},{value:"Office",label:"Office.btc",color:"primary",className:"form-check-warning mb-1"},{value:"Malls",label:"Malls.btc",color:"success",className:"form-check-success mb-1"},{value:"Say",label:"Say.btc",color:"success",className:"form-check-primary mb-1"},{value:"Stadium",label:"Stadium.btc",color:"info",className:"form-check-info"},{value:"Gyms",label:"Gyms.btc",color:"info",className:"form-check-info"},{value:"Classifieds",label:"Classifieds.btc",color:"primary",className:"form-check-info"}],theme:B.f,className:"react-select",classNamePrefix:"select",isClearable:!1,onChange:e=>Y([e]),components:{Option:e=>{let{data:a,...l}=e;return Object(f.jsxs)(S.q.Option,{...l,children:[Object(f.jsx)("span",{className:"bullet bullet-".concat(a.color," bullet-sm me-50")}),a.label]})}}})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"startDate",children:"Start Date"}),Object(f.jsx)(k.a,{required:!0,id:"startDate",name:"startDate",className:"form-control",onChange:e=>K(e[0]),value:J,options:{enableTime:!1===R,dateFormat:"Y-m-d H:i"}})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"endDate",children:"End Date"}),Object(f.jsx)(k.a,{required:!0,id:"endDate",name:"endDate",className:"form-control",onChange:e=>I(e[0]),value:q,options:{enableTime:!1===R,dateFormat:"Y-m-d H:i"}})]}),Object(f.jsxs)("div",{className:"form-switch mb-1",children:[Object(f.jsx)(r.L,{id:"allDay",type:"switch",className:"me-1",checked:R,name:"customSwitch",onChange:e=>V(e.target.checked)}),Object(f.jsx)(r.O,{className:"form-label",for:"allDay",children:"All Day"})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"eventURL",children:"URL for the Art (PNG, JPG, SVG, HTML) (TIFF only available for Agency Networks)"}),Object(f.jsx)(r.L,{type:"url",id:"eventURL",value:A,onChange:e=>T(e.target.value),placeholder:"https://www.bitfari.org"})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"guests",children:"Choose a Location"}),Object(f.jsx)(w.a,{isMulti:!0,id:"guests",className:"react-select",classNamePrefix:"select",isClearable:!1,options:_,theme:B.f,value:U.length?[...U]:null,onChange:e=>G([...e]),components:{Option:e=>{let{data:a,...l}=e;return Object(f.jsx)(S.q.Option,{...l,children:Object(f.jsx)("div",{className:"d-flex flex-wrap align-items-center",children:Object(f.jsx)("div",{children:a.label})})})}}})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"location",children:"Keywords"}),Object(f.jsx)(r.L,{id:"location",value:z,onChange:e=>H(e.target.value),placeholder:""})]}),Object(f.jsxs)("div",{className:"mb-1",children:[Object(f.jsx)(r.O,{className:"form-label",for:"description",children:"Ad Copy"}),Object(f.jsx)(r.L,{type:"textarea",name:"text",id:"description",rows:"3",value:L,onChange:e=>M(e.target.value),placeholder:"Place your Copy here"})]}),Object(f.jsx)("div",{className:"d-flex mb-1",children:Object(f.jsx)(Z,{})})]})})})]})},L=l(116),M=l(17),U=l(464);l(1379);const G={Billboards:"primary",Screens:"success",Office:"danger",Panorama:"warning",Malls:"info"};a.default=()=>{const e=Object(M.b)(),a=Object(M.c)((e=>e.book)),[l,c]=Object(t.useState)(null),[o,i]=Object(t.useState)(!1),[n,d]=Object(t.useState)(!1),[b]=Object(L.a)(),m=()=>i(!o),j=e=>d(e);return Object(t.useEffect)((()=>{e(Object(U.c)(a.selectedCalendars))}),[]),Object(f.jsxs)(t.Fragment,{children:[Object(f.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(f.jsxs)(r.jb,{className:"g-0",children:[Object(f.jsx)(r.B,{id:"app-calendar-sidebar",className:s()("col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column",{show:n}),children:Object(f.jsx)(N,{store:a,dispatch:e,updateFilter:U.h,toggleSidebar:j,updateAllFilters:U.f,handleAddEventSidebar:m})}),Object(f.jsx)(r.B,{className:"position-relative",children:Object(f.jsx)(v,{isRtl:b,store:a,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:l,selectEvent:U.e,updateEvent:U.g,toggleSidebar:j,calendarsColor:G,setCalendarApi:c,handleAddEventSidebar:m})}),Object(f.jsx)("div",{className:s()("body-content-overlay",{show:!0===n}),onClick:()=>j(!1)})]})}),Object(f.jsx)(T,{store:a,dispatch:e,addEvent:U.a,open:o,selectEvent:U.e,updateEvent:U.g,removeEvent:U.d,calendarApi:l,refetchEvents:()=>{null!==l&&l.refetchEvents()},calendarsColor:G,handleAddEventSidebar:m})]})}},878:function(e,a,l){"use strict";var t=l(0),c=l(4),s=l.n(c),r=l(10),o=l(3);const i=Object(t.forwardRef)(((e,a)=>{const{img:l,size:t,icon:c,color:i,status:n,badgeUp:d,content:b,tag:m,initials:j,imgWidth:h,className:u,badgeText:f,imgHeight:O,badgeColor:p,imgClassName:v,contentStyles:x,...g}=e;return Object(o.jsxs)(m,{className:s()("avatar",{[u]:u,["bg-".concat(i)]:i,["avatar-".concat(t)]:t}),ref:a,...g,children:[!1===l||void 0===l?Object(o.jsxs)("span",{className:s()("avatar-content",{"position-relative":d}),style:x,children:[j?(e=>{const a=[];return e.split(" ").forEach((e=>{a.push(e[0])})),a.join("")})(b):b,c||null,d?Object(o.jsx)(r.f,{color:p||"primary",className:"badge-sm badge-up",pill:!0,children:f||"0"}):null]}):Object(o.jsx)("img",{className:s()({[v]:v}),src:l,alt:"avatarImg",height:O&&!t?O:32,width:h&&!t?h:32}),n?Object(o.jsx)("span",{className:s()({["avatar-status-".concat(n)]:n,["avatar-status-".concat(t)]:t})}):null]})}));a.a=i,i.defaultProps={tag:"div"}},890:function(e,a,l){}}]);
//# sourceMappingURL=34.6aed2d78.chunk.js.map