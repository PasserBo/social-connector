(this["webpackJsonpBitfari-SC"]=this["webpackJsonpBitfari-SC"]||[]).push([[136],{1414:function(e,t,a){},1944:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(0),l=a(103),s=a.n(l),r=a(445),i=a(446),o=a(1),d=a(1815),u=a(1408),b=a(1144),j=a(1411),p=a(1413),m=a(447),h=a(114),O=a(443),f=a(444),v=a(1047),x=a(991),g=a(6),y=function(e){var t=e.title,a=e.icon,n=e.color;return Object(g.jsx)(c.Fragment,{children:Object(g.jsx)("div",{className:"toastify-header pb-0",children:Object(g.jsxs)("div",{className:"title-wrapper",children:[Object(g.jsx)(m.a,{size:"sm",color:n,icon:a}),Object(g.jsx)("h6",{className:"toast-title",children:t})]})})})},C=function(e){var t=Object(c.useRef)(null),a=e.store,n=e.isRtl,l=e.dispatch,s=e.calendarsColor,r=e.calendarApi,i=e.setCalendarApi,m=e.handleAddEventSidebar,C=e.blankEvent,N=e.toggleSidebar,E=e.selectEvent,A=e.updateEvent;Object(c.useEffect)((function(){null===r&&i(t.current.getApi())}),[r]);var S={events:a.events.length?a.events:[],plugins:[p.a,b.b,j.a,u.a],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev,next, title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames:function(e){var t=e.event,a=s[t._def.extendedProps.calendar];return["bg-light-".concat(a)]},eventClick:function(e){var t=e.event;l(E(t)),m()},customButtons:{sidebarToggle:{text:Object(g.jsx)(v.a,{className:"d-xl-none d-block"}),click:function(){N(!0)}}},dateClick:function(e){var t=C;t.start=e.date,t.end=e.date,l(E(t)),m()},eventDrop:function(e){var t=e.event;l(A(t)),h.f.success(Object(g.jsx)(y,{title:"Ad Updated",color:"success",icon:Object(g.jsx)(x.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},eventResize:function(e){var t=e.event;l(A(t)),h.f.success(Object(g.jsx)(y,{title:"Ad Updated",color:"success",icon:Object(g.jsx)(x.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},ref:t,direction:n?"rtl":"ltr"};return Object(g.jsx)(O.a,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(g.jsxs)(f.a,{className:"pb-0",children:[Object(g.jsx)(d.a,Object(o.a)({},S))," "]})})},N=Object(c.memo)(C),E=a(19),A=a(439),S=a(923),w=a(793),D=[{label:"Community",color:"danger",className:"custom-control-danger mb-1"},{label:"Residential",color:"primary",className:"custom-control-primary mb-1"},{label:"Office",color:"warning",className:"custom-control-warning mb-1"},{label:"Home",color:"success",className:"custom-control-success mb-1"},{label:"CryptoAds",color:"info",className:"custom-control-info"}],k=function(e){var t=e.handleAddEventSidebar,a=e.toggleSidebar,n=e.updateFilter,l=e.updateAllFilters,r=e.store,i=e.dispatch;return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsxs)("div",{className:"sidebar-wrapper",children:[Object(g.jsx)(f.a,{className:"card-body d-flex justify-content-center my-sm-0 mb-3",children:Object(g.jsx)(A.a.Ripple,{color:"primary",block:!0,onClick:function(){a(!1),t()},children:Object(g.jsx)("span",{className:"align-middle",children:"Book Ad"})})}),Object(g.jsxs)(f.a,{children:[Object(g.jsx)("h5",{className:"section-label mb-1",children:Object(g.jsx)("span",{className:"align-middle",children:"Filter"})}),Object(g.jsx)(S.a,{type:"checkbox",className:"mb-1",label:"View All",id:"view-all",checked:r.selectedCalendars.length===D.length,onChange:function(e){return i(l(e.target.checked))}}),Object(g.jsx)("div",{className:"calendar-events-filter",children:D.length&&D.map((function(e){return Object(g.jsx)(S.a,{type:"checkbox",id:e.label,label:e.label,checked:r.selectedCalendars.includes(e.label),className:s()(Object(E.a)({},e.className,e.className)),onChange:function(t){return i(n(e.label))}},e.label)}))})]})]}),Object(g.jsx)("div",{className:"mt-auto",children:Object(g.jsx)("img",{className:"img-fluid",src:w.default,alt:"illustration"})})]})},B=a(106),P=a(464),R=a.n(P),T=a(1083),F=a(925),U=a(638),L=a(508),_=a(478),V=a(574),H=a(621),z=a(561),G=a(463),M=a(926),I=a(455),q=a(955),J=a(460),Y=a(20),W=a(71),K=(a(69),a(70),a(33),a(256),a(514),a(459),["data"]),Q=function(e){var t=e.title,a=e.icon,n=e.color;return Object(g.jsx)(c.Fragment,{children:Object(g.jsx)("div",{className:"toastify-header pb-0",children:Object(g.jsxs)("div",{className:"title-wrapper",children:[Object(g.jsx)(m.a,{size:"sm",color:n,icon:a}),Object(g.jsx)("h6",{className:"toast-title",children:t})]})})})},X=function(e){var t=e.store,a=e.dispatch,l=e.open,r=e.handleAddEventSidebar,i=e.calendarsColor,d=e.calendarApi,u=e.refetchEvents,b=e.addEvent,j=e.selectEvent,p=e.updateEvent,m=e.removeEvent,O=t.selectedEvent,f=Object(_.c)(),v=f.register,y=f.errors,C=f.handleSubmit,N=Object(c.useState)(""),E=Object(n.a)(N,2),w=E[0],D=E[1],k=Object(c.useState)(""),P=Object(n.a)(k,2),X=P[0],Z=P[1],$=Object(c.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)({}),ce=Object(n.a)(ne,2),le=ce[0],se=ce[1],re=Object(c.useState)(!1),ie=Object(n.a)(re,2),oe=ie[0],de=ie[1],ue=Object(c.useState)(""),be=Object(n.a)(ue,2),je=be[0],pe=be[1],me=Object(c.useState)(new Date),he=Object(n.a)(me,2),Oe=he[0],fe=he[1],ve=Object(c.useState)(new Date),xe=Object(n.a)(ve,2),ge=xe[0],ye=xe[1],Ce=Object(c.useState)([{value:"Business",label:"Business",color:"primary"}]),Ne=Object(n.a)(Ce,2),Ee=Ne[0],Ae=Ne[1],Se=(Y.default,W.default,function(){var e={id:O.id,title:te,allDay:oe,start:ge,end:Oe,url:w,extendedProps:{location:je,description:X,guests:le,calendar:Ee[0].label}};a(p(e)),function(e,t,a){for(var n=d.getEventById(e.id),c=0;c<t.length;c++){var l=t[c];n.setProp(l,e[l])}n.setDates(e.start,e.end,{allDay:e.allDay});for(var s=0;s<a.length;s++){var r=a[s];n.setExtendedProp(r,e.extendedProps[r])}}(e,["id","title","url"],["calendar","guests","location","description"]),r(),h.f.success(Object(g.jsx)(Q,{title:"Ad Updated",color:"success",icon:Object(g.jsx)(x.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})}),we=function(){var e;a(m(O.id)),e=O.id,d.getEventById(e).remove(),r(),h.f.error(Object(g.jsx)(Q,{title:"Ad Removed",color:"danger",icon:Object(g.jsx)(T.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},De=function(){return Object(J.e)(O)||!Object(J.e)(O)&&!O.title.length?Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)(A.a.Ripple,{className:"mr-1",type:"submit",color:"primary",children:"Book"}),Object(g.jsx)(A.a.Ripple,{color:"secondary",type:"reset",onClick:r,outline:!0,children:"Cancel"})]}):Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)(A.a.Ripple,{className:"mr-1",color:"primary",children:"Update"}),Object(g.jsx)(A.a.Ripple,{color:"danger",onClick:we,outline:!0,children:"Delete"})]})},ke=Object(g.jsx)(F.a,{className:"cursor-pointer",size:15,onClick:r});return Object(g.jsxs)(V.a,{isOpen:l,toggle:r,className:"sidebar-lg",contentClassName:"p-0",onOpened:function(){if(!Object(J.e)(O)){var e=O.extendedProps.calendar;ae(O.title||te),de(O.allDay||oe),D(O.url||w),pe(O.extendedProps.location||je),Z(O.extendedProps.description||X),se(O.extendedProps.guests||le),ye(new Date(O.start)),fe(O.allDay?new Date(O.start):new Date(O.end)),Ae([e.length?{label:e,value:e,color:i[e]}:{value:"CryptoAds",label:"CryptoAds",color:"primary"}])}},onClosed:function(){a(j({})),ae(""),de(!1),D(""),pe(""),Z(""),se({}),Ae([{value:"Community",label:"Community",color:"primary"}]),ye(new Date),fe(new Date)},modalClassName:"modal-slide-in event-sidebar",children:[Object(g.jsx)(H.a,{className:"mb-1",toggle:r,close:ke,tag:"div",children:Object(g.jsxs)("h5",{className:"modal-title",children:[O&&O.title&&O.title.length?"Update":"Book"," Ad"]})}),Object(g.jsx)(z.a,{className:"flex-grow-1 pb-sm-0 pb-3",children:Object(g.jsxs)(G.a,{onSubmit:C((function(e){Object(J.e)(y)&&(Object(J.e)(O)||!Object(J.e)(O)&&!O.title.length?function(){var e={title:te,start:ge,end:Oe,allDay:oe,display:"block",extendedProps:{calendar:Ee[0].label,url:w.length?w:void 0,guests:le.length?le:void 0,location:je.length?je:void 0,desc:X.length?X:void 0}};a(b(e)),u(),r(),h.f.success(Object(g.jsx)(Q,{title:"Ad Booked!",color:"success",icon:Object(g.jsx)(x.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})}():Se(),r())})),children:[Object(g.jsxs)(M.a,{children:[Object(g.jsxs)(I.a,{for:"title",children:["Title ",Object(g.jsx)("span",{className:"text-danger",children:"*"})]}),Object(g.jsx)(q.a,{id:"title",name:"title",placeholder:"Title",value:te,onChange:function(e){return ae(e.target.value)},innerRef:v({register:!0,validate:function(e){return""!==e}}),className:s()({"is-invalid":y.title})})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"label",children:"Network"}),Object(g.jsx)(L.a,{id:"label",value:Ee,options:[{value:"Community",label:"Community",color:"primary"},{value:"Residential",label:"Residential",color:"danger"},{value:"Office",label:"Office",color:"warning"},{value:"Home",label:"Home",color:"success"},{value:"CryptoAds",label:"CryptoAds",color:"info"}],theme:J.h,className:"react-select",classNamePrefix:"select",isClearable:!1,onChange:function(e){return Ae([e])},components:{Option:function(e){var t=e.data,a=Object(B.a)(e,K);return Object(g.jsxs)(U.e.Option,Object(o.a)(Object(o.a)({},a),{},{children:[Object(g.jsx)("span",{className:"bullet bullet-".concat(t.color," bullet-sm mr-50")}),t.label]}))}}})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"startDate",children:"Start Date"}),Object(g.jsx)(R.a,{required:!0,id:"startDate",name:"startDate",className:"form-control",onChange:function(e){return ye(e[0])},value:ge,options:{enableTime:!1===oe,dateFormat:"Y-m-d H:i"}})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"endDate",children:"End Date"}),Object(g.jsx)(R.a,{required:!0,id:"endDate",name:"endDate",className:"form-control",onChange:function(e){return fe(e[0])},value:Oe,options:{enableTime:!1===oe,dateFormat:"Y-m-d H:i"}})]}),Object(g.jsx)(M.a,{children:Object(g.jsx)(S.a,{type:"switch",id:"allDay",name:"customSwitch",label:"All Day",checked:oe,onChange:function(e){return de(e.target.checked)},inline:!0})}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"eventURL",children:"Ad URL"}),Object(g.jsx)(q.a,{type:"url",id:"eventURL",value:w,onChange:function(e){return D(e.target.value)},placeholder:"https://www.bitfari.org"})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"location",children:"Location"}),Object(g.jsx)(q.a,{id:"location",value:je,onChange:function(e){return pe(e.target.value)},placeholder:"Office"})]}),Object(g.jsxs)(M.a,{children:[Object(g.jsx)(I.a,{for:"description",children:"Ad Copy"}),Object(g.jsx)(q.a,{type:"textarea",name:"text",id:"description",rows:"3",value:X,onChange:function(e){return Z(e.target.value)},placeholder:"Place your ad coy here"})]}),Object(g.jsx)(M.a,{className:"d-flex",children:Object(g.jsx)(De,{})})]})})]})},Z=a(559),$=a(110),ee=a(61),te=a.n(ee),ae=function(e){return function(t){te.a.get("/apps/calendar/events",{calendars:e}).then((function(e){t({type:"FETCH_EVENTS",events:e.data})}))}},ne=function(e){return function(t,a){te.a.post("/apps/calendar/add-event",{event:e}).then((function(){t({type:"ADD_EVENT"}),t(ae(a().calendar.selectedCalendars))}))}},ce=function(e){return function(t){te.a.post("/apps/calendar/update-event",{event:e}).then((function(){t({type:"UPDATE_EVENT"})}))}},le=function(e){return function(t,a){t({type:"UPDATE_FILTERS",filter:e}),t(ae(a().calendar.selectedCalendars))}},se=function(e){return function(t,a){t({type:"UPDATE_ALL_FILTERS",value:e}),t(ae(a().calendar.selectedCalendars))}},re=function(e){return function(t){te.a.delete("/apps/calendar/remove-event",{id:e}).then((function(){t({type:"REMOVE_EVENT"})}))}},ie=function(e){return function(t){t({type:"SELECT_EVENT",event:e})}},oe=(a(1414),{Business:"primary",Holiday:"success",Personal:"danger",Family:"warning",ETC:"info"});t.default=function(){var e=Object($.b)(),t=Object($.c)((function(e){return e.calendar})),a=Object(c.useState)(!1),l=Object(n.a)(a,2),o=l[0],d=l[1],u=Object(c.useState)(!1),b=Object(n.a)(u,2),j=b[0],p=b[1],m=Object(c.useState)(null),h=Object(n.a)(m,2),O=h[0],f=h[1],v=Object(Z.a)(),x=Object(n.a)(v,2),y=x[0],C=(x[1],function(){return d(!o)}),E=function(e){return p(e)};return Object(c.useEffect)((function(){e(ae(t.selectedCalendars))}),[]),Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(g.jsxs)(r.a,{noGutters:!0,children:[Object(g.jsx)(i.a,{id:"app-calendar-sidebar",className:s()("col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column",{show:j}),children:Object(g.jsx)(k,{store:t,dispatch:e,updateFilter:le,toggleSidebar:E,updateAllFilters:se,handleAddEventSidebar:C})}),Object(g.jsx)(i.a,{className:"position-relative",children:Object(g.jsx)(N,{isRtl:y,store:t,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:O,selectEvent:ie,updateEvent:ce,toggleSidebar:E,calendarsColor:oe,setCalendarApi:f,handleAddEventSidebar:C})}),Object(g.jsx)("div",{className:s()("body-content-overlay",{show:!0===j}),onClick:function(){return E(!1)}})]})}),Object(g.jsx)(X,{store:t,dispatch:e,addEvent:ne,open:o,selectEvent:ie,updateEvent:ce,removeEvent:re,calendarApi:O,refetchEvents:function(){null!==O&&O.refetchEvents()},calendarsColor:oe,handleAddEventSidebar:C})]})}},459:function(e,t,a){},793:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/calendar-illustration.42be42ce.png"}}]);
//# sourceMappingURL=136.fa868882.chunk.js.map