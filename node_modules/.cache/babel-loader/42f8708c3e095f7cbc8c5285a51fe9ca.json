{"ast":null,"code":"// ** Redux Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// ** Axios Imports\nimport axios from'axios';export const getData=createAsyncThunk('permissions/getData',async params=>{const response=await axios.get('/apps/permissions/data',{params});return{total:response.data.total,params:response.data.params,allData:response.data.allData,data:response.data.permissions};});export const addPermission=createAsyncThunk('permissions/addPermission',async(permission,_ref)=>{let{dispatch,getState}=_ref;await axios.post('/apps/permissions/add-permission',{permission});await dispatch(getData(getState().permissions.params));return permission;});export const updatePermission=createAsyncThunk('permissions/updatePermission',async(_ref2,_ref3)=>{let{id,name}=_ref2;let{dispatch,getState}=_ref3;await axios.post('/apps/permissions/update-permission',{id,name});await dispatch(getData(getState().permissions.params));return{id,name};});export const deletePermission=createAsyncThunk('permissions/deletePermission',async(id,_ref4)=>{let{dispatch,getState}=_ref4;await axios.delete('/apps/permissions/delete',{id});await dispatch(getData(getState().permissions.params));return id;});export const permissionsSlice=createSlice({name:'permissions',initialState:{data:[],total:1,params:{},allData:[],selected:null},reducers:{selectPermission:(state,action)=>{if(action.payload===null){state.selected=null;}else{state.selected=action.payload;}}},extraReducers:builder=>{builder.addCase(getData.fulfilled,(state,action)=>{state.data=action.payload.data;state.total=action.payload.total;state.params=action.payload.params;state.allData=action.payload.allData;});}});export const{selectPermission}=permissionsSlice.actions;export default permissionsSlice.reducer;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/bitfari-dev/www/src/views/apps/roles-permissions/store/index.js"],"names":["createSlice","createAsyncThunk","axios","getData","params","response","get","total","data","allData","permissions","addPermission","permission","dispatch","getState","post","updatePermission","id","name","deletePermission","delete","permissionsSlice","initialState","selected","reducers","selectPermission","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","reducer"],"mappings":"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","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getData = createAsyncThunk('permissions/getData', async params => {\r\n  const response = await axios.get('/apps/permissions/data', { params })\r\n  return {\r\n    total: response.data.total,\r\n    params: response.data.params,\r\n    allData: response.data.allData,\r\n    data: response.data.permissions\r\n  }\r\n})\r\n\r\nexport const addPermission = createAsyncThunk(\r\n  'permissions/addPermission',\r\n  async (permission, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/add-permission', { permission })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return permission\r\n  }\r\n)\r\n\r\nexport const updatePermission = createAsyncThunk(\r\n  'permissions/updatePermission',\r\n  async ({ id, name }, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/update-permission', { id, name })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return { id, name }\r\n  }\r\n)\r\n\r\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, { dispatch, getState }) => {\r\n  await axios.delete('/apps/permissions/delete', { id })\r\n  await dispatch(getData(getState().permissions.params))\r\n  return id\r\n})\r\n\r\nexport const permissionsSlice = createSlice({\r\n  name: 'permissions',\r\n  initialState: {\r\n    data: [],\r\n    total: 1,\r\n    params: {},\r\n    allData: [],\r\n    selected: null\r\n  },\r\n  reducers: {\r\n    selectPermission: (state, action) => {\r\n      if (action.payload === null) {\r\n        state.selected = null\r\n      } else {\r\n        state.selected = action.payload\r\n      }\r\n    }\r\n  },\r\n  extraReducers: builder => {\r\n    builder.addCase(getData.fulfilled, (state, action) => {\r\n      state.data = action.payload.data\r\n      state.total = action.payload.total\r\n      state.params = action.payload.params\r\n      state.allData = action.payload.allData\r\n    })\r\n  }\r\n})\r\n\r\nexport const { selectPermission } = permissionsSlice.actions\r\n\r\nexport default permissionsSlice.reducer\r\n"]},"metadata":{},"sourceType":"module"}