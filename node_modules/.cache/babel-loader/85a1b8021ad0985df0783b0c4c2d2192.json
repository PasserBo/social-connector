{"ast":null,"code":"// ** React Imports\nimport{Fragment,useState}from'react';// ** Reactstrap Imports\nimport{Row,Col,Card,Form,Modal,Badge,Label,Input,Button,CardBody,CardTitle,ModalBody,CardHeader,InputGroup,ModalHeader,FormFeedback,InputGroupText}from'reactstrap';// ** Third Party Components\nimport classnames from'classnames';import Cleave from'cleave.js/react';import{Plus,Check,X}from'react-feather';import{useForm,Controller}from'react-hook-form';// ** Card Images\nimport jcbCC from'@src/assets/images/icons/payments/jcb-cc.png';import amexCC from'@src/assets/images/icons/payments/amex-cc.png';import uatpCC from'@src/assets/images/icons/payments/uatp-cc.png';import visaCC from'@src/assets/images/icons/payments/visa-cc.png';import dinersCC from'@src/assets/images/icons/payments/diners-cc.png';import maestroCC from'@src/assets/images/icons/payments/maestro-cc.png';import discoverCC from'@src/assets/images/icons/payments/discover-cc.png';import mastercardCC from'@src/assets/images/icons/payments/mastercard-cc.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const cardsObj={jcb:jcbCC,uatp:uatpCC,visa:visaCC,amex:amexCC,diners:dinersCC,maestro:maestroCC,discover:discoverCC,mastercard:mastercardCC};const data=[{cardCvc:'587',name:'Tom McBride',expiryDate:'12/24',imgAlt:'Mastercard',badgeColor:'primary',cardStatus:'Primary',cardNumber:'5577 0000 5577 9865',imgSrc:require('@src/assets/images/icons/payments/mastercard.png').default},{cardCvc:'681',imgAlt:'Visa card',expiryDate:'02/24',name:'Mildred Wagner',cardNumber:'4532 3616 2070 5678',imgSrc:require('@src/assets/images/icons/payments/visa.png').default},{cardCvc:'3845',expiryDate:'08/20',badgeColor:'error',cardStatus:'Expired',name:'Lester Jennings',imgAlt:'American Express card',cardNumber:'3700 000000 00002',imgSrc:require('@src/assets/images/icons/payments/american-ex.png').default}];const PaymentMethods=()=>{// ** States\nconst[show,setShow]=useState(false);const[cardType,setCardType]=useState('');const[selected,setSelected]=useState(null);// ** Hooks\nconst{reset,control,setError,setValue,handleSubmit,formState:{errors}}=useForm({cardNumber:''});const selectedCondition=selected!==null;const openEditModal=card=>{setValue('cardNumber',card.cardNumber);setSelected(card);setShow(true);};const openAddModal=()=>{setSelected(null);setShow(true);};const onSubmit=data=>{if(data.cardNumber.length>0){setShow(show);}else{if(data.cardNumber.length===0){setError('cardNumber',{type:'manual'});}}};const onModalClosed=()=>{reset();setCardType('');setSelected(null);setShow(false);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Payment Methods\"}),/*#__PURE__*/_jsxs(Button,{color:\"primary\",size:\"sm\",onClick:openAddModal,children:[/*#__PURE__*/_jsx(Plus,{className:\"me-50\",size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Card\"})]})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"div\",{className:\"added-cards\",children:data.map((card,index)=>{const isLastCard=index===data.length-1;return/*#__PURE__*/_jsx(\"div\",{className:classnames('cardMaster rounded border p-2',{'mb-1':!isLastCard}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between flex-sm-row flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-information\",children:[/*#__PURE__*/_jsx(\"img\",{src:card.imgSrc,alt:card.imgAlt,className:\"mb-1 img-fluid\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-50\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:card.name}),index===0&&/*#__PURE__*/_jsx(Badge,{color:\"light-primary\",className:\"ms-50\",children:\"Primary\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"card-number \",children:[\"**** **** **** \",card.cardNumber.substring(card.cardNumber.length-4)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column text-start text-lg-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex order-sm-0 order-1 mt-1 mt-sm-0\",children:[/*#__PURE__*/_jsx(Button,{outline:true,color:\"primary\",className:\"me-75\",onClick:()=>openEditModal(card),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{outline:true,children:\"Delete\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"mt-2\",children:[\"Card expires at \",card.expiryDate]})]})]})},index);})})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:show,toggle:()=>setShow(!show),className:\"modal-dialog-centered\",onClosed:onModalClosed,children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"bg-transparent\",toggle:()=>setShow(!show)}),/*#__PURE__*/_jsxs(ModalBody,{className:\"px-sm-5 mx-50 pb-5\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center mb-1\",children:[selectedCondition?'Edit':'Add New',\" Card\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:selectedCondition?'Edit your saved card details':'Add card for future billing'}),/*#__PURE__*/_jsxs(Row,{tag:Form,className:\"gy-1 gx-2 mt-75\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"credit-card\",children:\"Card Number\"}),/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-merge\",children:[/*#__PURE__*/_jsx(Controller,{name:\"cardNumber\",control:control,render:_ref=>{let{field}=_ref;return/*#__PURE__*/_jsx(Cleave,{...field,id:\"credit-card\",placeholder:\"1356 3215 6548 7898\",className:classnames('form-control',{'is-invalid':errors.cardNumber}),options:{creditCard:true,onCreditCardTypeChanged:type=>{setCardType(type);}}});}}),cardType!==''&&cardType!=='unknown'?/*#__PURE__*/_jsx(InputGroupText,{className:\"cursor-pointer p-25\",children:/*#__PURE__*/_jsx(\"img\",{height:\"24\",alt:\"card-type\",src:cardsObj[cardType]})}):null]}),errors.cardNumber&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:\"Please enter a valid card number\"})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"card-name\",children:\"Name On Card\"}),/*#__PURE__*/_jsx(Input,{id:\"card-name\",placeholder:\"John Doe\",defaultValue:selectedCondition?selected.name:''})]}),/*#__PURE__*/_jsxs(Col,{xs:6,md:3,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"exp-date\",children:\"Exp. Date\"}),/*#__PURE__*/_jsx(Cleave,{id:\"exp-date\",placeholder:\"MM/YY\",className:\"form-control\",options:{delimiter:'/',blocks:[2,2]},value:selectedCondition?selected.expiryDate:''})]}),/*#__PURE__*/_jsxs(Col,{xs:6,md:3,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"cvv\",children:\"CVV\"}),/*#__PURE__*/_jsx(Cleave,{id:\"cvv\",placeholder:\"654\",className:\"form-control\",options:{blocks:[3]},value:selectedCondition?selected.cardCvc:''})]}),/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-switch w-100\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"switch\",name:\"save-card\",id:\"save-card\"}),/*#__PURE__*/_jsxs(Label,{className:\"form-check-label\",for:\"save-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"switch-icon-left\",children:/*#__PURE__*/_jsx(Check,{size:14})}),/*#__PURE__*/_jsx(\"span\",{className:\"switch-icon-right\",children:/*#__PURE__*/_jsx(X,{size:14})})]}),/*#__PURE__*/_jsx(Label,{className:\"fw-bolder ms-1\",for:\"save-card\",children:\"Save Card for future billing?\"})]})})}),/*#__PURE__*/_jsxs(Col,{className:\"text-center mt-1\",xs:12,children:[/*#__PURE__*/_jsx(Button,{className:\"mt-1 me-1\",color:\"primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{className:\"mt-1\",color:\"secondary\",outline:true,onClick:onModalClosed,children:\"Cancel\"})]})]})]})]})]});};export default PaymentMethods;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/react-version/full-version/src/views/apps/user/view/PaymentMethods.js"],"names":["Fragment","useState","Row","Col","Card","Form","Modal","Badge","Label","Input","Button","CardBody","CardTitle","ModalBody","CardHeader","InputGroup","ModalHeader","FormFeedback","InputGroupText","classnames","Cleave","Plus","Check","X","useForm","Controller","jcbCC","amexCC","uatpCC","visaCC","dinersCC","maestroCC","discoverCC","mastercardCC","cardsObj","jcb","uatp","visa","amex","diners","maestro","discover","mastercard","data","cardCvc","name","expiryDate","imgAlt","badgeColor","cardStatus","cardNumber","imgSrc","require","default","PaymentMethods","show","setShow","cardType","setCardType","selected","setSelected","reset","control","setError","setValue","handleSubmit","formState","errors","selectedCondition","openEditModal","card","openAddModal","onSubmit","length","type","onModalClosed","map","index","isLastCard","substring","field","creditCard","onCreditCardTypeChanged","delimiter","blocks"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form,\r\n  Modal,\r\n  Badge,\r\n  Label,\r\n  Input,\r\n  Button,\r\n  CardBody,\r\n  CardTitle,\r\n  ModalBody,\r\n  CardHeader,\r\n  InputGroup,\r\n  ModalHeader,\r\n  FormFeedback,\r\n  InputGroupText\r\n} from 'reactstrap'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport Cleave from 'cleave.js/react'\r\nimport { Plus, Check, X } from 'react-feather'\r\nimport { useForm, Controller } from 'react-hook-form'\r\n\r\n// ** Card Images\r\nimport jcbCC from '@src/assets/images/icons/payments/jcb-cc.png'\r\nimport amexCC from '@src/assets/images/icons/payments/amex-cc.png'\r\nimport uatpCC from '@src/assets/images/icons/payments/uatp-cc.png'\r\nimport visaCC from '@src/assets/images/icons/payments/visa-cc.png'\r\nimport dinersCC from '@src/assets/images/icons/payments/diners-cc.png'\r\nimport maestroCC from '@src/assets/images/icons/payments/maestro-cc.png'\r\nimport discoverCC from '@src/assets/images/icons/payments/discover-cc.png'\r\nimport mastercardCC from '@src/assets/images/icons/payments/mastercard-cc.png'\r\n\r\nconst cardsObj = {\r\n  jcb: jcbCC,\r\n  uatp: uatpCC,\r\n  visa: visaCC,\r\n  amex: amexCC,\r\n  diners: dinersCC,\r\n  maestro: maestroCC,\r\n  discover: discoverCC,\r\n  mastercard: mastercardCC\r\n}\r\n\r\nconst data = [\r\n  {\r\n    cardCvc: '587',\r\n    name: 'Tom McBride',\r\n    expiryDate: '12/24',\r\n    imgAlt: 'Mastercard',\r\n    badgeColor: 'primary',\r\n    cardStatus: 'Primary',\r\n    cardNumber: '5577 0000 5577 9865',\r\n    imgSrc: require('@src/assets/images/icons/payments/mastercard.png').default\r\n  },\r\n  {\r\n    cardCvc: '681',\r\n    imgAlt: 'Visa card',\r\n    expiryDate: '02/24',\r\n    name: 'Mildred Wagner',\r\n    cardNumber: '4532 3616 2070 5678',\r\n    imgSrc: require('@src/assets/images/icons/payments/visa.png').default\r\n  },\r\n  {\r\n    cardCvc: '3845',\r\n    expiryDate: '08/20',\r\n    badgeColor: 'error',\r\n    cardStatus: 'Expired',\r\n    name: 'Lester Jennings',\r\n    imgAlt: 'American Express card',\r\n    cardNumber: '3700 000000 00002',\r\n    imgSrc: require('@src/assets/images/icons/payments/american-ex.png').default\r\n  }\r\n]\r\n\r\nconst PaymentMethods = () => {\r\n  // ** States\r\n  const [show, setShow] = useState(false)\r\n  const [cardType, setCardType] = useState('')\r\n  const [selected, setSelected] = useState(null)\r\n\r\n  // ** Hooks\r\n  const {\r\n    reset,\r\n    control,\r\n    setError,\r\n    setValue,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({ cardNumber: '' })\r\n\r\n  const selectedCondition = selected !== null\r\n\r\n  const openEditModal = card => {\r\n    setValue('cardNumber', card.cardNumber)\r\n    setSelected(card)\r\n    setShow(true)\r\n  }\r\n\r\n  const openAddModal = () => {\r\n    setSelected(null)\r\n    setShow(true)\r\n  }\r\n\r\n  const onSubmit = data => {\r\n    if (data.cardNumber.length > 0) {\r\n      setShow(show)\r\n    } else {\r\n      if (data.cardNumber.length === 0) {\r\n        setError('cardNumber', {\r\n          type: 'manual'\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const onModalClosed = () => {\r\n    reset()\r\n    setCardType('')\r\n    setSelected(null)\r\n    setShow(false)\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle tag='h4'>Payment Methods</CardTitle>\r\n          <Button color='primary' size='sm' onClick={openAddModal}>\r\n            <Plus className='me-50' size={14} />\r\n            <span>Add Card</span>\r\n          </Button>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <div className='added-cards'>\r\n            {data.map((card, index) => {\r\n              const isLastCard = index === data.length - 1\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={classnames('cardMaster rounded border p-2', {\r\n                    'mb-1': !isLastCard\r\n                  })}\r\n                >\r\n                  <div className='d-flex justify-content-between flex-sm-row flex-column'>\r\n                    <div className='card-information'>\r\n                      <img src={card.imgSrc} alt={card.imgAlt} className='mb-1 img-fluid' />\r\n                      <div className='d-flex align-items-center mb-50'>\r\n                        <h6 className='mb-0'>{card.name}</h6>\r\n                        {index === 0 && (\r\n                          <Badge color='light-primary' className='ms-50'>\r\n                            Primary\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                      <span className='card-number '>\r\n                        **** **** **** {card.cardNumber.substring(card.cardNumber.length - 4)}\r\n                      </span>\r\n                    </div>\r\n                    <div className='d-flex flex-column text-start text-lg-end'>\r\n                      <div className='d-flex order-sm-0 order-1 mt-1 mt-sm-0'>\r\n                        <Button outline color='primary' className='me-75' onClick={() => openEditModal(card)}>\r\n                          Edit\r\n                        </Button>\r\n                        <Button outline>Delete</Button>\r\n                      </div>\r\n                      <span className='mt-2'>Card expires at {card.expiryDate}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n      <Modal isOpen={show} toggle={() => setShow(!show)} className='modal-dialog-centered' onClosed={onModalClosed}>\r\n        <ModalHeader className='bg-transparent' toggle={() => setShow(!show)}></ModalHeader>\r\n        <ModalBody className='px-sm-5 mx-50 pb-5'>\r\n          <h1 className='text-center mb-1'>{selectedCondition ? 'Edit' : 'Add New'} Card</h1>\r\n          <p className='text-center'>\r\n            {selectedCondition ? 'Edit your saved card details' : 'Add card for future billing'}\r\n          </p>\r\n          <Row tag={Form} className='gy-1 gx-2 mt-75' onSubmit={handleSubmit(onSubmit)}>\r\n            <Col xs={12}>\r\n              <Label className='form-label' for='credit-card'>\r\n                Card Number\r\n              </Label>\r\n              <InputGroup className='input-group-merge'>\r\n                <Controller\r\n                  name='cardNumber'\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <Cleave\r\n                      {...field}\r\n                      id='credit-card'\r\n                      placeholder='1356 3215 6548 7898'\r\n                      className={classnames('form-control', { 'is-invalid': errors.cardNumber })}\r\n                      options={{\r\n                        creditCard: true,\r\n                        onCreditCardTypeChanged: type => {\r\n                          setCardType(type)\r\n                        }\r\n                      }}\r\n                    />\r\n                  )}\r\n                />\r\n                {cardType !== '' && cardType !== 'unknown' ? (\r\n                  <InputGroupText className='cursor-pointer p-25'>\r\n                    <img height='24' alt='card-type' src={cardsObj[cardType]} />\r\n                  </InputGroupText>\r\n                ) : null}\r\n              </InputGroup>\r\n              {errors.cardNumber && <FormFeedback className='d-block'>Please enter a valid card number</FormFeedback>}\r\n            </Col>\r\n            <Col md={6}>\r\n              <Label className='form-label' for='card-name'>\r\n                Name On Card\r\n              </Label>\r\n              <Input id='card-name' placeholder='John Doe' defaultValue={selectedCondition ? selected.name : ''} />\r\n            </Col>\r\n            <Col xs={6} md={3}>\r\n              <Label className='form-label' for='exp-date'>\r\n                Exp. Date\r\n              </Label>\r\n              <Cleave\r\n                id='exp-date'\r\n                placeholder='MM/YY'\r\n                className='form-control'\r\n                options={{ delimiter: '/', blocks: [2, 2] }}\r\n                value={selectedCondition ? selected.expiryDate : ''}\r\n              />\r\n            </Col>\r\n            <Col xs={6} md={3}>\r\n              <Label className='form-label' for='cvv'>\r\n                CVV\r\n              </Label>\r\n              <Cleave\r\n                id='cvv'\r\n                placeholder='654'\r\n                className='form-control'\r\n                options={{ blocks: [3] }}\r\n                value={selectedCondition ? selected.cardCvc : ''}\r\n              />\r\n            </Col>\r\n            <Col xs={12}>\r\n              <div className='d-flex align-items-center'>\r\n                <div className='form-switch w-100'>\r\n                  <Input defaultChecked type='switch' name='save-card' id='save-card' />\r\n                  <Label className='form-check-label' for='save-card'>\r\n                    <span className='switch-icon-left'>\r\n                      <Check size={14} />\r\n                    </span>\r\n                    <span className='switch-icon-right'>\r\n                      <X size={14} />\r\n                    </span>\r\n                  </Label>\r\n                  <Label className='fw-bolder ms-1' for='save-card'>\r\n                    Save Card for future billing?\r\n                  </Label>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col className='text-center mt-1' xs={12}>\r\n              <Button className='mt-1 me-1' color='primary'>\r\n                Submit\r\n              </Button>\r\n              <Button className='mt-1' color='secondary' outline onClick={onModalClosed}>\r\n                Cancel\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default PaymentMethods\r\n"]},"metadata":{},"sourceType":"module"}