{"ast":null,"code":"import _slicedToArray from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{findDOMNode}from'react-dom';import{useState,useEffect,useRef}from'react';// ** Reactstrap Imports\nimport{Card,CardTitle,CardHeader,CardBody,Row,Col,Table,Button,Progress,Input}from'reactstrap';// ** Third Party Components\nimport Prism from'prismjs';import screenfull from'screenfull';import ReactPlayer from'react-player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var pad=function pad(string){return\"0\".concat(string).slice(-2);};var format=function format(seconds){var date=new Date(seconds*1000);var hh=date.getUTCHours();var mm=date.getUTCMinutes();var ss=pad(date.getUTCSeconds());if(hh){return\"\".concat(hh,\":\").concat(pad(mm),\":\").concat(ss);}return\"\".concat(mm,\":\").concat(ss);};var MediaPlayerControlledVideo=function MediaPlayerControlledVideo(){// ** Ref\nvar videoRef=useRef(null);// ** Vars\nvar urlLink='http://youtube.com/watch?v=FCPdIvXo2rU';// ** States\nvar _useState=useState(urlLink),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),played=_useState4[0],setPlayed=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loop=_useState8[0],setLoop=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),muted=_useState10[0],setMuted=_useState10[1];var _useState11=useState(0.75),_useState12=_slicedToArray(_useState11,2),volume=_useState12[0],setVolume=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),duration=_useState14[0],setDuration=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),seeking=_useState16[0],setSeeking=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),playing=_useState18[0],setPlaying=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),controls=_useState20[0],setControls=_useState20[1];var _useState21=useState(1.0),_useState22=_slicedToArray(_useState21,2),playbackRate=_useState22[0],setPlaybackRate=_useState22[1];useEffect(function(){Prism.highlightAll();});var load=function load(url){setUrl(url);setPlayed(0);setLoaded(0);};var handlePlayPause=function handlePlayPause(){return setPlaying(!playing);};var handleStop=function handleStop(){setPlaying(false);setUrl(null);};var handleToggleControls=function handleToggleControls(){setControls(!controls);setUrl(null);};useEffect(function(){if(url===null){load(urlLink);}});var handleToggleLoop=function handleToggleLoop(){return setLoop(!loop);};var handleVolumeChange=function handleVolumeChange(e){return setVolume(parseFloat(e.target.value));};var handleToggleMuted=function handleToggleMuted(){return setMuted(!muted);};var handlePlaybackRate=function handlePlaybackRate(e){return setPlaybackRate(parseFloat(e.target.value));};var handlePlay=function handlePlay(){return setPlaying(true);};var handlePause=function handlePause(){return setPlaying(false);};var handleSeekMouseDown=function handleSeekMouseDown(){return setSeeking(true);};var handleSeekChange=function handleSeekChange(e){setPlayed(parseFloat(e.target.value));};var handleSeekMouseUp=function handleSeekMouseUp(e){setSeeking(false);videoRef.current.seekTo(parseFloat(e.target.value));};var handleProgress=function handleProgress(state){if(!seeking){setPlayed(state.played);setLoaded(state.loaded);}};var handleEnded=function handleEnded(){return setPlaying(loop);};var handleDuration=function handleDuration(duration){return setDuration(duration);};var handleFullscreen=function handleFullscreen(){screenfull.request(findDOMNode(videoRef.current));};// for duration, elapsed and remaining time\nvar Duration=function Duration(_ref){var className=_ref.className,seconds=_ref.seconds;return/*#__PURE__*/_jsx(\"time\",{dateTime:\"P\".concat(Math.round(seconds),\"S\"),className:className,children:format(seconds)});};var preDuration=/*#__PURE__*/_jsx(Duration,{seconds:duration});var preElapsed=/*#__PURE__*/_jsx(Duration,{seconds:duration*played});var preRemaining=/*#__PURE__*/_jsx(Duration,{seconds:duration*(1-played)});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Controlled Video\"})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(ReactPlayer,{ref:videoRef,url:url,className:\"react-player-video\",width:\"100%\",playing:playing,controls:controls,loop:loop,playbackRate:playbackRate,volume:volume,muted:muted,onPlay:handlePlay,onPause:handlePause,onEnded:handleEnded,onProgress:handleProgress,onDuration:handleDuration,config:{youtube:{embedOptions:{'allow-same-origin':true}}}})})})}),/*#__PURE__*/_jsx(Table,{borderless:true,children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Controls\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handleStop,className:\"my-25 me-50\",children:\"Stop\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handlePlayPause,className:\"my-25 me-50\",children:playing?'Pause':'Play'}),/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handleFullscreen,className:\"my-25\",children:\"Fullscreen\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Speed\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handlePlaybackRate,value:1,className:\"my-25 me-50\",active:playbackRate===1,children:\"1x\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handlePlaybackRate,value:1.5,className:\"my-25 me-50\",active:playbackRate===1.5,children:\"1.5x\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",outline:true,onClick:handlePlaybackRate,value:2,active:playbackRate===2,children:\"2x\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Seek\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:0,max:0.999999,step:\"any\",value:played,onMouseDown:handleSeekMouseDown,onChange:handleSeekChange,onMouseUp:handleSeekMouseUp})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Volume\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:0,max:1,step:\"any\",value:volume,onChange:handleVolumeChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Controls\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"videoControls\",checked:controls,onChange:handleToggleControls})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Muted\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"videoMuted\",checked:muted,onChange:handleToggleMuted})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Loop\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"videoLoop\",checked:loop,onChange:handleToggleLoop})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Played\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Progress,{value:played,max:1})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:\"Loaded\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Progress,{value:loaded,max:1})})]})]})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(\"pre\",{className:\"language-js\",children:/*#__PURE__*/_jsx(\"code\",{className:\"language-js\",children:\"state={\\n  playing: \".concat(playing,\",\\n  volume: \").concat(volume.toFixed(2),\",\\n  played: \").concat(played.toFixed(2),\",\\n  loaded: \").concat(loaded.toFixed(2),\",\\n  duration: \").concat(format(preDuration.props.seconds),\",\\n  elapsed: \").concat(format(preElapsed.props.seconds),\",\\n  remaining: \").concat(format(preRemaining.props.seconds),\"\\n}\\n\")})})})})})]});};export default MediaPlayerControlledVideo;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/src/views/extensions/react-player/MediaPlayerControlled.js"],"names":["findDOMNode","useState","useEffect","useRef","Card","CardTitle","CardHeader","CardBody","Row","Col","Table","Button","Progress","Input","Prism","screenfull","ReactPlayer","pad","string","slice","format","seconds","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","MediaPlayerControlledVideo","videoRef","urlLink","url","setUrl","played","setPlayed","loaded","setLoaded","loop","setLoop","muted","setMuted","volume","setVolume","duration","setDuration","seeking","setSeeking","playing","setPlaying","controls","setControls","playbackRate","setPlaybackRate","highlightAll","load","handlePlayPause","handleStop","handleToggleControls","handleToggleLoop","handleVolumeChange","e","parseFloat","target","value","handleToggleMuted","handlePlaybackRate","handlePlay","handlePause","handleSeekMouseDown","handleSeekChange","handleSeekMouseUp","current","seekTo","handleProgress","state","handleEnded","handleDuration","handleFullscreen","request","Duration","className","Math","round","preDuration","preElapsed","preRemaining","youtube","embedOptions","toFixed","props"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { findDOMNode } from 'react-dom'\r\nimport { useState, useEffect, useRef } from 'react'\r\n\r\n// ** Reactstrap Imports\r\nimport { Card, CardTitle, CardHeader, CardBody, Row, Col, Table, Button, Progress, Input } from 'reactstrap'\r\n\r\n// ** Third Party Components\r\nimport Prism from 'prismjs'\r\nimport screenfull from 'screenfull'\r\nimport ReactPlayer from 'react-player'\r\n\r\nconst pad = string => {\r\n  return `0${string}`.slice(-2)\r\n}\r\nconst format = seconds => {\r\n  const date = new Date(seconds * 1000)\r\n  const hh = date.getUTCHours()\r\n  const mm = date.getUTCMinutes()\r\n  const ss = pad(date.getUTCSeconds())\r\n  if (hh) {\r\n    return `${hh}:${pad(mm)}:${ss}`\r\n  }\r\n  return `${mm}:${ss}`\r\n}\r\n\r\nconst MediaPlayerControlledVideo = () => {\r\n  // ** Ref\r\n  const videoRef = useRef(null)\r\n\r\n  // ** Vars\r\n  const urlLink = 'http://youtube.com/watch?v=FCPdIvXo2rU'\r\n\r\n  // ** States\r\n  const [url, setUrl] = useState(urlLink)\r\n  const [played, setPlayed] = useState(0)\r\n  const [loaded, setLoaded] = useState(0)\r\n  const [loop, setLoop] = useState(false)\r\n  const [muted, setMuted] = useState(false)\r\n  const [volume, setVolume] = useState(0.75)\r\n  const [duration, setDuration] = useState(0)\r\n  const [seeking, setSeeking] = useState(null)\r\n  const [playing, setPlaying] = useState(false)\r\n  const [controls, setControls] = useState(false)\r\n  const [playbackRate, setPlaybackRate] = useState(1.0)\r\n\r\n  useEffect(() => {\r\n    Prism.highlightAll()\r\n  })\r\n\r\n  const load = url => {\r\n    setUrl(url)\r\n    setPlayed(0)\r\n    setLoaded(0)\r\n  }\r\n  const handlePlayPause = () => setPlaying(!playing)\r\n  const handleStop = () => {\r\n    setPlaying(false)\r\n    setUrl(null)\r\n  }\r\n  const handleToggleControls = () => {\r\n    setControls(!controls)\r\n    setUrl(null)\r\n  }\r\n  useEffect(() => {\r\n    if (url === null) {\r\n      load(urlLink)\r\n    }\r\n  })\r\n  const handleToggleLoop = () => setLoop(!loop)\r\n  const handleVolumeChange = e => setVolume(parseFloat(e.target.value))\r\n  const handleToggleMuted = () => setMuted(!muted)\r\n  const handlePlaybackRate = e => setPlaybackRate(parseFloat(e.target.value))\r\n  const handlePlay = () => setPlaying(true)\r\n  const handlePause = () => setPlaying(false)\r\n  const handleSeekMouseDown = () => setSeeking(true)\r\n  const handleSeekChange = e => {\r\n    setPlayed(parseFloat(e.target.value))\r\n  }\r\n  const handleSeekMouseUp = e => {\r\n    setSeeking(false)\r\n    videoRef.current.seekTo(parseFloat(e.target.value))\r\n  }\r\n  const handleProgress = state => {\r\n    if (!seeking) {\r\n      setPlayed(state.played)\r\n      setLoaded(state.loaded)\r\n    }\r\n  }\r\n  const handleEnded = () => setPlaying(loop)\r\n  const handleDuration = duration => setDuration(duration)\r\n  const handleFullscreen = () => {\r\n    screenfull.request(findDOMNode(videoRef.current))\r\n  }\r\n\r\n  // for duration, elapsed and remaining time\r\n  const Duration = ({ className, seconds }) => {\r\n    return (\r\n      <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n        {format(seconds)}\r\n      </time>\r\n    )\r\n  }\r\n  const preDuration = <Duration seconds={duration}></Duration>\r\n  const preElapsed = <Duration seconds={duration * played}></Duration>\r\n  const preRemaining = <Duration seconds={duration * (1 - played)}></Duration>\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle tag='h4'>Controlled Video</CardTitle>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <Row>\r\n          <Col xs={12}>\r\n            <ReactPlayer\r\n              ref={videoRef}\r\n              url={url}\r\n              className='react-player-video'\r\n              width='100%'\r\n              playing={playing}\r\n              controls={controls}\r\n              loop={loop}\r\n              playbackRate={playbackRate}\r\n              volume={volume}\r\n              muted={muted}\r\n              onPlay={handlePlay}\r\n              onPause={handlePause}\r\n              onEnded={handleEnded}\r\n              onProgress={handleProgress}\r\n              onDuration={handleDuration}\r\n              config={{\r\n                youtube: {\r\n                  embedOptions: {\r\n                    'allow-same-origin': true\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n      <Table borderless>\r\n        <tbody>\r\n          <tr>\r\n            <td className='text-end'>Controls</td>\r\n            <td>\r\n              <Button color='primary' outline onClick={handleStop} className='my-25 me-50'>\r\n                Stop\r\n              </Button>\r\n              <Button color='primary' outline onClick={handlePlayPause} className='my-25 me-50'>\r\n                {playing ? 'Pause' : 'Play'}\r\n              </Button>\r\n              <Button color='primary' outline onClick={handleFullscreen} className='my-25'>\r\n                Fullscreen\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Speed</td>\r\n            <td>\r\n              <Button\r\n                color='primary'\r\n                outline\r\n                onClick={handlePlaybackRate}\r\n                value={1}\r\n                className='my-25 me-50'\r\n                active={playbackRate === 1}\r\n              >\r\n                1x\r\n              </Button>\r\n              <Button\r\n                color='primary'\r\n                outline\r\n                onClick={handlePlaybackRate}\r\n                value={1.5}\r\n                className='my-25 me-50'\r\n                active={playbackRate === 1.5}\r\n              >\r\n                1.5x\r\n              </Button>\r\n              <Button color='primary' outline onClick={handlePlaybackRate} value={2} active={playbackRate === 2}>\r\n                2x\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Seek</td>\r\n            <td>\r\n              <input\r\n                type='range'\r\n                min={0}\r\n                max={0.999999}\r\n                step='any'\r\n                value={played}\r\n                onMouseDown={handleSeekMouseDown}\r\n                onChange={handleSeekChange}\r\n                onMouseUp={handleSeekMouseUp}\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Volume</td>\r\n            <td>\r\n              <input type='range' min={0} max={1} step='any' value={volume} onChange={handleVolumeChange} />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Controls</td>\r\n            <td>\r\n              <div className='form-check'>\r\n                <Input type='checkbox' id='videoControls' checked={controls} onChange={handleToggleControls} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Muted</td>\r\n            <td>\r\n              <div className='form-check'>\r\n                <Input type='checkbox' id='videoMuted' checked={muted} onChange={handleToggleMuted} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Loop</td>\r\n            <td>\r\n              <div className='form-check'>\r\n                <Input type='checkbox' id='videoLoop' checked={loop} onChange={handleToggleLoop} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Played</td>\r\n            <td>\r\n              <Progress value={played} max={1} />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className='text-end'>Loaded</td>\r\n            <td>\r\n              <Progress value={loaded} max={1} />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n\r\n      <CardBody>\r\n        <Row>\r\n          <Col xs={12}>\r\n            <pre className='language-js'>\r\n              <code className='language-js'>\r\n                {`state={\r\n  playing: ${playing},\r\n  volume: ${volume.toFixed(2)},\r\n  played: ${played.toFixed(2)},\r\n  loaded: ${loaded.toFixed(2)},\r\n  duration: ${format(preDuration.props.seconds)},\r\n  elapsed: ${format(preElapsed.props.seconds)},\r\n  remaining: ${format(preRemaining.props.seconds)}\r\n}\r\n`}\r\n              </code>\r\n            </pre>\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default MediaPlayerControlledVideo\r\n"]},"metadata":{},"sourceType":"module"}