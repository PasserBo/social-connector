{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport React__default from 'react';\nimport { Box } from '../box/index.esm.js';\nimport { Flex } from '../flex/index.esm.js';\nimport useOnClickOutside from 'use-onclickoutside';\nvar ModalContext = /*#__PURE__*/React__default.createContext({\n  isOpen: false\n});\n\nvar useModalState = function useModalState() {\n  return React__default.useContext(ModalContext);\n};\n\nvar Header = /*#__PURE__*/React__default.memo(function (_ref) {\n  var component = _ref.component;\n  return component ? React__default.createElement(Box, {\n    borderTopRightRadius: \"6px\",\n    borderTopLeftRadius: \"6px\"\n  }, component) : null;\n});\nvar Footer = /*#__PURE__*/React__default.memo(function (_ref2) {\n  var component = _ref2.component;\n  return component ? React__default.createElement(Box, {\n    borderBottomRightRadius: \"6px\",\n    borderBottomLeftRadius: \"6px\"\n  }, component) : null;\n});\n\nvar ModalUnderlay = function ModalUnderlay(_ref3) {\n  var isOpen = _ref3.isOpen,\n      noAnimation = _ref3.noAnimation;\n  return React__default.createElement(Box, {\n    position: \"fixed\",\n    size: \"100%\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    bg: \"rgba(0,0,0,\" + (isOpen ? '0.48' : '0') + \")\",\n    transition: noAnimation ? 'unset' : 'all 0.15s',\n    zIndex: 99999,\n    style: {\n      userSelect: isOpen ? 'unset' : 'none',\n      pointerEvents: isOpen ? 'unset' : 'none',\n      willChange: 'background'\n    }\n  });\n};\n\nvar ModalWrapper = function ModalWrapper(_ref4) {\n  var isOpen = _ref4.isOpen,\n      rest = _objectWithoutPropertiesLoose(_ref4, [\"isOpen\"]);\n\n  return React__default.createElement(Flex, Object.assign({\n    zIndex: 999999,\n    position: \"fixed\",\n    bottom: [0, 'unset'],\n    width: \"100%\",\n    top: 0,\n    left: 0,\n    height: \"100%\",\n    maxHeight: ['100vh', 'unset'],\n    alignItems: \"center\",\n    justifyContent: ['flex-end', 'center'],\n    flexDirection: \"column\",\n    opacity: isOpen ? 1 : 0,\n    style: {\n      userSelect: isOpen ? 'unset' : 'none',\n      pointerEvents: isOpen ? 'unset' : 'none'\n    }\n  }, rest));\n};\n\nvar ModalCardContainer = /*#__PURE__*/React__default.forwardRef(function (_ref5, ref) {\n  var noAnimation = _ref5.noAnimation,\n      isOpen = _ref5.isOpen,\n      rest = _objectWithoutPropertiesLoose(_ref5, [\"noAnimation\", \"isOpen\"]);\n\n  return React__default.createElement(Flex, Object.assign({\n    flexDirection: \"column\",\n    position: \"relative\",\n    bg: \"white\",\n    mx: \"auto\",\n    minWidth: ['100%', '396px'],\n    maxWidth: ['100%', '396px'],\n    maxHeight: ['100%', 'calc(100% - 48px)'],\n    borderRadius: ['unset', '6px'],\n    boxShadow: \"high\",\n    transform: noAnimation ? 'translateY(0px)' : isOpen ? 'translateY(0px)' : 'translateY(15px)',\n    transition: noAnimation ? 'unset' : 'all 0.2s ease-in-out',\n    style: {\n      willChange: 'transform'\n    },\n    ref: ref\n  }, rest));\n});\nvar Modal = /*#__PURE__*/React__default.memo(function (_ref6) {\n  var _ref6$footerComponent = _ref6.footerComponent,\n      FooterComponent = _ref6$footerComponent === void 0 ? null : _ref6$footerComponent,\n      _ref6$headerComponent = _ref6.headerComponent,\n      HeaderComponent = _ref6$headerComponent === void 0 ? null : _ref6$headerComponent,\n      _ref6$isOpen = _ref6.isOpen,\n      isOpen = _ref6$isOpen === void 0 ? false : _ref6$isOpen,\n      children = _ref6.children,\n      _ref6$noAnimation = _ref6.noAnimation,\n      noAnimation = _ref6$noAnimation === void 0 ? false : _ref6$noAnimation,\n      close = _ref6.close,\n      props = _objectWithoutPropertiesLoose(_ref6, [\"footerComponent\", \"headerComponent\", \"isOpen\", \"children\", \"noAnimation\", \"close\"]);\n\n  var _useModalState = useModalState(),\n      doCloseModal = _useModalState.doCloseModal;\n\n  var ref = React__default.useRef(null);\n  React__default.useEffect(function () {\n    var func = function func(event) {\n      if (event.key === 'Escape') {\n        if (close) {\n          close();\n        } else if (doCloseModal) {\n          doCloseModal();\n        }\n      }\n    };\n\n    if (isOpen) {\n      var _window, _window$document;\n\n      typeof window !== 'undefined' && ((_window = window) === null || _window === void 0 ? void 0 : (_window$document = _window.document) === null || _window$document === void 0 ? void 0 : _window$document.createElement) && document.addEventListener('keydown', func);\n    }\n\n    return function () {\n      var _window2, _window2$document;\n\n      typeof window !== 'undefined' && ((_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$document = _window2.document) === null || _window2$document === void 0 ? void 0 : _window2$document.createElement) && document.removeEventListener('keydown', func);\n    };\n  }, [isOpen, close]);\n  var handler = isOpen ? close || doCloseModal || null : null;\n  useOnClickOutside(ref, handler);\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(ModalUnderlay, {\n    isOpen: isOpen,\n    noAnimation: noAnimation\n  }), React__default.createElement(ModalWrapper, {\n    isOpen: isOpen\n  }, React__default.createElement(ModalCardContainer, Object.assign({\n    ref: ref,\n    isOpen: isOpen,\n    noAnimation: noAnimation\n  }, props), React__default.createElement(Header, {\n    component: HeaderComponent\n  }), React__default.createElement(Box, {\n    overflowY: \"auto\"\n  }, children), React__default.createElement(Footer, {\n    component: FooterComponent\n  }))));\n});\n\nvar ModalProvider = function ModalProvider(props) {\n  var _React$useState = React__default.useState(false),\n      isOpen = _React$useState[0],\n      setIsOpen = _React$useState[1];\n\n  var doOpenModal = function doOpenModal() {\n    return !isOpen ? setIsOpen(true) : null;\n  };\n\n  var doCloseModal = function doCloseModal() {\n    return isOpen ? setIsOpen(false) : null;\n  };\n\n  return React__default.createElement(ModalContext.Provider, {\n    value: {\n      isOpen: isOpen,\n      doOpenModal: doOpenModal,\n      doCloseModal: doCloseModal\n    }\n  }, props.children);\n};\n\nexport { Modal, ModalProvider, useModalState };","map":{"version":3,"sources":["../../src/modal/index.tsx"],"names":["ModalContext","isOpen","useModalState","React","Header","component","borderTopRightRadius","borderTopLeftRadius","Footer","borderBottomRightRadius","borderBottomLeftRadius","ModalUnderlay","noAnimation","position","size","left","right","top","bottom","bg","transition","zIndex","style","userSelect","pointerEvents","willChange","ModalWrapper","rest","width","height","maxHeight","alignItems","justifyContent","flexDirection","opacity","ModalCardContainer","mx","minWidth","maxWidth","borderRadius","boxShadow","transform","ref","Modal","footerComponent","FooterComponent","headerComponent","HeaderComponent","children","close","props","doCloseModal","func","event","window","document","handler","useOnClickOutside","overflowY","ModalProvider","setIsOpen","doOpenModal","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box } from '../box';\nimport { Flex, FlexProps } from '../flex';\nimport { ModalContextTypes, ModalProps, WrapperComponentProps } from './types';\nimport useOnClickOutside from 'use-onclickoutside';\n\nconst ModalContext = React.createContext<ModalContextTypes>({\n  isOpen: false,\n});\n\nexport const useModalState = () => React.useContext(ModalContext);\n\nconst Header = React.memo(({ component }: WrapperComponentProps) =>\n  component ? (\n    <Box borderTopRightRadius=\"6px\" borderTopLeftRadius=\"6px\">\n      {component}\n    </Box>\n  ) : null\n);\n\nconst Footer = React.memo(({ component }: WrapperComponentProps) =>\n  component ? (\n    <Box borderBottomRightRadius=\"6px\" borderBottomLeftRadius=\"6px\">\n      {component}\n    </Box>\n  ) : null\n);\n\ninterface ModalUnderlayProps {\n  isOpen?: boolean;\n  noAnimation?: boolean;\n}\n\nconst ModalUnderlay = ({ isOpen, noAnimation }: ModalUnderlayProps) => (\n  <Box\n    position=\"fixed\"\n    size=\"100%\"\n    left={0}\n    right={0}\n    top={0}\n    bottom={0}\n    bg={`rgba(0,0,0,${isOpen ? '0.48' : '0'})`}\n    transition={noAnimation ? 'unset' : 'all 0.15s'}\n    zIndex={99999}\n    style={{\n      userSelect: isOpen ? 'unset' : 'none',\n      pointerEvents: isOpen ? 'unset' : 'none',\n      willChange: 'background',\n    }}\n  />\n);\ninterface ModalWrapperProps extends FlexProps {\n  isOpen: boolean;\n}\n\nconst ModalWrapper = ({ isOpen, ...rest }: ModalWrapperProps) => (\n  <Flex\n    zIndex={999999}\n    position=\"fixed\"\n    bottom={[0, 'unset']}\n    width=\"100%\"\n    top={0}\n    left={0}\n    height=\"100%\"\n    maxHeight={['100vh', 'unset']}\n    alignItems=\"center\"\n    justifyContent={['flex-end', 'center']}\n    flexDirection=\"column\"\n    opacity={isOpen ? 1 : 0}\n    style={{\n      userSelect: isOpen ? 'unset' : 'none',\n      pointerEvents: isOpen ? 'unset' : 'none',\n    }}\n    {...rest}\n  />\n);\n\ninterface ModalCardContainerProps extends FlexProps {\n  isOpen: boolean;\n  noAnimation: boolean;\n}\n\nconst ModalCardContainer = React.forwardRef<any, ModalCardContainerProps>(\n  ({ noAnimation, isOpen, ...rest }, ref) => (\n    <Flex\n      flexDirection=\"column\"\n      position=\"relative\"\n      bg=\"white\"\n      mx=\"auto\"\n      minWidth={['100%', '396px']}\n      maxWidth={['100%', '396px']}\n      maxHeight={['100%', 'calc(100% - 48px)']}\n      borderRadius={['unset', '6px']}\n      boxShadow=\"high\"\n      transform={noAnimation ? 'translateY(0px)' : isOpen ? 'translateY(0px)' : 'translateY(15px)'}\n      transition={noAnimation ? 'unset' : 'all 0.2s ease-in-out'}\n      style={{\n        willChange: 'transform',\n      }}\n      ref={ref}\n      {...rest}\n    />\n  )\n);\n\nexport const Modal: React.FC<ModalProps> = React.memo(\n  ({\n    footerComponent: FooterComponent = null,\n    headerComponent: HeaderComponent = null,\n    isOpen = false,\n    children,\n    noAnimation = false,\n    close,\n    ...props\n  }) => {\n    const { doCloseModal } = useModalState();\n    const ref = React.useRef(null);\n\n    React.useEffect(() => {\n      const func = (event: KeyboardEvent) => {\n        if (event.key === 'Escape') {\n          if (close) {\n            close();\n          } else if (doCloseModal) {\n            doCloseModal();\n          }\n        }\n      };\n\n      if (isOpen) {\n        typeof window !== 'undefined' &&\n          window?.document?.createElement &&\n          document.addEventListener('keydown', func);\n      }\n      return () => {\n        typeof window !== 'undefined' &&\n          window?.document?.createElement &&\n          document.removeEventListener('keydown', func);\n      };\n    }, [isOpen, close]);\n\n    const handler = isOpen ? close || doCloseModal || null : null;\n\n    useOnClickOutside(ref, handler);\n\n    return (\n      <>\n        <ModalUnderlay isOpen={isOpen} noAnimation={noAnimation} />\n        <ModalWrapper isOpen={isOpen}>\n          <ModalCardContainer ref={ref} isOpen={isOpen} noAnimation={noAnimation} {...props}>\n            <Header component={HeaderComponent} />\n            <Box overflowY=\"auto\">{children}</Box>\n            <Footer component={FooterComponent} />\n          </ModalCardContainer>\n        </ModalWrapper>\n      </>\n    );\n  }\n);\n\nexport const ModalProvider: React.FC = props => {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const doOpenModal = () => (!isOpen ? setIsOpen(true) : null);\n  const doCloseModal = () => (isOpen ? setIsOpen(false) : null);\n  return (\n    <ModalContext.Provider\n      value={{\n        isOpen,\n        doOpenModal,\n        doCloseModal,\n      }}\n    >\n      {props.children}\n    </ModalContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}