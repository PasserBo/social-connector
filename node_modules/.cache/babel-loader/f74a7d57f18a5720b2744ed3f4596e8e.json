{"ast":null,"code":"import { objectSpread2 as _objectSpread2, objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport React__default, { useMemo, useCallback, useRef } from 'react';\nimport { Box } from '../box/index.esm.js';\nimport { transition } from '../theme/theme.esm.js';\nimport { useHover, useFocus } from 'use-events';\nimport { Flex } from '../flex/index.esm.js';\nimport '../hooks/use-controllable.esm.js';\nimport '../hooks/use-previous.esm.js';\nimport '../hooks/use-disclosure.esm.js';\nimport '../hooks/use-latest-ref.esm.js';\nimport '../hooks/use-event-listener.esm.js';\nimport '../hooks/use-force-update.esm.js';\nimport { useId } from '@reach/auto-id';\nimport '../hooks/use-id.esm.js';\nimport '../hooks/use-merge-refs.esm.js';\nimport '../hooks/use-safe-layout-effect.esm.js';\nimport { useTimeout } from '../hooks/use-timeout.esm.js';\nimport '../hooks/use-theme.esm.js';\nimport '../hooks/use-color-mode.esm.js';\nimport { Text } from '../text/index.esm.js';\nimport '../icons/apps-icon.esm.js';\nimport '../icons/arrow-icon.esm.js';\nimport '../icons/blockchain-icon.esm.js';\nimport '../icons/blockstack-icon.esm.js';\nimport '../icons/checkmark-icon.esm.js';\nimport { CheckmarkCircleIcon } from '../icons/checkmark-circle-icon.esm.js';\nimport '../icons/chevron-icon.esm.js';\nimport '../icons/connect-logo-icon.esm.js';\nimport '../icons/encryption-icon.esm.js';\nimport '../icons/exclamation-mark-icon.esm.js';\nimport { ExclamationMarkCircleIcon } from '../icons/exclamation-mark-circle-icon.esm.js';\nimport '../icons/eye-icon.esm.js';\nimport '../icons/padlock-icon.esm.js';\nimport '../icons/plus-circle-icon.esm.js';\nimport '../icons/private-icon.esm.js';\nimport '../icons/union-line-icon.esm.js';\nimport { CloseIcon } from '../icons/close-icon.esm.js';\nimport '../icons/external-icon.esm.js';\nimport '../icons/failed-icon.esm.js';\nimport { Stack } from '../stack/index.esm.js';\nimport ReachAlert from '@reach/alert';\nimport { useRect } from '@reach/rect';\nimport { Transition } from '../transition/base.esm.js';\nimport '../transition/fade.esm.js';\nimport '../transition/scale-fade.esm.js';\nimport '../transition/slide.esm.js';\nimport '../transition/slide-fade.esm.js';\nvar toneToIcon = {\n  critical: ExclamationMarkCircleIcon,\n  positive: CheckmarkCircleIcon,\n  none: function none() {\n    return null;\n  }\n};\n\nvar Action = function Action(_ref) {\n  var label = _ref.label,\n      onClick = _ref.onClick,\n      removeToast = _ref.removeToast,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"label\", \"onClick\", \"removeToast\"]);\n\n  var handleClick = useCallback(function () {\n    removeToast();\n    onClick();\n  }, [removeToast, onClick]);\n  return React__default.createElement(Box, Object.assign({\n    _hover: {\n      cursor: 'pointer',\n      textDecoration: 'underline'\n    },\n    onClick: handleClick,\n    \"aria-hidden\": true\n  }, rest), React__default.createElement(Text, null, label));\n};\n\nvar getCustomProps = function getCustomProps(props) {\n  var _props, _props2, _props3, _props4, _props5, _props5$icon, _props6, _props7;\n\n  if (props === void 0) {\n    props = {};\n  }\n\n  return {\n    message: _objectSpread2({\n      color: 'ink'\n    }, (_props = props) === null || _props === void 0 ? void 0 : _props.message),\n    description: _objectSpread2({\n      color: 'ink.600'\n    }, (_props2 = props) === null || _props2 === void 0 ? void 0 : _props2.description),\n    toast: _objectSpread2({\n      background: 'white',\n      borderColor: 'inherit',\n      boxShadow: 'high'\n    }, (_props3 = props) === null || _props3 === void 0 ? void 0 : _props3.toast),\n    icon: _objectSpread2({}, (_props4 = props) === null || _props4 === void 0 ? void 0 : _props4.icon, {\n      color: _objectSpread2({\n        critical: 'red',\n        positive: 'green'\n      }, (_props5 = props) === null || _props5 === void 0 ? void 0 : (_props5$icon = _props5.icon) === null || _props5$icon === void 0 ? void 0 : _props5$icon.color)\n    }),\n    close: _objectSpread2({\n      color: 'ink.600'\n    }, (_props6 = props) === null || _props6 === void 0 ? void 0 : _props6.close),\n    action: _objectSpread2({\n      color: 'blue',\n      fontSize: '14px'\n    }, (_props7 = props) === null || _props7 === void 0 ? void 0 : _props7.action)\n  };\n};\n\nvar CloseButton = function CloseButton(_ref2) {\n  var onClick = _ref2.onClick,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"onClick\"]);\n\n  var _useHover = useHover(),\n      hover = _useHover[0],\n      bind = _useHover[1];\n\n  var _useFocus = useFocus(),\n      focus = _useFocus[0],\n      focusBind = _useFocus[1];\n\n  return React__default.createElement(Flex, Object.assign({\n    position: \"relative\",\n    justify: \"center\",\n    cursor: hover ? 'pointer' : 'unset',\n    onClick: onClick\n  }, bind, rest), React__default.createElement(Box, Object.assign({\n    ml: \"tight\",\n    mt: \"extra-tight\",\n    opacity: hover ? 1 : 0.5,\n    as: \"button\",\n    role: \"button\",\n    \"aria-label\": \"Close popup\",\n    title: \"Close\",\n    style: {\n      outline: 'none'\n    },\n    position: \"relative\",\n    zIndex: 99,\n    transition: transition\n  }, focusBind), React__default.createElement(CloseIcon, {\n    size: \"12px\"\n  })), React__default.createElement(Box, {\n    size: \"24px\",\n    bg: \"currentColor\",\n    borderRadius: \"100%\",\n    position: \"absolute\",\n    left: \"-50%\",\n    top: \"-50%\",\n    opacity: hover ? 0.1 : 0,\n    transform: \"translate3d(12px, 6px, 0)\",\n    transition: transition,\n    boxShadow: focus ? 'focus' : 'unset'\n  }));\n};\n\nvar Description = function Description(_ref3) {\n  var children = _ref3.children,\n      rest = _objectWithoutPropertiesLoose(_ref3, [\"children\"]);\n\n  return React__default.createElement(Text, Object.assign({\n    fontSize: \"14px\",\n    style: {\n      wordBreak: 'break-word'\n    },\n    display: \"block\"\n  }, rest), children);\n};\n\nvar Message = function Message(_ref4) {\n  var children = _ref4.children,\n      rest = _objectWithoutPropertiesLoose(_ref4, [\"children\"]);\n\n  return React__default.createElement(Text, Object.assign({\n    fontWeight: \"600\",\n    display: \"block\"\n  }, rest), children);\n};\n\nvar ToastContent = function ToastContent(_ref5) {\n  var _ref5$styles = _ref5.styles,\n      styles = _ref5$styles === void 0 ? {} : _ref5$styles,\n      message = _ref5.message,\n      description = _ref5.description,\n      action = _ref5.action,\n      remove = _ref5.remove,\n      rest = _objectWithoutPropertiesLoose(_ref5, [\"styles\", \"message\", \"description\", \"action\", \"remove\"]);\n\n  return description ? React__default.createElement(Stack, Object.assign({\n    spacing: \"tight\"\n  }, rest), React__default.createElement(Message, Object.assign({}, styles === null || styles === void 0 ? void 0 : styles.message), message), description ? React__default.createElement(Description, Object.assign({}, styles === null || styles === void 0 ? void 0 : styles.description), description) : null, action ? React__default.createElement(Action, Object.assign({\n    key: action.label,\n    removeToast: remove\n  }, action, styles.action)) : null) : React__default.createElement(Stack, Object.assign({\n    spacing: \"tight\"\n  }, rest), React__default.createElement(Message, Object.assign({}, styles === null || styles === void 0 ? void 0 : styles.message), message), action ? React__default.createElement(Action, Object.assign({\n    key: action.label,\n    removeToast: remove\n  }, action, styles.action)) : null);\n};\n\nvar Toast = /*#__PURE__*/React__default.forwardRef(function (_ref6, ref) {\n  var _rect$height;\n\n  var propsId = _ref6.id,\n      message = _ref6.message,\n      description = _ref6.description,\n      _ref6$tone = _ref6.tone,\n      tone = _ref6$tone === void 0 ? 'none' : _ref6$tone,\n      onClear = _ref6.onClear,\n      action = _ref6.action,\n      _ref6$toastProps = _ref6.toastProps,\n      toastProps = _ref6$toastProps === void 0 ? {} : _ref6$toastProps;\n  var id = useId(propsId);\n  var styles = useMemo(function () {\n    return getCustomProps(toastProps);\n  }, [toastProps]);\n  var remove = useCallback(function () {\n    return onClear(id);\n  }, [onClear, id]);\n  var toastRef = useRef(null);\n  var rect = useRect(toastRef);\n\n  var _React$useState = React__default.useState(true),\n      show = _React$useState[0],\n      setShow = _React$useState[1];\n\n  var height = (_rect$height = rect === null || rect === void 0 ? void 0 : rect.height) !== null && _rect$height !== void 0 ? _rect$height : 0;\n\n  var onExit = function onExit() {\n    if (!show) {\n      onClear(id);\n    }\n  };\n\n  var onClose = React__default.useCallback(function () {\n    setShow(false);\n  }, []);\n\n  var _useTimeout = useTimeout({\n    duration: 7200,\n    onTimeout: onClose\n  }),\n      stopTimeout = _useTimeout.stopTimeout,\n      startTimeout = _useTimeout.startTimeout;\n\n  var animationStyles = {\n    init: {\n      opacity: 0,\n      height: 0,\n      transform: 'scale(1)'\n    },\n    entered: {\n      opacity: 1,\n      height: height,\n      transform: 'scale(1)'\n    },\n    exiting: {\n      opacity: 0,\n      height: 0,\n      transform: 'scale(0.9)'\n    }\n  };\n  var noIcon = tone === 'none';\n  var Icon = toneToIcon[tone];\n  return React__default.createElement(Transition, {\n    styles: animationStyles,\n    \"in\": show,\n    onExited: onExit,\n    timeout: 350\n  }, function (transitionStyles) {\n    return React__default.createElement(Box, {\n      onMouseEnter: stopTimeout,\n      onMouseLeave: startTimeout,\n      style: _objectSpread2({\n        willChange: 'transform, height, opacity'\n      }, transitionStyles),\n      ref: ref\n    }, React__default.createElement(Flex, {\n      justify: \"center\",\n      as: ReachAlert,\n      maxWidth: \"100%\",\n      pb: \"tight\",\n      px: \"tight\",\n      ref: toastRef\n    }, React__default.createElement(Box, Object.assign({\n      p: \"base\",\n      border: \"1px solid\",\n      borderColor: \"inherit\",\n      borderRadius: \"6px\",\n      maxWidth: \"100%\"\n    }, styles.toast, {\n      style: {\n        pointerEvents: 'all'\n      }\n    }), React__default.createElement(Box, {\n      position: \"relative\"\n    }, React__default.createElement(Flex, {\n      align: \"flex-start\"\n    }, tone !== 'none' ? React__default.createElement(Box, Object.assign({\n      pt: \"extra-tight\",\n      pr: \"tight\"\n    }, styles === null || styles === void 0 ? void 0 : styles.icon, {\n      color: styles.icon.color[tone]\n    }), React__default.createElement(Icon, {\n      size: \"16px\"\n    })) : null, React__default.createElement(Box, {\n      pr: noIcon ? 'unset' : 'base'\n    }, React__default.createElement(ToastContent, {\n      message: message,\n      description: description,\n      action: action,\n      styles: styles,\n      remove: remove\n    })), React__default.createElement(CloseButton, {\n      onClick: onClose\n    }))))));\n  });\n});\nexport { Toast };","map":{"version":3,"sources":["../../src/toast/toast.tsx"],"names":["toneToIcon","critical","positive","none","Action","label","onClick","removeToast","rest","handleClick","useCallback","React","_hover","cursor","textDecoration","getCustomProps","props","message","color","description","toast","background","borderColor","boxShadow","icon","close","action","fontSize","CloseButton","hover","bind","useHover","focus","focusBind","useFocus","position","justify","ml","mt","opacity","as","role","title","style","outline","zIndex","transition","size","bg","borderRadius","left","top","transform","Description","children","wordBreak","display","Message","fontWeight","ToastContent","styles","remove","spacing","key","Toast","id","propsId","tone","onClear","toastProps","useId","useMemo","toastRef","useRef","rect","useRect","show","setShow","height","onExit","onClose","stopTimeout","startTimeout","useTimeout","duration","onTimeout","animationStyles","init","entered","exiting","noIcon","Icon","onExited","timeout","onMouseEnter","onMouseLeave","willChange","ref","ReachAlert","maxWidth","pb","px","p","border","pointerEvents","align","pt","pr"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo, useRef } from 'react';\nimport ReachAlert from '@reach/alert';\nimport { useRect } from '@reach/rect';\nimport { useId } from '@reach/auto-id';\n\nimport { Transition } from '../transition';\nimport { Stack } from '../stack';\nimport { Box, BoxProps } from '../box';\nimport { Flex } from '../flex';\nimport { Text } from '../text';\nimport { ExclamationMarkCircleIcon, CheckmarkCircleIcon, CloseIcon } from '../icons';\n\nimport { useTimeout } from '../hooks';\n\nimport { ActionProps, ToastAction, ToastProps } from './types';\nimport { useHover, useFocus } from 'use-events';\nimport { transition } from '../theme/theme';\n\nconst toneToIcon = {\n  critical: ExclamationMarkCircleIcon,\n  positive: CheckmarkCircleIcon,\n  none: () => null,\n};\n\nconst Action = ({ label, onClick, removeToast, ...rest }: ActionProps) => {\n  const handleClick = useCallback(() => {\n    removeToast();\n    onClick();\n  }, [removeToast, onClick]);\n\n  return (\n    <Box\n      _hover={{\n        cursor: 'pointer',\n        textDecoration: 'underline',\n      }}\n      onClick={handleClick}\n      aria-hidden\n      {...rest}\n    >\n      <Text>{label}</Text>\n    </Box>\n  );\n};\n\nconst getCustomProps = (props: ToastProps['toastProps'] = {}) => {\n  return {\n    message: {\n      color: 'ink',\n      ...props?.message,\n    },\n    description: {\n      color: 'ink.600',\n      ...props?.description,\n    },\n    toast: {\n      background: 'white',\n      borderColor: 'inherit',\n      boxShadow: 'high',\n      ...props?.toast,\n    },\n    icon: {\n      ...props?.icon,\n      color: {\n        critical: 'red',\n        positive: 'green',\n        ...props?.icon?.color,\n      },\n    },\n    close: {\n      color: 'ink.600',\n      ...props?.close,\n    },\n    action: {\n      color: 'blue',\n      fontSize: '14px',\n      ...props?.action,\n    },\n  };\n};\n\nconst CloseButton = ({ onClick, ...rest }: any) => {\n  const [hover, bind] = useHover();\n  const [focus, focusBind] = useFocus();\n  return (\n    <Flex\n      position=\"relative\"\n      justify=\"center\"\n      cursor={hover ? 'pointer' : 'unset'}\n      onClick={onClick}\n      {...bind}\n      {...rest}\n    >\n      <Box\n        ml=\"tight\"\n        mt=\"extra-tight\"\n        opacity={hover ? 1 : 0.5}\n        as=\"button\"\n        role=\"button\"\n        aria-label=\"Close popup\"\n        title=\"Close\"\n        style={{\n          outline: 'none',\n        }}\n        position=\"relative\"\n        zIndex={99}\n        transition={transition}\n        {...focusBind}\n      >\n        <CloseIcon size=\"12px\" />\n      </Box>\n      <Box\n        size=\"24px\"\n        bg=\"currentColor\"\n        borderRadius=\"100%\"\n        position=\"absolute\"\n        left=\"-50%\"\n        top=\"-50%\"\n        opacity={hover ? 0.1 : 0}\n        transform=\"translate3d(12px, 6px, 0)\"\n        transition={transition}\n        boxShadow={focus ? 'focus' : 'unset'}\n      />\n    </Flex>\n  );\n};\n\nconst Description: React.FC<BoxProps> = ({ children, ...rest }) => (\n  <Text\n    fontSize=\"14px\"\n    style={{\n      wordBreak: 'break-word',\n    }}\n    display=\"block\"\n    {...rest}\n  >\n    {children}\n  </Text>\n);\n\nconst Message: React.FC<BoxProps> = ({ children, ...rest }) => (\n  <Text fontWeight=\"600\" display=\"block\" {...rest}>\n    {children}\n  </Text>\n);\n\nconst ToastContent = ({\n  styles = {},\n  message,\n  description,\n  action,\n  remove,\n  ...rest\n}: {\n  styles: ToastProps['toastProps'];\n  message: string;\n  description?: string;\n  action?: ToastAction;\n  remove: () => void;\n}) =>\n  description ? (\n    <Stack spacing=\"tight\" {...rest}>\n      <Message {...styles?.message}>{message}</Message>\n      {description ? <Description {...styles?.description}>{description}</Description> : null}\n      {action ? (\n        <Action key={action.label} removeToast={remove} {...action} {...styles.action} />\n      ) : null}\n    </Stack>\n  ) : (\n    <Stack spacing=\"tight\" {...rest}>\n      <Message {...styles?.message}>{message}</Message>\n      {action ? (\n        <Action key={action.label} removeToast={remove} {...action} {...styles.action} />\n      ) : null}\n    </Stack>\n  );\n\nexport const Toast = React.forwardRef<HTMLDivElement, ToastProps>(\n  ({ id: propsId, message, description, tone = 'none', onClear, action, toastProps = {} }, ref) => {\n    const id = useId(propsId) as string;\n    const styles = useMemo(() => getCustomProps(toastProps), [toastProps]);\n    const remove = useCallback(() => onClear(id), [onClear, id]);\n    const toastRef = useRef<HTMLDivElement>(null);\n    const rect = useRect(toastRef);\n    const [show, setShow] = React.useState(true);\n\n    const height = rect?.height ?? 0;\n\n    const onExit = () => {\n      if (!show) {\n        onClear(id);\n      }\n    };\n\n    const onClose = React.useCallback(() => {\n      setShow(false);\n    }, []);\n\n    const { stopTimeout, startTimeout } = useTimeout({\n      duration: 7200,\n      onTimeout: onClose,\n    });\n\n    const animationStyles = {\n      init: {\n        opacity: 0,\n        height: 0,\n        transform: 'scale(1)',\n      },\n      entered: {\n        opacity: 1,\n        height,\n        transform: 'scale(1)',\n      },\n      exiting: {\n        opacity: 0,\n        height: 0,\n        transform: 'scale(0.9)',\n      },\n    };\n\n    const noIcon = tone === 'none';\n    const Icon = toneToIcon[tone];\n\n    return (\n      <Transition styles={animationStyles} in={show} onExited={onExit} timeout={350}>\n        {transitionStyles => (\n          <Box\n            onMouseEnter={stopTimeout}\n            onMouseLeave={startTimeout}\n            style={{\n              willChange: 'transform, height, opacity',\n              ...transitionStyles,\n            }}\n            ref={ref}\n          >\n            <Flex\n              justify=\"center\"\n              as={ReachAlert}\n              maxWidth=\"100%\"\n              pb=\"tight\"\n              px=\"tight\"\n              ref={toastRef}\n            >\n              <Box\n                p=\"base\"\n                border=\"1px solid\"\n                borderColor=\"inherit\"\n                borderRadius=\"6px\"\n                maxWidth=\"100%\"\n                {...styles.toast}\n                style={{\n                  pointerEvents: 'all',\n                }}\n              >\n                <Box position=\"relative\">\n                  <Flex align=\"flex-start\">\n                    {tone !== 'none' ? (\n                      <Box\n                        pt=\"extra-tight\"\n                        pr=\"tight\"\n                        {...styles?.icon}\n                        color={styles.icon.color[tone]}\n                      >\n                        <Icon size=\"16px\" />\n                      </Box>\n                    ) : null}\n\n                    <Box pr={noIcon ? 'unset' : 'base'}>\n                      <ToastContent\n                        message={message}\n                        description={description}\n                        action={action}\n                        styles={styles}\n                        remove={remove}\n                      />\n                    </Box>\n\n                    <CloseButton onClick={onClose} />\n                  </Flex>\n                </Box>\n              </Box>\n            </Flex>\n          </Box>\n        )}\n      </Transition>\n    );\n  }\n);\n"]},"metadata":{},"sourceType":"module"}