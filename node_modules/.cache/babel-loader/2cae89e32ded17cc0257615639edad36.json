{"ast":null,"code":"// ** React Imports\nimport{Link}from'react-router-dom';import{useState,useEffect}from'react';// ** Table Columns\nimport{columns}from'./columns';// ** Third Party Components\nimport ReactPaginate from'react-paginate';import{ChevronDown}from'react-feather';import DataTable from'react-data-table-component';// ** Reactstrap Imports\nimport{Button,Input,Row,Col,Card}from'reactstrap';// ** Store & Actions\nimport{getData}from'../store';import{useDispatch,useSelector}from'react-redux';// ** Styles\nimport'@styles/react/apps/app-invoice.scss';import'@styles/react/libs/tables/react-dataTable-component.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CustomHeader=_ref=>{let{handleFilter,value,handleStatusValue,statusValue,handlePerPage,rowsPerPage}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-table-header w-100 py-2\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:\"6\",className:\"d-flex align-items-center px-0 px-lg-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center me-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rows-per-page\",children:\"Show\"}),/*#__PURE__*/_jsxs(Input,{type:\"select\",id:\"rows-per-page\",value:rowsPerPage,onChange:handlePerPage,className:\"form-control ms-50 pe-3\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"})]})]}),/*#__PURE__*/_jsx(Button,{tag:Link,to:\"/apps/invoice/add\",color:\"primary\",children:\"Add Record\"})]}),/*#__PURE__*/_jsxs(Col,{lg:\"6\",className:\"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pe-lg-1 p-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search-invoice\",children:\"Search\"}),/*#__PURE__*/_jsx(Input,{id:\"search-invoice\",className:\"ms-50 me-2 w-100\",type:\"text\",value:value,onChange:e=>handleFilter(e.target.value),placeholder:\"Search Invoice\"})]}),/*#__PURE__*/_jsxs(Input,{className:\"w-auto \",type:\"select\",value:statusValue,onChange:handleStatusValue,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"downloaded\",children:\"Downloaded\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"partial payment\",children:\"Partial Payment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"past due\",children:\"Past Due\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sent\",children:\"Sent\"})]})]})]})});};const InvoiceList=()=>{// ** Store vars\nconst dispatch=useDispatch();const store=useSelector(state=>state.invoice);// ** States\nconst[value,setValue]=useState('');const[sort,setSort]=useState('desc');const[sortColumn,setSortColumn]=useState('id');const[currentPage,setCurrentPage]=useState(1);const[statusValue,setStatusValue]=useState('');const[rowsPerPage,setRowsPerPage]=useState(10);useEffect(()=>{dispatch(getData({sort,q:value,sortColumn,page:currentPage,perPage:rowsPerPage,status:statusValue}));},[dispatch,store.data.length]);const handleFilter=val=>{setValue(val);dispatch(getData({sort,q:val,sortColumn,page:currentPage,perPage:rowsPerPage,status:statusValue}));};const handlePerPage=e=>{dispatch(getData({sort,q:value,sortColumn,page:currentPage,status:statusValue,perPage:parseInt(e.target.value)}));setRowsPerPage(parseInt(e.target.value));};const handleStatusValue=e=>{setStatusValue(e.target.value);dispatch(getData({sort,q:value,sortColumn,page:currentPage,perPage:rowsPerPage,status:e.target.value}));};const handlePagination=page=>{dispatch(getData({sort,q:value,sortColumn,status:statusValue,perPage:rowsPerPage,page:page.selected+1}));setCurrentPage(page.selected+1);};const CustomPagination=()=>{const count=Number((store.total/rowsPerPage).toFixed(0));return/*#__PURE__*/_jsx(ReactPaginate,{nextLabel:\"\",breakLabel:\"...\",previousLabel:\"\",pageCount:count||1,activeClassName:\"active\",breakClassName:\"page-item\",pageClassName:'page-item',breakLinkClassName:\"page-link\",nextLinkClassName:'page-link',pageLinkClassName:'page-link',nextClassName:'page-item next',previousLinkClassName:'page-link',previousClassName:'page-item prev',onPageChange:page=>handlePagination(page),forcePage:currentPage!==0?currentPage-1:0,containerClassName:'pagination react-paginate justify-content-end p-1'});};const dataToRender=()=>{const filters={q:value,status:statusValue};const isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.data.length>0){return store.data;}else if(store.data.length===0&&isFiltered){return[];}else{return store.allData.slice(0,rowsPerPage);}};const handleSort=(column,sortDirection)=>{setSort(sortDirection);setSortColumn(column.sortField);dispatch(getData({q:value,page:currentPage,sort:sortDirection,status:statusValue,perPage:rowsPerPage,sortColumn:column.sortField}));};return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-wrapper\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-dataTable react-dataTable\",children:/*#__PURE__*/_jsx(DataTable,{noHeader:true,pagination:true,sortServer:true,paginationServer:true,subHeader:true,columns:columns,responsive:true,onSort:handleSort,data:dataToRender(),sortIcon:/*#__PURE__*/_jsx(ChevronDown,{}),className:\"react-dataTable\",defaultSortField:\"invoiceId\",paginationDefaultPage:currentPage,paginationComponent:CustomPagination,subHeaderComponent:/*#__PURE__*/_jsx(CustomHeader,{value:value,statusValue:statusValue,rowsPerPage:rowsPerPage,handleFilter:handleFilter,handlePerPage:handlePerPage,handleStatusValue:handleStatusValue})})})})});};export default InvoiceList;","map":{"version":3,"sources":["/Users/jvledesma/www-bitfari/src/views/apps/invoice/list/index.js"],"names":["Link","useState","useEffect","columns","ReactPaginate","ChevronDown","DataTable","Button","Input","Row","Col","Card","getData","useDispatch","useSelector","CustomHeader","handleFilter","value","handleStatusValue","statusValue","handlePerPage","rowsPerPage","e","target","InvoiceList","dispatch","store","state","invoice","setValue","sort","setSort","sortColumn","setSortColumn","currentPage","setCurrentPage","setStatusValue","setRowsPerPage","q","page","perPage","status","data","length","val","parseInt","handlePagination","selected","CustomPagination","count","Number","total","toFixed","dataToRender","filters","isFiltered","Object","keys","some","k","allData","slice","handleSort","column","sortDirection","sortField"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Link } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Third Party Components\r\nimport ReactPaginate from 'react-paginate'\r\nimport { ChevronDown } from 'react-feather'\r\nimport DataTable from 'react-data-table-component'\r\n\r\n// ** Reactstrap Imports\r\nimport { Button, Input, Row, Col, Card } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { getData } from '../store'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n// ** Styles\r\nimport '@styles/react/apps/app-invoice.scss'\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\nconst CustomHeader = ({ handleFilter, value, handleStatusValue, statusValue, handlePerPage, rowsPerPage }) => {\r\n  return (\r\n    <div className='invoice-list-table-header w-100 py-2'>\r\n      <Row>\r\n        <Col lg='6' className='d-flex align-items-center px-0 px-lg-1'>\r\n          <div className='d-flex align-items-center me-2'>\r\n            <label htmlFor='rows-per-page'>Show</label>\r\n            <Input\r\n              type='select'\r\n              id='rows-per-page'\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n              className='form-control ms-50 pe-3'\r\n            >\r\n              <option value='10'>10</option>\r\n              <option value='25'>25</option>\r\n              <option value='50'>50</option>\r\n            </Input>\r\n          </div>\r\n          <Button tag={Link} to='/apps/invoice/add' color='primary'>\r\n            Add Record\r\n          </Button>\r\n        </Col>\r\n        <Col\r\n          lg='6'\r\n          className='actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pe-lg-1 p-0'\r\n        >\r\n          <div className='d-flex align-items-center'>\r\n            <label htmlFor='search-invoice'>Search</label>\r\n            <Input\r\n              id='search-invoice'\r\n              className='ms-50 me-2 w-100'\r\n              type='text'\r\n              value={value}\r\n              onChange={e => handleFilter(e.target.value)}\r\n              placeholder='Search Invoice'\r\n            />\r\n          </div>\r\n          <Input className='w-auto ' type='select' value={statusValue} onChange={handleStatusValue}>\r\n            <option value=''>Select Status</option>\r\n            <option value='downloaded'>Downloaded</option>\r\n            <option value='draft'>Draft</option>\r\n            <option value='paid'>Paid</option>\r\n            <option value='partial payment'>Partial Payment</option>\r\n            <option value='past due'>Past Due</option>\r\n            <option value='sent'>Sent</option>\r\n          </Input>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst InvoiceList = () => {\r\n  // ** Store vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.invoice)\r\n\r\n  // ** States\r\n  const [value, setValue] = useState('')\r\n  const [sort, setSort] = useState('desc')\r\n  const [sortColumn, setSortColumn] = useState('id')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [statusValue, setStatusValue] = useState('')\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: value,\r\n        sortColumn,\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: statusValue\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  const handleFilter = val => {\r\n    setValue(val)\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: val,\r\n        sortColumn,\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: statusValue\r\n      })\r\n    )\r\n  }\r\n\r\n  const handlePerPage = e => {\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: value,\r\n        sortColumn,\r\n        page: currentPage,\r\n        status: statusValue,\r\n        perPage: parseInt(e.target.value)\r\n      })\r\n    )\r\n    setRowsPerPage(parseInt(e.target.value))\r\n  }\r\n\r\n  const handleStatusValue = e => {\r\n    setStatusValue(e.target.value)\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: value,\r\n        sortColumn,\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: e.target.value\r\n      })\r\n    )\r\n  }\r\n\r\n  const handlePagination = page => {\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: value,\r\n        sortColumn,\r\n        status: statusValue,\r\n        perPage: rowsPerPage,\r\n        page: page.selected + 1\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  const CustomPagination = () => {\r\n    const count = Number((store.total / rowsPerPage).toFixed(0))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        nextLabel=''\r\n        breakLabel='...'\r\n        previousLabel=''\r\n        pageCount={count || 1}\r\n        activeClassName='active'\r\n        breakClassName='page-item'\r\n        pageClassName={'page-item'}\r\n        breakLinkClassName='page-link'\r\n        nextLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousLinkClassName={'page-link'}\r\n        previousClassName={'page-item prev'}\r\n        onPageChange={page => handlePagination(page)}\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        containerClassName={'pagination react-paginate justify-content-end p-1'}\r\n      />\r\n    )\r\n  }\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      q: value,\r\n      status: statusValue\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSort(sortDirection)\r\n    setSortColumn(column.sortField)\r\n    dispatch(\r\n      getData({\r\n        q: value,\r\n        page: currentPage,\r\n        sort: sortDirection,\r\n        status: statusValue,\r\n        perPage: rowsPerPage,\r\n        sortColumn: column.sortField\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='invoice-list-wrapper'>\r\n      <Card>\r\n        <div className='invoice-list-dataTable react-dataTable'>\r\n          <DataTable\r\n            noHeader\r\n            pagination\r\n            sortServer\r\n            paginationServer\r\n            subHeader={true}\r\n            columns={columns}\r\n            responsive={true}\r\n            onSort={handleSort}\r\n            data={dataToRender()}\r\n            sortIcon={<ChevronDown />}\r\n            className='react-dataTable'\r\n            defaultSortField='invoiceId'\r\n            paginationDefaultPage={currentPage}\r\n            paginationComponent={CustomPagination}\r\n            subHeaderComponent={\r\n              <CustomHeader\r\n                value={value}\r\n                statusValue={statusValue}\r\n                rowsPerPage={rowsPerPage}\r\n                handleFilter={handleFilter}\r\n                handlePerPage={handlePerPage}\r\n                handleStatusValue={handleStatusValue}\r\n              />\r\n            }\r\n          />\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InvoiceList\r\n"]},"metadata":{},"sourceType":"module"}