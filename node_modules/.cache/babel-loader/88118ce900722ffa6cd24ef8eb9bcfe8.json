{"ast":null,"code":"import _asyncToGenerator from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/regenerator/index.js\";// ** Redux Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// ** Axios Imports\nimport axios from'axios';export var getData=createAsyncThunk('permissions/getData',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(params){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/apps/permissions/data',{params:params});case 2:response=_context.sent;return _context.abrupt(\"return\",{total:response.data.total,params:response.data.params,allData:response.data.allData,data:response.data.permissions});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var addPermission=createAsyncThunk('permissions/addPermission',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(permission,_ref2){var dispatch,getState;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch=_ref2.dispatch,getState=_ref2.getState;_context2.next=3;return axios.post('/apps/permissions/add-permission',{permission:permission});case 3:_context2.next=5;return dispatch(getData(getState().permissions.params));case 5:return _context2.abrupt(\"return\",permission);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}());export var updatePermission=createAsyncThunk('permissions/updatePermission',/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref4,_ref5){var id,name,dispatch,getState;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=_ref4.id,name=_ref4.name;dispatch=_ref5.dispatch,getState=_ref5.getState;_context3.next=4;return axios.post('/apps/permissions/update-permission',{id:id,name:name});case 4:_context3.next=6;return dispatch(getData(getState().permissions.params));case 6:return _context3.abrupt(\"return\",{id:id,name:name});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4,_x5){return _ref6.apply(this,arguments);};}());export var deletePermission=createAsyncThunk('permissions/deletePermission',/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id,_ref7){var dispatch,getState;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch=_ref7.dispatch,getState=_ref7.getState;_context4.next=3;return axios.delete('/apps/permissions/delete',{id:id});case 3:_context4.next=5;return dispatch(getData(getState().permissions.params));case 5:return _context4.abrupt(\"return\",id);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6,_x7){return _ref8.apply(this,arguments);};}());export var permissionsSlice=createSlice({name:'permissions',initialState:{data:[],total:1,params:{},allData:[],selected:null},reducers:{selectPermission:function selectPermission(state,action){if(action.payload===null){state.selected=null;}else{state.selected=action.payload;}}},extraReducers:function extraReducers(builder){builder.addCase(getData.fulfilled,function(state,action){state.data=action.payload.data;state.total=action.payload.total;state.params=action.payload.params;state.allData=action.payload.allData;});}});var selectPermission=permissionsSlice.actions.selectPermission;export{selectPermission};export default permissionsSlice.reducer;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/src/views/apps/roles-permissions/store/index.js"],"names":["createSlice","createAsyncThunk","axios","getData","params","get","response","total","data","allData","permissions","addPermission","permission","dispatch","getState","post","updatePermission","id","name","deletePermission","delete","permissionsSlice","initialState","selected","reducers","selectPermission","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","reducer"],"mappings":"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","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getData = createAsyncThunk('permissions/getData', async params => {\r\n  const response = await axios.get('/apps/permissions/data', { params })\r\n  return {\r\n    total: response.data.total,\r\n    params: response.data.params,\r\n    allData: response.data.allData,\r\n    data: response.data.permissions\r\n  }\r\n})\r\n\r\nexport const addPermission = createAsyncThunk(\r\n  'permissions/addPermission',\r\n  async (permission, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/add-permission', { permission })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return permission\r\n  }\r\n)\r\n\r\nexport const updatePermission = createAsyncThunk(\r\n  'permissions/updatePermission',\r\n  async ({ id, name }, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/update-permission', { id, name })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return { id, name }\r\n  }\r\n)\r\n\r\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, { dispatch, getState }) => {\r\n  await axios.delete('/apps/permissions/delete', { id })\r\n  await dispatch(getData(getState().permissions.params))\r\n  return id\r\n})\r\n\r\nexport const permissionsSlice = createSlice({\r\n  name: 'permissions',\r\n  initialState: {\r\n    data: [],\r\n    total: 1,\r\n    params: {},\r\n    allData: [],\r\n    selected: null\r\n  },\r\n  reducers: {\r\n    selectPermission: (state, action) => {\r\n      if (action.payload === null) {\r\n        state.selected = null\r\n      } else {\r\n        state.selected = action.payload\r\n      }\r\n    }\r\n  },\r\n  extraReducers: builder => {\r\n    builder.addCase(getData.fulfilled, (state, action) => {\r\n      state.data = action.payload.data\r\n      state.total = action.payload.total\r\n      state.params = action.payload.params\r\n      state.allData = action.payload.allData\r\n    })\r\n  }\r\n})\r\n\r\nexport const { selectPermission } = permissionsSlice.actions\r\n\r\nexport default permissionsSlice.reducer\r\n"]},"metadata":{},"sourceType":"module"}