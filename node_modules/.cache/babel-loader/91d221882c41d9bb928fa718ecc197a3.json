{"ast":null,"code":"// ** React Imports\nimport{Fragment}from'react';// ** Reactstrap Imports\nimport{Row,Col,Card,Form,Button,CardBody,CardTitle,CardHeader,FormFeedback}from'reactstrap';// ** Third Party Components\nimport*as yup from'yup';import{useForm,Controller}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';// ** Custom Components\nimport InputPasswordToggle from'@components/input-password-toggle';// ** Demo Components\nimport ApiKeysList from'./ApiKeysList';import CreateApiKey from'./CreateApikey';import TwoFactorAuth from'./TwoFactorAuth';import RecentDevices from'./RecentDevices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const showErrors=(field,valueLen,min)=>{if(valueLen===0){return\"\".concat(field,\" field is required\");}else if(valueLen>0&&valueLen<min){return\"\".concat(field,\" must be at least \").concat(min,\" characters\");}else{return'';}};const defaultValues={newPassword:'',currentPassword:'',retypeNewPassword:''};const SecurityTabContent=()=>{const SignupSchema=yup.object().shape({currentPassword:yup.string().min(8,obj=>showErrors('Current Password',obj.value.length,obj.min)).required(),newPassword:yup.string().min(8,obj=>showErrors('New Password',obj.value.length,obj.min)).required(),retypeNewPassword:yup.string().min(8,obj=>showErrors('Retype New Password',obj.value.length,obj.min)).required().oneOf([yup.ref(\"newPassword\"),null],'Passwords must match')});// ** Hooks\nconst{control,handleSubmit,formState:{errors}}=useForm({defaultValues,resolver:yupResolver(SignupSchema)});const onSubmit=data=>{if(Object.values(data).every(field=>field.length>0)){return null;}else{for(const key in data){if(data[key].length===0){setError(key,{type:'manual'});}}}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"border-bottom\",children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Change Password\"})}),/*#__PURE__*/_jsx(CardBody,{className:\"pt-1\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"currentPassword\",name:\"currentPassword\",render:_ref=>{let{field}=_ref;return/*#__PURE__*/_jsx(InputPasswordToggle,{label:\"Current Password\",htmlFor:\"currentPassword\",className:\"input-group-merge\",invalid:errors.currentPassword&&true,...field});}}),errors.currentPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.currentPassword.message})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"newPassword\",name:\"newPassword\",render:_ref2=>{let{field}=_ref2;return/*#__PURE__*/_jsx(InputPasswordToggle,{label:\"New Password\",htmlFor:\"newPassword\",className:\"input-group-merge\",invalid:errors.newPassword&&true,...field});}}),errors.newPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.newPassword.message})]}),/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"retypeNewPassword\",name:\"retypeNewPassword\",render:_ref3=>{let{field}=_ref3;return/*#__PURE__*/_jsx(InputPasswordToggle,{label:\"Retype New Password\",htmlFor:\"retypeNewPassword\",className:\"input-group-merge\",invalid:errors.newPassword&&true,...field});}}),errors.retypeNewPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.retypeNewPassword.message})]}),/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bolder\",children:\"Password requirements:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"ps-1 ms-25\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"mb-50\",children:\"Minimum 8 characters long - the more, the better\"}),/*#__PURE__*/_jsx(\"li\",{className:\"mb-50\",children:\"At least one lowercase character\"}),/*#__PURE__*/_jsx(\"li\",{children:\"At least one number, symbol, or whitespace character\"})]})]}),/*#__PURE__*/_jsxs(Col,{className:\"mt-1\",sm:\"12\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"me-1\",color:\"primary\",children:\"Save changes\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",outline:true,children:\"Cancel\"})]})]})]})})]}),/*#__PURE__*/_jsx(TwoFactorAuth,{}),/*#__PURE__*/_jsx(CreateApiKey,{}),/*#__PURE__*/_jsx(ApiKeysList,{}),/*#__PURE__*/_jsx(RecentDevices,{})]});};export default SecurityTabContent;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/bitfari-dev/www/src/views/pages/account-settings/SecurityTabContent.js"],"names":["Fragment","Row","Col","Card","Form","Button","CardBody","CardTitle","CardHeader","FormFeedback","yup","useForm","Controller","yupResolver","InputPasswordToggle","ApiKeysList","CreateApiKey","TwoFactorAuth","RecentDevices","showErrors","field","valueLen","min","defaultValues","newPassword","currentPassword","retypeNewPassword","SecurityTabContent","SignupSchema","object","shape","string","obj","value","length","required","oneOf","ref","control","handleSubmit","formState","errors","resolver","onSubmit","data","Object","values","every","key","setError","type","message"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment } from 'react'\r\n\r\n// ** Reactstrap Imports\r\nimport { Row, Col, Card, Form, Button, CardBody, CardTitle, CardHeader, FormFeedback } from 'reactstrap'\r\n\r\n// ** Third Party Components\r\nimport * as yup from 'yup'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\n\r\n// ** Custom Components\r\nimport InputPasswordToggle from '@components/input-password-toggle'\r\n\r\n// ** Demo Components\r\nimport ApiKeysList from './ApiKeysList'\r\nimport CreateApiKey from './CreateApikey'\r\nimport TwoFactorAuth from './TwoFactorAuth'\r\nimport RecentDevices from './RecentDevices'\r\n\r\nconst showErrors = (field, valueLen, min) => {\r\n  if (valueLen === 0) {\r\n    return `${field} field is required`\r\n  } else if (valueLen > 0 && valueLen < min) {\r\n    return `${field} must be at least ${min} characters`\r\n  } else {\r\n    return ''\r\n  }\r\n}\r\n\r\nconst defaultValues = {\r\n  newPassword: '',\r\n  currentPassword: '',\r\n  retypeNewPassword: ''\r\n}\r\n\r\nconst SecurityTabContent = () => {\r\n  const SignupSchema = yup.object().shape({\r\n    currentPassword: yup\r\n      .string()\r\n      .min(8, obj => showErrors('Current Password', obj.value.length, obj.min))\r\n      .required(),\r\n    newPassword: yup\r\n      .string()\r\n      .min(8, obj => showErrors('New Password', obj.value.length, obj.min))\r\n      .required(),\r\n    retypeNewPassword: yup\r\n      .string()\r\n      .min(8, obj => showErrors('Retype New Password', obj.value.length, obj.min))\r\n      .required()\r\n      .oneOf([yup.ref(`newPassword`), null], 'Passwords must match')\r\n  })\r\n  // ** Hooks\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({\r\n    defaultValues,\r\n    resolver: yupResolver(SignupSchema)\r\n  })\r\n\r\n  const onSubmit = data => {\r\n    if (Object.values(data).every(field => field.length > 0)) {\r\n      return null\r\n    } else {\r\n      for (const key in data) {\r\n        if (data[key].length === 0) {\r\n          setError(key, {\r\n            type: 'manual'\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card>\r\n        <CardHeader className='border-bottom'>\r\n          <CardTitle tag='h4'>Change Password</CardTitle>\r\n        </CardHeader>\r\n        <CardBody className='pt-1'>\r\n          <Form onSubmit={handleSubmit(onSubmit)}>\r\n            <Row>\r\n              <Col sm='6' className='mb-1'>\r\n                <Controller\r\n                  control={control}\r\n                  id='currentPassword'\r\n                  name='currentPassword'\r\n                  render={({ field }) => (\r\n                    <InputPasswordToggle\r\n                      label='Current Password'\r\n                      htmlFor='currentPassword'\r\n                      className='input-group-merge'\r\n                      invalid={errors.currentPassword && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n                {errors.currentPassword && (\r\n                  <FormFeedback className='d-block'>{errors.currentPassword.message}</FormFeedback>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col sm='6' className='mb-1'>\r\n                <Controller\r\n                  control={control}\r\n                  id='newPassword'\r\n                  name='newPassword'\r\n                  render={({ field }) => (\r\n                    <InputPasswordToggle\r\n                      label='New Password'\r\n                      htmlFor='newPassword'\r\n                      className='input-group-merge'\r\n                      invalid={errors.newPassword && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n                {errors.newPassword && <FormFeedback className='d-block'>{errors.newPassword.message}</FormFeedback>}\r\n              </Col>\r\n              <Col sm='6' className='mb-1'>\r\n                <Controller\r\n                  control={control}\r\n                  id='retypeNewPassword'\r\n                  name='retypeNewPassword'\r\n                  render={({ field }) => (\r\n                    <InputPasswordToggle\r\n                      label='Retype New Password'\r\n                      htmlFor='retypeNewPassword'\r\n                      className='input-group-merge'\r\n                      invalid={errors.newPassword && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n                {errors.retypeNewPassword && (\r\n                  <FormFeedback className='d-block'>{errors.retypeNewPassword.message}</FormFeedback>\r\n                )}\r\n              </Col>\r\n              <Col xs={12}>\r\n                <p className='fw-bolder'>Password requirements:</p>\r\n                <ul className='ps-1 ms-25'>\r\n                  <li className='mb-50'>Minimum 8 characters long - the more, the better</li>\r\n                  <li className='mb-50'>At least one lowercase character</li>\r\n                  <li>At least one number, symbol, or whitespace character</li>\r\n                </ul>\r\n              </Col>\r\n              <Col className='mt-1' sm='12'>\r\n                <Button type='submit' className='me-1' color='primary'>\r\n                  Save changes\r\n                </Button>\r\n                <Button color='secondary' outline>\r\n                  Cancel\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </CardBody>\r\n      </Card>\r\n      <TwoFactorAuth />\r\n      <CreateApiKey />\r\n      <ApiKeysList />\r\n      <RecentDevices />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default SecurityTabContent\r\n"]},"metadata":{},"sourceType":"module"}