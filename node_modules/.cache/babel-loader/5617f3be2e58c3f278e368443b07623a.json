{"ast":null,"code":"// ** React Imports\nimport{useState,useEffect,forwardRef}from'react';// ** Table Columns\nimport{columns}from'./columns';// ** Store & Actions\nimport{useDispatch,useSelector}from'react-redux';import{getAllData,getData}from'@src/views/apps/user/store';// ** Third Party Components\nimport ReactPaginate from'react-paginate';import{ChevronDown}from'react-feather';import DataTable from'react-data-table-component';// ** Reactstrap Imports\nimport{Card,Input,Row,Col}from'reactstrap';// ** Styles\nimport'@styles/react/libs/tables/react-dataTable-component.scss';// ** Bootstrap Checkbox Component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BootstrapCheckbox=/*#__PURE__*/forwardRef((props,ref)=>/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:/*#__PURE__*/_jsx(Input,{type:\"checkbox\",ref:ref,...props})}));// ** Table Header\nconst CustomHeader=_ref=>{let{plan,handlePlanChange,handlePerPage,rowsPerPage,handleFilter,searchTerm}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xl:\"6\",className:\"d-flex align-items-center p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center w-100\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rows-per-page\",children:\"Show\"}),/*#__PURE__*/_jsxs(Input,{className:\"mx-50\",type:\"select\",id:\"rows-per-page\",value:rowsPerPage,onChange:handlePerPage,style:{width:'5rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rows-per-page\",children:\"Entries\"})]})}),/*#__PURE__*/_jsxs(Col,{xl:\"6\",className:\"d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pe-lg-1 p-0 mt-lg-0 mt-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-sm-0 mb-1 me-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-0\",htmlFor:\"search-invoice\",children:\"Search:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:searchTerm,id:\"search-invoice\",className:\"ms-50 w-100\",onChange:e=>handleFilter(e.target.value)})]}),/*#__PURE__*/_jsxs(Input,{value:plan,type:\"select\",style:{width:'10rem'},onChange:e=>handlePlanChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"basic\",children:\"Basic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company\",children:\"Company\"}),/*#__PURE__*/_jsx(\"option\",{value:\"enterprise\",children:\"Enterprise\"}),/*#__PURE__*/_jsx(\"option\",{value:\"team\",children:\"Team\"})]})]})]})});};const Table=()=>{// ** Store Vars\nconst dispatch=useDispatch();const store=useSelector(state=>state.users);// ** States\nconst[plan,setPlan]=useState('');const[sort,setSort]=useState('desc');const[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[rowsPerPage,setRowsPerPage]=useState(10);const[sortColumn,setSortColumn]=useState('id');// ** Get data on mount\nuseEffect(()=>{dispatch(getAllData());dispatch(getData({sort,role:'',sortColumn,status:'',q:searchTerm,currentPlan:plan,page:currentPage,perPage:rowsPerPage}));},[dispatch,store.data.length]);// ** Function in get data on page change\nconst handlePagination=page=>{dispatch(getData({sort,role:'',status:'',sortColumn,q:searchTerm,currentPlan:plan,perPage:rowsPerPage,page:page.selected+1}));setCurrentPage(page.selected+1);};// ** Function in get data on rows per page\nconst handlePerPage=e=>{const value=parseInt(e.currentTarget.value);dispatch(getData({sort,role:'',sortColumn,status:'',q:searchTerm,perPage:value,currentPlan:plan,page:currentPage}));setRowsPerPage(value);};// ** Function in get data on search query change\nconst handleFilter=val=>{setSearchTerm(val);dispatch(getData({q:val,sort,role:'',sortColumn,status:'',currentPlan:plan,page:currentPage,perPage:rowsPerPage}));};const handlePlanChange=val=>{setPlan(val);dispatch(getData({sort,role:val,sortColumn,status:'',q:searchTerm,currentPlan:plan,page:currentPage,perPage:rowsPerPage}));};// ** Custom Pagination\nconst CustomPagination=()=>{const count=Number(Math.ceil(store.total/rowsPerPage));return/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:'',nextLabel:'',pageCount:count||1,activeClassName:\"active\",forcePage:currentPage!==0?currentPage-1:0,onPageChange:page=>handlePagination(page),pageClassName:'page-item',nextLinkClassName:'page-link',nextClassName:'page-item next',previousClassName:'page-item prev',previousLinkClassName:'page-link',pageLinkClassName:'page-link',containerClassName:'pagination react-paginate justify-content-end my-2 pe-1'});};// ** Table data to render\nconst dataToRender=()=>{const filters={q:searchTerm};const isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.data.length>0){return store.data;}else if(store.data.length===0&&isFiltered){return[];}else{return store.allData.slice(0,rowsPerPage);}};const handleSort=(column,sortDirection)=>{setSort(sortDirection);setSortColumn(column.sortField);dispatch(getData({sort,role:'',sortColumn,status:'',q:searchTerm,currentPlan:plan,page:currentPage,perPage:rowsPerPage}));};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"div\",{className:\"react-dataTable roles-table\",children:/*#__PURE__*/_jsx(DataTable,{noHeader:true,subHeader:true,pagination:true,responsive:true,selectableRows:true,paginationServer:true,columns:columns,onSort:handleSort,data:dataToRender(),sortIcon:/*#__PURE__*/_jsx(ChevronDown,{}),className:\"react-dataTable\",paginationComponent:CustomPagination,selectableRowsComponent:BootstrapCheckbox,subHeaderComponent:/*#__PURE__*/_jsx(CustomHeader,{plan:plan,searchTerm:searchTerm,rowsPerPage:rowsPerPage,handleFilter:handleFilter,handlePerPage:handlePerPage,handlePlanChange:handlePlanChange})})})});};export default Table;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/react-version/full-version/src/views/apps/roles-permissions/roles/Table.js"],"names":["useState","useEffect","forwardRef","columns","useDispatch","useSelector","getAllData","getData","ReactPaginate","ChevronDown","DataTable","Card","Input","Row","Col","BootstrapCheckbox","props","ref","CustomHeader","plan","handlePlanChange","handlePerPage","rowsPerPage","handleFilter","searchTerm","width","e","target","value","Table","dispatch","store","state","users","setPlan","sort","setSort","setSearchTerm","currentPage","setCurrentPage","setRowsPerPage","sortColumn","setSortColumn","role","status","q","currentPlan","page","perPage","data","length","handlePagination","selected","parseInt","currentTarget","val","CustomPagination","count","Number","Math","ceil","total","dataToRender","filters","isFiltered","Object","keys","some","k","allData","slice","handleSort","column","sortDirection","sortField"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useState, useEffect, forwardRef } from 'react'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Store & Actions\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAllData, getData } from '@src/views/apps/user/store'\r\n\r\n// ** Third Party Components\r\nimport ReactPaginate from 'react-paginate'\r\nimport { ChevronDown } from 'react-feather'\r\nimport DataTable from 'react-data-table-component'\r\n\r\n// ** Reactstrap Imports\r\nimport { Card, Input, Row, Col } from 'reactstrap'\r\n\r\n// ** Styles\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\n// ** Bootstrap Checkbox Component\r\nconst BootstrapCheckbox = forwardRef((props, ref) => (\r\n  <div className='form-check'>\r\n    <Input type='checkbox' ref={ref} {...props} />\r\n  </div>\r\n))\r\n\r\n// ** Table Header\r\nconst CustomHeader = ({ plan, handlePlanChange, handlePerPage, rowsPerPage, handleFilter, searchTerm }) => {\r\n  return (\r\n    <div className='invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75'>\r\n      <Row>\r\n        <Col xl='6' className='d-flex align-items-center p-0'>\r\n          <div className='d-flex align-items-center w-100'>\r\n            <label htmlFor='rows-per-page'>Show</label>\r\n            <Input\r\n              className='mx-50'\r\n              type='select'\r\n              id='rows-per-page'\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n              style={{ width: '5rem' }}\r\n            >\r\n              <option value='10'>10</option>\r\n              <option value='25'>25</option>\r\n              <option value='50'>50</option>\r\n            </Input>\r\n            <label htmlFor='rows-per-page'>Entries</label>\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          xl='6'\r\n          className='d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pe-lg-1 p-0 mt-lg-0 mt-1'\r\n        >\r\n          <div className='d-flex align-items-center mb-sm-0 mb-1 me-1'>\r\n            <label className='mb-0' htmlFor='search-invoice'>\r\n              Search:\r\n            </label>\r\n            <Input\r\n              type='text'\r\n              value={searchTerm}\r\n              id='search-invoice'\r\n              className='ms-50 w-100'\r\n              onChange={e => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n          <Input value={plan} type='select' style={{ width: '10rem' }} onChange={e => handlePlanChange(e.target.value)}>\r\n            <option value=''>Select Role</option>\r\n            <option value='basic'>Basic</option>\r\n            <option value='company'>Company</option>\r\n            <option value='enterprise'>Enterprise</option>\r\n            <option value='team'>Team</option>\r\n          </Input>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Table = () => {\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.users)\r\n\r\n  // ** States\r\n  const [plan, setPlan] = useState('')\r\n  const [sort, setSort] = useState('desc')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n  const [sortColumn, setSortColumn] = useState('id')\r\n\r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    dispatch(getAllData())\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        role: '',\r\n        sortColumn,\r\n        status: '',\r\n        q: searchTerm,\r\n        currentPlan: plan,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  // ** Function in get data on page change\r\n  const handlePagination = page => {\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        role: '',\r\n        status: '',\r\n        sortColumn,\r\n        q: searchTerm,\r\n        currentPlan: plan,\r\n        perPage: rowsPerPage,\r\n        page: page.selected + 1\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  // ** Function in get data on rows per page\r\n  const handlePerPage = e => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        role: '',\r\n        sortColumn,\r\n        status: '',\r\n        q: searchTerm,\r\n        perPage: value,\r\n        currentPlan: plan,\r\n        page: currentPage\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  // ** Function in get data on search query change\r\n  const handleFilter = val => {\r\n    setSearchTerm(val)\r\n    dispatch(\r\n      getData({\r\n        q: val,\r\n        sort,\r\n        role: '',\r\n        sortColumn,\r\n        status: '',\r\n        currentPlan: plan,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  const handlePlanChange = val => {\r\n    setPlan(val)\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        role: val,\r\n        sortColumn,\r\n        status: '',\r\n        q: searchTerm,\r\n        currentPlan: plan,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={''}\r\n        nextLabel={''}\r\n        pageCount={count || 1}\r\n        activeClassName='active'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        containerClassName={'pagination react-paginate justify-content-end my-2 pe-1'}\r\n      />\r\n    )\r\n  }\r\n\r\n  // ** Table data to render\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      q: searchTerm\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSort(sortDirection)\r\n    setSortColumn(column.sortField)\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        role: '',\r\n        sortColumn,\r\n        status: '',\r\n        q: searchTerm,\r\n        currentPlan: plan,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <div className='react-dataTable roles-table'>\r\n        <DataTable\r\n          noHeader\r\n          subHeader\r\n          pagination\r\n          responsive\r\n          selectableRows\r\n          paginationServer\r\n          columns={columns}\r\n          onSort={handleSort}\r\n          data={dataToRender()}\r\n          sortIcon={<ChevronDown />}\r\n          className='react-dataTable'\r\n          paginationComponent={CustomPagination}\r\n          selectableRowsComponent={BootstrapCheckbox}\r\n          subHeaderComponent={\r\n            <CustomHeader\r\n              plan={plan}\r\n              searchTerm={searchTerm}\r\n              rowsPerPage={rowsPerPage}\r\n              handleFilter={handleFilter}\r\n              handlePerPage={handlePerPage}\r\n              handlePlanChange={handlePlanChange}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Table\r\n"]},"metadata":{},"sourceType":"module"}