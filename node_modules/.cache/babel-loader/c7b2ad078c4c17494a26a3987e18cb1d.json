{"ast":null,"code":"import _asyncToGenerator from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/regenerator/index.js\";// ** Redux Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// ** Axios Imports\nimport axios from'axios';export var getUserProfile=createAsyncThunk('appChat/getTasks',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/apps/chat/users/profile-user');case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);})));export var getChatContacts=createAsyncThunk('appChat/getChatContacts',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/apps/chat/chats-and-contacts');case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);})));export var selectChat=createAsyncThunk('appChat/selectChat',/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,_ref3){var dispatch,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch=_ref3.dispatch;_context3.next=3;return axios.get('/apps/chat/get-chat',{id:id});case 3:response=_context3.sent;_context3.next=6;return dispatch(getChatContacts());case 6:return _context3.abrupt(\"return\",response.data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}());export var sendMsg=createAsyncThunk('appChat/sendMsg',/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(obj,_ref5){var dispatch,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch=_ref5.dispatch;_context4.next=3;return axios.post('/apps/chat/send-msg',{obj:obj});case 3:response=_context4.sent;_context4.next=6;return dispatch(selectChat(obj.contact.id));case 6:return _context4.abrupt(\"return\",response.data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3,_x4){return _ref6.apply(this,arguments);};}());export var appChatSlice=createSlice({name:'appChat',initialState:{chats:[],contacts:[],userProfile:{},selectedUser:{}},reducers:{},extraReducers:function extraReducers(builder){builder.addCase(getUserProfile.fulfilled,function(state,action){state.userProfile=action.payload;}).addCase(getChatContacts.fulfilled,function(state,action){state.chats=action.payload.chatsContacts;state.contacts=action.payload.contacts;}).addCase(selectChat.fulfilled,function(state,action){state.selectedUser=action.payload;});}});export default appChatSlice.reducer;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/src/views/apps/chat/store/index.js"],"names":["createSlice","createAsyncThunk","axios","getUserProfile","get","response","data","getChatContacts","selectChat","id","dispatch","sendMsg","obj","post","contact","appChatSlice","name","initialState","chats","contacts","userProfile","selectedUser","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","chatsContacts","reducer"],"mappings":"qVAAA;AACA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAGF,gBAAgB,CAAC,kBAAD,sEAAqB,sKAC1CC,CAAAA,KAAK,CAACE,GAAN,CAAU,+BAAV,CAD0C,QAC3DC,QAD2D,+CAE1DA,QAAQ,CAACC,IAFiD,wDAArB,GAAvC,CAKP,MAAO,IAAMC,CAAAA,eAAe,CAAGN,gBAAgB,CAAC,yBAAD,sEAA4B,4KAClDC,CAAAA,KAAK,CAACE,GAAN,CAAU,+BAAV,CADkD,QACnEC,QADmE,iDAElEA,QAAQ,CAACC,IAFyD,0DAA5B,GAAxC,CAKP,MAAO,IAAME,CAAAA,UAAU,CAAGP,gBAAgB,CAAC,oBAAD,2FAAuB,kBAAOQ,EAAP,kJAAaC,QAAb,OAAaA,QAAb,wBACxCR,CAAAA,KAAK,CAACE,GAAN,CAAU,qBAAV,CAAiC,CAAEK,EAAE,CAAFA,EAAF,CAAjC,CADwC,QACzDJ,QADyD,uCAEzDK,CAAAA,QAAQ,CAACH,eAAe,EAAhB,CAFiD,yCAGxDF,QAAQ,CAACC,IAH+C,0DAAvB,oEAAnC,CAMP,MAAO,IAAMK,CAAAA,OAAO,CAAGV,gBAAgB,CAAC,iBAAD,2FAAoB,kBAAOW,GAAP,kJAAcF,QAAd,OAAcA,QAAd,wBAClCR,CAAAA,KAAK,CAACW,IAAN,CAAW,qBAAX,CAAkC,CAAED,GAAG,CAAHA,GAAF,CAAlC,CADkC,QACnDP,QADmD,uCAEnDK,CAAAA,QAAQ,CAACF,UAAU,CAACI,GAAG,CAACE,OAAJ,CAAYL,EAAb,CAAX,CAF2C,yCAGlDJ,QAAQ,CAACC,IAHyC,0DAApB,qEAAhC,CAMP,MAAO,IAAMS,CAAAA,YAAY,CAAGf,WAAW,CAAC,CACtCgB,IAAI,CAAE,SADgC,CAEtCC,YAAY,CAAE,CACZC,KAAK,CAAE,EADK,CAEZC,QAAQ,CAAE,EAFE,CAGZC,WAAW,CAAE,EAHD,CAIZC,YAAY,CAAE,EAJF,CAFwB,CAQtCC,QAAQ,CAAE,EAR4B,CAStCC,aAAa,CAAE,uBAAAC,OAAO,CAAI,CACxBA,OAAO,CACJC,OADH,CACWtB,cAAc,CAACuB,SAD1B,CACqC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACpDD,KAAK,CAACP,WAAN,CAAoBQ,MAAM,CAACC,OAA3B,CACD,CAHH,EAIGJ,OAJH,CAIWlB,eAAe,CAACmB,SAJ3B,CAIsC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACrDD,KAAK,CAACT,KAAN,CAAcU,MAAM,CAACC,OAAP,CAAeC,aAA7B,CACAH,KAAK,CAACR,QAAN,CAAiBS,MAAM,CAACC,OAAP,CAAeV,QAAhC,CACD,CAPH,EAQGM,OARH,CAQWjB,UAAU,CAACkB,SARtB,CAQiC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAChDD,KAAK,CAACN,YAAN,CAAqBO,MAAM,CAACC,OAA5B,CACD,CAVH,EAWD,CArBqC,CAAD,CAAhC,CAwBP,cAAed,CAAAA,YAAY,CAACgB,OAA5B","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getUserProfile = createAsyncThunk('appChat/getTasks', async () => {\r\n  const response = await axios.get('/apps/chat/users/profile-user')\r\n  return response.data\r\n})\r\n\r\nexport const getChatContacts = createAsyncThunk('appChat/getChatContacts', async () => {\r\n  const response = await axios.get('/apps/chat/chats-and-contacts')\r\n  return response.data\r\n})\r\n\r\nexport const selectChat = createAsyncThunk('appChat/selectChat', async (id, { dispatch }) => {\r\n  const response = await axios.get('/apps/chat/get-chat', { id })\r\n  await dispatch(getChatContacts())\r\n  return response.data\r\n})\r\n\r\nexport const sendMsg = createAsyncThunk('appChat/sendMsg', async (obj, { dispatch }) => {\r\n  const response = await axios.post('/apps/chat/send-msg', { obj })\r\n  await dispatch(selectChat(obj.contact.id))\r\n  return response.data\r\n})\r\n\r\nexport const appChatSlice = createSlice({\r\n  name: 'appChat',\r\n  initialState: {\r\n    chats: [],\r\n    contacts: [],\r\n    userProfile: {},\r\n    selectedUser: {}\r\n  },\r\n  reducers: {},\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(getUserProfile.fulfilled, (state, action) => {\r\n        state.userProfile = action.payload\r\n      })\r\n      .addCase(getChatContacts.fulfilled, (state, action) => {\r\n        state.chats = action.payload.chatsContacts\r\n        state.contacts = action.payload.contacts\r\n      })\r\n      .addCase(selectChat.fulfilled, (state, action) => {\r\n        state.selectedUser = action.payload\r\n      })\r\n  }\r\n})\r\n\r\nexport default appChatSlice.reducer\r\n"]},"metadata":{},"sourceType":"module"}