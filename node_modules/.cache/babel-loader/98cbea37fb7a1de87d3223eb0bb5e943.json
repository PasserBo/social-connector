{"ast":null,"code":"// ** Redux Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// ** Axios Imports\nimport axios from'axios';export const fetchEvents=createAsyncThunk('appCalendar/fetchEvents',async calendars=>{const response=await axios.get('/apps/book/events',{calendars});return response.data;});export const addEvent=createAsyncThunk('appCalendar/addEvent',async(event,_ref)=>{let{dispatch,getState}=_ref;await axios.post('/apps/book/add-event',{event});await dispatch(fetchEvents(getState().calendar.selectedCalendars));return event;});export const updateEvent=createAsyncThunk('appCalendar/updateEvent',async(event,_ref2)=>{let{dispatch,getState}=_ref2;await axios.post('/apps/book/update-event',{event});await dispatch(fetchEvents(getState().calendar.selectedCalendars));return event;});export const updateFilter=createAsyncThunk('appCalendar/updateFilter',async(filter,_ref3)=>{let{dispatch,getState}=_ref3;if(getState().calendar.selectedCalendars.includes(filter)){await dispatch(fetchEvents(getState().calendar.selectedCalendars.filter(i=>i!==filter)));}else{await dispatch(fetchEvents([...getState().calendar.selectedCalendars,filter]));}return filter;});export const updateAllFilters=createAsyncThunk('appCalendar/updateAllFilters',async(value,_ref4)=>{let{dispatch}=_ref4;if(value===true){await dispatch(fetchEvents(['Personal','Business','Family','Holiday','ETC']));}else{await dispatch(fetchEvents([]));}return value;});export const removeEvent=createAsyncThunk('appCalendar/removeEvent',async id=>{await axios.delete('/apps/book/remove-event',{id});return id;});export const appCalendarSlice=createSlice({name:'appCalendar',initialState:{events:[],selectedEvent:{},selectedCalendars:['Personal','Business','Family','Holiday','ETC']},reducers:{selectEvent:(state,action)=>{state.selectedEvent=action.payload;}},extraReducers:builder=>{builder.addCase(fetchEvents.fulfilled,(state,action)=>{state.events=action.payload;}).addCase(updateFilter.fulfilled,(state,action)=>{if(state.selectedCalendars.includes(action.payload)){state.selectedCalendars.splice(state.selectedCalendars.indexOf(action.payload),1);}else{state.selectedCalendars.push(action.payload);}}).addCase(updateAllFilters.fulfilled,(state,action)=>{const value=action.payload;let selected=[];if(value===true){selected=['Personal','Business','Family','Holiday','ETC'];}else{selected=[];}state.selectedCalendars=selected;});}});export const{selectEvent}=appCalendarSlice.actions;export default appCalendarSlice.reducer;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/bitfari-dev/www/src/views/apps/book/store/index.js"],"names":["createSlice","createAsyncThunk","axios","fetchEvents","calendars","response","get","data","addEvent","event","dispatch","getState","post","calendar","selectedCalendars","updateEvent","updateFilter","filter","includes","i","updateAllFilters","value","removeEvent","id","delete","appCalendarSlice","name","initialState","events","selectedEvent","reducers","selectEvent","state","action","payload","extraReducers","builder","addCase","fulfilled","splice","indexOf","push","selected","actions","reducer"],"mappings":"AAAA;AACA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,MAAMC,CAAAA,WAAW,CAAGF,gBAAgB,CAAC,yBAAD,CAA4B,KAAMG,CAAAA,SAAN,EAAmB,CACxF,KAAMC,CAAAA,QAAQ,CAAG,KAAMH,CAAAA,KAAK,CAACI,GAAN,CAAU,mBAAV,CAA+B,CAAEF,SAAF,CAA/B,CAAvB,CACA,MAAOC,CAAAA,QAAQ,CAACE,IAAhB,CACD,CAH0C,CAApC,CAKP,MAAO,MAAMC,CAAAA,QAAQ,CAAGP,gBAAgB,CAAC,sBAAD,CAAyB,MAAOQ,KAAP,QAAyC,IAA3B,CAAEC,QAAF,CAAYC,QAAZ,CAA2B,MACxG,KAAMT,CAAAA,KAAK,CAACU,IAAN,CAAW,sBAAX,CAAmC,CAAEH,KAAF,CAAnC,CAAN,CACA,KAAMC,CAAAA,QAAQ,CAACP,WAAW,CAACQ,QAAQ,GAAGE,QAAX,CAAoBC,iBAArB,CAAZ,CAAd,CACA,MAAOL,CAAAA,KAAP,CACD,CAJuC,CAAjC,CAMP,MAAO,MAAMM,CAAAA,WAAW,CAAGd,gBAAgB,CAAC,yBAAD,CAA4B,MAAOQ,KAAP,SAAyC,IAA3B,CAAEC,QAAF,CAAYC,QAAZ,CAA2B,OAC9G,KAAMT,CAAAA,KAAK,CAACU,IAAN,CAAW,yBAAX,CAAsC,CAAEH,KAAF,CAAtC,CAAN,CACA,KAAMC,CAAAA,QAAQ,CAACP,WAAW,CAACQ,QAAQ,GAAGE,QAAX,CAAoBC,iBAArB,CAAZ,CAAd,CACA,MAAOL,CAAAA,KAAP,CACD,CAJ0C,CAApC,CAMP,MAAO,MAAMO,CAAAA,YAAY,CAAGf,gBAAgB,CAAC,0BAAD,CAA6B,MAAOgB,MAAP,SAA0C,IAA3B,CAAEP,QAAF,CAAYC,QAAZ,CAA2B,OACjH,GAAIA,QAAQ,GAAGE,QAAX,CAAoBC,iBAApB,CAAsCI,QAAtC,CAA+CD,MAA/C,CAAJ,CAA4D,CAC1D,KAAMP,CAAAA,QAAQ,CAACP,WAAW,CAACQ,QAAQ,GAAGE,QAAX,CAAoBC,iBAApB,CAAsCG,MAAtC,CAA6CE,CAAC,EAAIA,CAAC,GAAKF,MAAxD,CAAD,CAAZ,CAAd,CACD,CAFD,IAEO,CACL,KAAMP,CAAAA,QAAQ,CAACP,WAAW,CAAC,CAAC,GAAGQ,QAAQ,GAAGE,QAAX,CAAoBC,iBAAxB,CAA2CG,MAA3C,CAAD,CAAZ,CAAd,CACD,CACD,MAAOA,CAAAA,MAAP,CACD,CAP2C,CAArC,CASP,MAAO,MAAMG,CAAAA,gBAAgB,CAAGnB,gBAAgB,CAAC,8BAAD,CAAiC,MAAOoB,KAAP,SAA+B,IAAjB,CAAEX,QAAF,CAAiB,OAC9G,GAAIW,KAAK,GAAK,IAAd,CAAoB,CAClB,KAAMX,CAAAA,QAAQ,CAACP,WAAW,CAAC,CAAC,UAAD,CAAa,UAAb,CAAyB,QAAzB,CAAmC,SAAnC,CAA8C,KAA9C,CAAD,CAAZ,CAAd,CACD,CAFD,IAEO,CACL,KAAMO,CAAAA,QAAQ,CAACP,WAAW,CAAC,EAAD,CAAZ,CAAd,CACD,CACD,MAAOkB,CAAAA,KAAP,CACD,CAP+C,CAAzC,CASP,MAAO,MAAMC,CAAAA,WAAW,CAAGrB,gBAAgB,CAAC,yBAAD,CAA4B,KAAMsB,CAAAA,EAAN,EAAY,CACjF,KAAMrB,CAAAA,KAAK,CAACsB,MAAN,CAAa,yBAAb,CAAwC,CAAED,EAAF,CAAxC,CAAN,CACA,MAAOA,CAAAA,EAAP,CACD,CAH0C,CAApC,CAKP,MAAO,MAAME,CAAAA,gBAAgB,CAAGzB,WAAW,CAAC,CAC1C0B,IAAI,CAAE,aADoC,CAE1CC,YAAY,CAAE,CACZC,MAAM,CAAE,EADI,CAEZC,aAAa,CAAE,EAFH,CAGZf,iBAAiB,CAAE,CAAC,UAAD,CAAa,UAAb,CAAyB,QAAzB,CAAmC,SAAnC,CAA8C,KAA9C,CAHP,CAF4B,CAO1CgB,QAAQ,CAAE,CACRC,WAAW,CAAE,CAACC,KAAD,CAAQC,MAAR,GAAmB,CAC9BD,KAAK,CAACH,aAAN,CAAsBI,MAAM,CAACC,OAA7B,CACD,CAHO,CAPgC,CAY1CC,aAAa,CAAEC,OAAO,EAAI,CACxBA,OAAO,CACJC,OADH,CACWlC,WAAW,CAACmC,SADvB,CACkC,CAACN,KAAD,CAAQC,MAAR,GAAmB,CACjDD,KAAK,CAACJ,MAAN,CAAeK,MAAM,CAACC,OAAtB,CACD,CAHH,EAIGG,OAJH,CAIWrB,YAAY,CAACsB,SAJxB,CAImC,CAACN,KAAD,CAAQC,MAAR,GAAmB,CAClD,GAAID,KAAK,CAAClB,iBAAN,CAAwBI,QAAxB,CAAiCe,MAAM,CAACC,OAAxC,CAAJ,CAAsD,CACpDF,KAAK,CAAClB,iBAAN,CAAwByB,MAAxB,CAA+BP,KAAK,CAAClB,iBAAN,CAAwB0B,OAAxB,CAAgCP,MAAM,CAACC,OAAvC,CAA/B,CAAgF,CAAhF,EACD,CAFD,IAEO,CACLF,KAAK,CAAClB,iBAAN,CAAwB2B,IAAxB,CAA6BR,MAAM,CAACC,OAApC,EACD,CACF,CAVH,EAWGG,OAXH,CAWWjB,gBAAgB,CAACkB,SAX5B,CAWuC,CAACN,KAAD,CAAQC,MAAR,GAAmB,CACtD,KAAMZ,CAAAA,KAAK,CAAGY,MAAM,CAACC,OAArB,CACA,GAAIQ,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIrB,KAAK,GAAK,IAAd,CAAoB,CAClBqB,QAAQ,CAAG,CAAC,UAAD,CAAa,UAAb,CAAyB,QAAzB,CAAmC,SAAnC,CAA8C,KAA9C,CAAX,CACD,CAFD,IAEO,CACLA,QAAQ,CAAG,EAAX,CACD,CACDV,KAAK,CAAClB,iBAAN,CAA0B4B,QAA1B,CACD,CApBH,EAqBD,CAlCyC,CAAD,CAApC,CAqCP,MAAO,MAAM,CAAEX,WAAF,EAAkBN,gBAAgB,CAACkB,OAAzC,CAEP,cAAelB,CAAAA,gBAAgB,CAACmB,OAAhC","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const fetchEvents = createAsyncThunk('appCalendar/fetchEvents', async calendars => {\r\n  const response = await axios.get('/apps/book/events', { calendars })\r\n  return response.data\r\n})\r\n\r\nexport const addEvent = createAsyncThunk('appCalendar/addEvent', async (event, { dispatch, getState }) => {\r\n  await axios.post('/apps/book/add-event', { event })\r\n  await dispatch(fetchEvents(getState().calendar.selectedCalendars))\r\n  return event\r\n})\r\n\r\nexport const updateEvent = createAsyncThunk('appCalendar/updateEvent', async (event, { dispatch, getState }) => {\r\n  await axios.post('/apps/book/update-event', { event })\r\n  await dispatch(fetchEvents(getState().calendar.selectedCalendars))\r\n  return event\r\n})\r\n\r\nexport const updateFilter = createAsyncThunk('appCalendar/updateFilter', async (filter, { dispatch, getState }) => {\r\n  if (getState().calendar.selectedCalendars.includes(filter)) {\r\n    await dispatch(fetchEvents(getState().calendar.selectedCalendars.filter(i => i !== filter)))\r\n  } else {\r\n    await dispatch(fetchEvents([...getState().calendar.selectedCalendars, filter]))\r\n  }\r\n  return filter\r\n})\r\n\r\nexport const updateAllFilters = createAsyncThunk('appCalendar/updateAllFilters', async (value, { dispatch }) => {\r\n  if (value === true) {\r\n    await dispatch(fetchEvents(['Personal', 'Business', 'Family', 'Holiday', 'ETC']))\r\n  } else {\r\n    await dispatch(fetchEvents([]))\r\n  }\r\n  return value\r\n})\r\n\r\nexport const removeEvent = createAsyncThunk('appCalendar/removeEvent', async id => {\r\n  await axios.delete('/apps/book/remove-event', { id })\r\n  return id\r\n})\r\n\r\nexport const appCalendarSlice = createSlice({\r\n  name: 'appCalendar',\r\n  initialState: {\r\n    events: [],\r\n    selectedEvent: {},\r\n    selectedCalendars: ['Personal', 'Business', 'Family', 'Holiday', 'ETC']\r\n  },\r\n  reducers: {\r\n    selectEvent: (state, action) => {\r\n      state.selectedEvent = action.payload\r\n    }\r\n  },\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(fetchEvents.fulfilled, (state, action) => {\r\n        state.events = action.payload\r\n      })\r\n      .addCase(updateFilter.fulfilled, (state, action) => {\r\n        if (state.selectedCalendars.includes(action.payload)) {\r\n          state.selectedCalendars.splice(state.selectedCalendars.indexOf(action.payload), 1)\r\n        } else {\r\n          state.selectedCalendars.push(action.payload)\r\n        }\r\n      })\r\n      .addCase(updateAllFilters.fulfilled, (state, action) => {\r\n        const value = action.payload\r\n        let selected = []\r\n        if (value === true) {\r\n          selected = ['Personal', 'Business', 'Family', 'Holiday', 'ETC']\r\n        } else {\r\n          selected = []\r\n        }\r\n        state.selectedCalendars = selected\r\n      })\r\n  }\r\n})\r\n\r\nexport const { selectEvent } = appCalendarSlice.actions\r\n\r\nexport default appCalendarSlice.reducer\r\n"]},"metadata":{},"sourceType":"module"}