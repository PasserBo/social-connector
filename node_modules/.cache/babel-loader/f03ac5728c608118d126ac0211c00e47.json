{"ast":null,"code":"import _objectSpread from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{useEffect,useState,Fragment}from'react';// ** Table Columns\nimport{columns}from'./columns';// ** Reactstrap Imports\nimport{Alert,Row,Col,Label,Form,Input,Button,Modal,ModalHeader,ModalBody,FormFeedback}from'reactstrap';// ** Store & Actions\nimport{useDispatch,useSelector}from'react-redux';import{getData,addPermission,deletePermission,selectPermission,updatePermission}from'../store';// ** Third party Components\nimport classnames from'classnames';import ReactPaginate from'react-paginate';import DataTable from'react-data-table-component';import{useForm,Controller}from'react-hook-form';import{ChevronDown,Edit,Trash}from'react-feather';// ** Styles\nimport'@styles/react/libs/tables/react-dataTable-component.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomHeader=function CustomHeader(_ref){var role=_ref.role,setShow=_ref.setShow,searchTerm=_ref.searchTerm,rowsPerPage=_ref.rowsPerPage,handlePerPage=_ref.handlePerPage,handleFilter=_ref.handleFilter,handleAssignedToChange=_ref.handleAssignedToChange;return/*#__PURE__*/_jsxs(Row,{className:\"text-nowrap w-100 my-75 g-0 permission-header\",children:[/*#__PURE__*/_jsx(Col,{xs:12,lg:4,className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center justify-content-lg-start\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rows-per-page\",children:\"Show\"}),/*#__PURE__*/_jsxs(Input,{className:\"mx-50\",type:\"select\",id:\"rows-per-page\",value:rowsPerPage,onChange:handlePerPage,style:{width:'5rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25\",children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rows-per-page\",children:\"Entries\"})]})}),/*#__PURE__*/_jsx(Col,{xs:12,lg:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-lg-end justify-content-start flex-md-nowrap flex-wrap mt-lg-0 mt-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center me-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-0\",htmlFor:\"search-permission\",children:\"Search:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:searchTerm,id:\"search-permission\",className:\"ms-50 w-100\",onChange:function onChange(e){return handleFilter(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-50 width-200 me-1 mt-sm-0 mt-1\",children:/*#__PURE__*/_jsxs(Input,{type:\"select\",name:\"select\",value:role,onChange:function onChange(e){return handleAssignedToChange(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"administrator\",children:\"Administrator\"}),/*#__PURE__*/_jsx(\"option\",{value:\"manager\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"support\",children:\"Support\"}),/*#__PURE__*/_jsx(\"option\",{value:\"restricted-user\",children:\"Restricted User\"})]})}),/*#__PURE__*/_jsx(Button,{className:\"add-permission mt-sm-0 mt-1\",color:\"primary\",onClick:function onClick(){return setShow(true);},children:\"Add Permission\"})]})})]});};var Table=function Table(){// ** Store Vars & Hooks\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.permissions;});var _useForm=useForm({defaultValues:{permissionName:''}}),reset=_useForm.reset,control=_useForm.control,setError=_useForm.setError,setValue=_useForm.setValue,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;// ** States\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),assignedTo=_useState4[0],setAssignedTo=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),rowsPerPage=_useState10[0],setRowsPerPage=_useState10[1];// ** Get data on mount\nuseEffect(function(){dispatch(getData({assignedTo:assignedTo,q:searchTerm,page:currentPage,perPage:rowsPerPage}));},[dispatch,store.data.length]);// ** Function in get data on page change\nvar handlePagination=function handlePagination(page){dispatch(getData({assignedTo:assignedTo,q:searchTerm,perPage:rowsPerPage,page:page.selected+1}));setCurrentPage(page.selected+1);};// ** Function in get data on rows per page\nvar handlePerPage=function handlePerPage(e){var value=parseInt(e.currentTarget.value);dispatch(getData({assignedTo:assignedTo,q:searchTerm,perPage:value,page:currentPage}));setRowsPerPage(value);};// ** Function in get data on search query change\nvar handleFilter=function handleFilter(val){setSearchTerm(val);dispatch(getData({q:val,assignedTo:assignedTo,page:currentPage,perPage:rowsPerPage}));};// ** Function to filter Roles\nvar handleAssignedToChange=function handleAssignedToChange(val){setAssignedTo(val);dispatch(getData({q:searchTerm,assignedTo:val,page:currentPage,perPage:rowsPerPage}));};// ** Custom Pagination\nvar CustomPagination=function CustomPagination(){var count=Number(Math.ceil(store.total/rowsPerPage));return/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:'',nextLabel:'',pageCount:count||1,activeClassName:\"active\",forcePage:currentPage!==0?currentPage-1:0,onPageChange:function onPageChange(page){return handlePagination(page);},pageClassName:'page-item',nextLinkClassName:'page-link',nextClassName:'page-item next',previousClassName:'page-item prev',previousLinkClassName:'page-link',pageLinkClassName:'page-link',containerClassName:'pagination react-paginate justify-content-end my-2 pe-1'});};// ** Table data to render\nvar dataToRender=function dataToRender(){var filters={q:searchTerm};var isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.data.length>0){return store.data;}else if(store.data.length===0&&isFiltered){return[];}else{return store.allData.slice(0,rowsPerPage);}};var handleEditClick=function handleEditClick(data){dispatch(selectPermission(data));setValue('permissionName',data.name);setShow(true);};var handleModalClosed=function handleModalClosed(){dispatch(selectPermission(null));setValue('permissionName','');};var onSubmit=function onSubmit(data){if(data.permissionName.length){if(store.selected!==null){dispatch(updatePermission({name:data.permissionName,id:store.selected.id}));}else{dispatch(addPermission({name:data.permissionName}));}setShow(false);}else{setError('permissionName',{type:'manual'});}};var updatedColumns=[].concat(_toConsumableArray(columns),[{name:'Actions',cell:function cell(row){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center permissions-actions\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"transparent\",className:\"btn btn-icon\",onClick:function onClick(){return handleEditClick(row);},children:/*#__PURE__*/_jsx(Edit,{className:\"font-medium-2\"})}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"transparent\",className:\"btn btn-icon\",onClick:function onClick(){return dispatch(deletePermission(row.id));},children:/*#__PURE__*/_jsx(Trash,{className:\"font-medium-2\"})})]});}}]);var handleDiscard=function handleDiscard(){reset();setShow(false);};var renderModalSubtitle=function renderModalSubtitle(){if(store.selected!==null){return'Edit permission as per your requirements.';}else{return'Permissions you may use and assign to your users.';}};var renderForm=function renderForm(){if(store.selected===null){return/*#__PURE__*/_jsxs(Row,{tag:Form,onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"permission-name\",children:\"Permission Name\"}),/*#__PURE__*/_jsx(Controller,{control:control,id:\"permissionName\",name:\"permissionName\",render:function render(_ref2){var field=_ref2.field;return/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"Permission Name\",invalid:errors.permissionName&&true},field));}}),errors&&errors.permissionName&&/*#__PURE__*/_jsx(FormFeedback,{children:\"Please enter a valid Permission Name\"})]}),/*#__PURE__*/_jsx(Col,{xs:12,className:\"mt-75\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"core-perm-checkbox\"}),/*#__PURE__*/_jsx(Label,{className:\"form-check-label\",for:\"core-perm-checkbox\",children:\"Set as core permission\"})]})}),/*#__PURE__*/_jsxs(Col,{xs:12,className:\"text-center mt-2\",children:[/*#__PURE__*/_jsx(Button,{className:\"me-1\",color:\"primary\",children:\"Create Permission\"}),/*#__PURE__*/_jsx(Button,{outline:true,type:\"reset\",onClick:handleDiscard,children:\"Discard\"})]})]});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Alert,{color:\"warning\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"alert-heading\",children:\"Warning!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-body\",children:\"By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding.\"})]}),/*#__PURE__*/_jsxs(Row,{tag:Form,onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Col,{xs:12,sm:9,children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"permission-name\",children:\"Permission Name\"}),/*#__PURE__*/_jsx(Controller,{control:control,id:\"permissionName\",name:\"permissionName\",render:function render(_ref3){var field=_ref3.field;return/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"Permission Name\",invalid:errors.permissionName&&true},field));}}),errors&&errors.permissionName&&/*#__PURE__*/_jsx(FormFeedback,{children:\"Please enter a valid Permission Name\"})]}),/*#__PURE__*/_jsx(Col,{xs:12,sm:3,className:\"p-sm-0\",children:/*#__PURE__*/_jsx(Button,{className:\"mt-2\",color:\"primary\",children:\"Update\"})}),/*#__PURE__*/_jsx(Col,{xs:12,className:\"mt-75\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"core-perm-checkbox\"}),/*#__PURE__*/_jsx(Label,{className:\"form-check-label\",for:\"core-perm-checkbox\",children:\"Set as core permission\"})]})})]})]});}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"react-dataTable\",children:/*#__PURE__*/_jsx(DataTable,{noHeader:true,pagination:true,subHeader:true,responsive:true,paginationServer:true,columns:updatedColumns,sortIcon:/*#__PURE__*/_jsx(ChevronDown,{}),className:\"react-dataTable\",paginationComponent:CustomPagination,data:dataToRender(),subHeaderComponent:/*#__PURE__*/_jsx(CustomHeader,{setShow:setShow,assignedTo:assignedTo,searchTerm:searchTerm,rowsPerPage:rowsPerPage,handleFilter:handleFilter,handlePerPage:handlePerPage,handleAssignedToChange:handleAssignedToChange})})}),/*#__PURE__*/_jsxs(Modal,{isOpen:show,onClosed:handleModalClosed,toggle:function toggle(){return setShow(!show);},className:\"modal-dialog-centered\",children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"bg-transparent\",toggle:function toggle(){return setShow(!show);}}),/*#__PURE__*/_jsxs(ModalBody,{className:classnames({'p-3 pt-0':store.selected!==null,'px-sm-5 pb-5':store.selected===null}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-2\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"mb-1\",children:[store.selected!==null?'Edit':'Add New',\" Permission\"]}),/*#__PURE__*/_jsx(\"p\",{children:renderModalSubtitle()})]}),renderForm()]})]})]});};export default Table;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/src/views/apps/roles-permissions/permissions/Table.js"],"names":["useEffect","useState","Fragment","columns","Alert","Row","Col","Label","Form","Input","Button","Modal","ModalHeader","ModalBody","FormFeedback","useDispatch","useSelector","getData","addPermission","deletePermission","selectPermission","updatePermission","classnames","ReactPaginate","DataTable","useForm","Controller","ChevronDown","Edit","Trash","CustomHeader","role","setShow","searchTerm","rowsPerPage","handlePerPage","handleFilter","handleAssignedToChange","width","e","target","value","Table","dispatch","store","state","permissions","defaultValues","permissionName","reset","control","setError","setValue","handleSubmit","errors","formState","show","assignedTo","setAssignedTo","setSearchTerm","currentPage","setCurrentPage","setRowsPerPage","q","page","perPage","data","length","handlePagination","selected","parseInt","currentTarget","val","CustomPagination","count","Number","Math","ceil","total","dataToRender","filters","isFiltered","Object","keys","some","k","allData","slice","handleEditClick","name","handleModalClosed","onSubmit","id","type","updatedColumns","cell","row","handleDiscard","renderModalSubtitle","renderForm","field"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect, useState, Fragment } from 'react'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Reactstrap Imports\r\nimport { Alert, Row, Col, Label, Form, Input, Button, Modal, ModalHeader, ModalBody, FormFeedback } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getData, addPermission, deletePermission, selectPermission, updatePermission } from '../store'\r\n\r\n// ** Third party Components\r\nimport classnames from 'classnames'\r\nimport ReactPaginate from 'react-paginate'\r\nimport DataTable from 'react-data-table-component'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { ChevronDown, Edit, Trash } from 'react-feather'\r\n\r\n// ** Styles\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\nconst CustomHeader = ({\r\n  role,\r\n  setShow,\r\n  searchTerm,\r\n  rowsPerPage,\r\n  handlePerPage,\r\n  handleFilter,\r\n  handleAssignedToChange\r\n}) => {\r\n  return (\r\n    <Row className='text-nowrap w-100 my-75 g-0 permission-header'>\r\n      <Col xs={12} lg={4} className='d-flex align-items-center'>\r\n        <div className='d-flex align-items-center justify-content-center justify-content-lg-start'>\r\n          <label htmlFor='rows-per-page'>Show</label>\r\n          <Input\r\n            className='mx-50'\r\n            type='select'\r\n            id='rows-per-page'\r\n            value={rowsPerPage}\r\n            onChange={handlePerPage}\r\n            style={{ width: '5rem' }}\r\n          >\r\n            <option value='10'>10</option>\r\n            <option value='25'>25</option>\r\n            <option value='50'>50</option>\r\n          </Input>\r\n          <label htmlFor='rows-per-page'>Entries</label>\r\n        </div>\r\n      </Col>\r\n      <Col xs={12} lg={8}>\r\n        <div className='d-flex align-items-center justify-content-lg-end justify-content-start flex-md-nowrap flex-wrap mt-lg-0 mt-1'>\r\n          <div className='d-flex align-items-center me-1'>\r\n            <label className='mb-0' htmlFor='search-permission'>\r\n              Search:\r\n            </label>\r\n            <Input\r\n              type='text'\r\n              value={searchTerm}\r\n              id='search-permission'\r\n              className='ms-50 w-100'\r\n              onChange={e => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='mt-50 width-200 me-1 mt-sm-0 mt-1'>\r\n            <Input type='select' name='select' value={role} onChange={e => handleAssignedToChange(e.target.value)}>\r\n              <option value=''>Select Role</option>\r\n              <option value='administrator'>Administrator</option>\r\n              <option value='manager'>Manager</option>\r\n              <option value='user'>User</option>\r\n              <option value='support'>Support</option>\r\n              <option value='restricted-user'>Restricted User</option>\r\n            </Input>\r\n          </div>\r\n          <Button className='add-permission mt-sm-0 mt-1' color='primary' onClick={() => setShow(true)}>\r\n            Add Permission\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst Table = () => {\r\n  // ** Store Vars & Hooks\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.permissions)\r\n  const {\r\n    reset,\r\n    control,\r\n    setError,\r\n    setValue,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({ defaultValues: { permissionName: '' } })\r\n\r\n  // ** States\r\n  const [show, setShow] = useState(false)\r\n  const [assignedTo, setAssignedTo] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  // ** Function in get data on page change\r\n  const handlePagination = page => {\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        perPage: rowsPerPage,\r\n        page: page.selected + 1\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  // ** Function in get data on rows per page\r\n  const handlePerPage = e => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        perPage: value,\r\n        page: currentPage\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  // ** Function in get data on search query change\r\n  const handleFilter = val => {\r\n    setSearchTerm(val)\r\n    dispatch(\r\n      getData({\r\n        q: val,\r\n        assignedTo,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Function to filter Roles\r\n  const handleAssignedToChange = val => {\r\n    setAssignedTo(val)\r\n    dispatch(\r\n      getData({\r\n        q: searchTerm,\r\n        assignedTo: val,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={''}\r\n        nextLabel={''}\r\n        pageCount={count || 1}\r\n        activeClassName='active'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        containerClassName={'pagination react-paginate justify-content-end my-2 pe-1'}\r\n      />\r\n    )\r\n  }\r\n\r\n  // ** Table data to render\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      q: searchTerm\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const handleEditClick = data => {\r\n    dispatch(selectPermission(data))\r\n    setValue('permissionName', data.name)\r\n    setShow(true)\r\n  }\r\n\r\n  const handleModalClosed = () => {\r\n    dispatch(selectPermission(null))\r\n    setValue('permissionName', '')\r\n  }\r\n\r\n  const onSubmit = data => {\r\n    if (data.permissionName.length) {\r\n      if (store.selected !== null) {\r\n        dispatch(updatePermission({ name: data.permissionName, id: store.selected.id }))\r\n      } else {\r\n        dispatch(addPermission({ name: data.permissionName }))\r\n      }\r\n      setShow(false)\r\n    } else {\r\n      setError('permissionName', {\r\n        type: 'manual'\r\n      })\r\n    }\r\n  }\r\n\r\n  const updatedColumns = [\r\n    ...columns,\r\n    {\r\n      name: 'Actions',\r\n      cell: row => {\r\n        return (\r\n          <div className='d-flex align-items-center permissions-actions'>\r\n            <Button size='sm' color='transparent' className='btn btn-icon' onClick={() => handleEditClick(row)}>\r\n              <Edit className='font-medium-2' />\r\n            </Button>\r\n            <Button\r\n              size='sm'\r\n              color='transparent'\r\n              className='btn btn-icon'\r\n              onClick={() => dispatch(deletePermission(row.id))}\r\n            >\r\n              <Trash className='font-medium-2' />\r\n            </Button>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  const handleDiscard = () => {\r\n    reset()\r\n    setShow(false)\r\n  }\r\n\r\n  const renderModalSubtitle = () => {\r\n    if (store.selected !== null) {\r\n      return 'Edit permission as per your requirements.'\r\n    } else {\r\n      return 'Permissions you may use and assign to your users.'\r\n    }\r\n  }\r\n\r\n  const renderForm = () => {\r\n    if (store.selected === null) {\r\n      return (\r\n        <Row tag={Form} onSubmit={handleSubmit(onSubmit)}>\r\n          <Col xs={12}>\r\n            <Label className='form-label' for='permission-name'>\r\n              Permission Name\r\n            </Label>\r\n            <Controller\r\n              control={control}\r\n              id='permissionName'\r\n              name='permissionName'\r\n              render={({ field }) => (\r\n                <Input placeholder='Permission Name' invalid={errors.permissionName && true} {...field} />\r\n              )}\r\n            />\r\n            {errors && errors.permissionName && <FormFeedback>Please enter a valid Permission Name</FormFeedback>}\r\n          </Col>\r\n          <Col xs={12} className='mt-75'>\r\n            <div className='form-check'>\r\n              <Input type='checkbox' id='core-perm-checkbox' />\r\n              <Label className='form-check-label' for='core-perm-checkbox'>\r\n                Set as core permission\r\n              </Label>\r\n            </div>\r\n          </Col>\r\n          <Col xs={12} className='text-center mt-2'>\r\n            <Button className='me-1' color='primary'>\r\n              Create Permission\r\n            </Button>\r\n            <Button outline type='reset' onClick={handleDiscard}>\r\n              Discard\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      )\r\n    } else {\r\n      return (\r\n        <Fragment>\r\n          <Alert color='warning'>\r\n            <h6 className='alert-heading'>Warning!</h6>\r\n            <div className='alert-body'>\r\n              By editing the permission name, you might break the system permissions functionality. Please ensure you're\r\n              absolutely certain before proceeding.\r\n            </div>\r\n          </Alert>\r\n          <Row tag={Form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Col xs={12} sm={9}>\r\n              <Label className='form-label' for='permission-name'>\r\n                Permission Name\r\n              </Label>\r\n              <Controller\r\n                control={control}\r\n                id='permissionName'\r\n                name='permissionName'\r\n                render={({ field }) => (\r\n                  <Input placeholder='Permission Name' invalid={errors.permissionName && true} {...field} />\r\n                )}\r\n              />\r\n              {errors && errors.permissionName && <FormFeedback>Please enter a valid Permission Name</FormFeedback>}\r\n            </Col>\r\n            <Col xs={12} sm={3} className='p-sm-0'>\r\n              <Button className='mt-2' color='primary'>\r\n                Update\r\n              </Button>\r\n            </Col>\r\n            <Col xs={12} className='mt-75'>\r\n              <div className='form-check'>\r\n                <Input type='checkbox' id='core-perm-checkbox' />\r\n\r\n                <Label className='form-check-label' for='core-perm-checkbox'>\r\n                  Set as core permission\r\n                </Label>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Fragment>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='react-dataTable'>\r\n        <DataTable\r\n          noHeader\r\n          pagination\r\n          subHeader\r\n          responsive\r\n          paginationServer\r\n          columns={updatedColumns}\r\n          sortIcon={<ChevronDown />}\r\n          className='react-dataTable'\r\n          paginationComponent={CustomPagination}\r\n          data={dataToRender()}\r\n          subHeaderComponent={\r\n            <CustomHeader\r\n              setShow={setShow}\r\n              assignedTo={assignedTo}\r\n              searchTerm={searchTerm}\r\n              rowsPerPage={rowsPerPage}\r\n              handleFilter={handleFilter}\r\n              handlePerPage={handlePerPage}\r\n              handleAssignedToChange={handleAssignedToChange}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n      <Modal isOpen={show} onClosed={handleModalClosed} toggle={() => setShow(!show)} className='modal-dialog-centered'>\r\n        <ModalHeader className='bg-transparent' toggle={() => setShow(!show)}></ModalHeader>\r\n        <ModalBody\r\n          className={classnames({\r\n            'p-3 pt-0': store.selected !== null,\r\n            'px-sm-5 pb-5': store.selected === null\r\n          })}\r\n        >\r\n          <div className='text-center mb-2'>\r\n            <h1 className='mb-1'>{store.selected !== null ? 'Edit' : 'Add New'} Permission</h1>\r\n            <p>{renderModalSubtitle()}</p>\r\n          </div>\r\n\r\n          {renderForm()}\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Table\r\n"]},"metadata":{},"sourceType":"module"}