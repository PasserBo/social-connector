{"ast":null,"code":"import _slicedToArray from\"/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{useState,useEffect}from'react';// ** Table Columns\nimport{columns}from'./columns';// ** Third Party Components\nimport DataTable from'react-data-table-component';import{ChevronDown,ExternalLink,Printer,FileText,File,Clipboard,Copy}from'react-feather';// ** Reactstrap Imports\nimport{Card,CardTitle,CardHeader,DropdownMenu,DropdownItem,DropdownToggle,UncontrolledButtonDropdown}from'reactstrap';// ** Store & Actions\nimport{getData}from'@src/views/apps/invoice/store';import{useDispatch,useSelector}from'react-redux';// ** Styles\nimport'@styles/react/apps/app-invoice.scss';import'@styles/react/libs/tables/react-dataTable-component.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InvoiceList=function InvoiceList(){// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.invoice;});// ** States\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,1),value=_useState2[0];var _useState3=useState(6),_useState4=_slicedToArray(_useState3,1),rowsPerPage=_useState4[0];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,1),currentPage=_useState6[0];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,1),statusValue=_useState8[0];var _useState9=useState('desc'),_useState10=_slicedToArray(_useState9,2),sort=_useState10[0],setSort=_useState10[1];var _useState11=useState('id'),_useState12=_slicedToArray(_useState11,2),sortColumn=_useState12[0],setSortColumn=_useState12[1];useEffect(function(){dispatch(getData({sort:sort,q:value,sortColumn:sortColumn,page:currentPage,perPage:rowsPerPage,status:statusValue}));},[dispatch,store.data.length]);var dataToRender=function dataToRender(){var filters={status:statusValue,q:value};var isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.data.length>0){return store.data.slice(0,rowsPerPage);}else if(store.data.length===0&&isFiltered){return[];}else{return store.allData.slice(0,rowsPerPage);}};var handleSort=function handleSort(column,sortDirection){setSort(sortDirection);setSortColumn(column.sortField);dispatch(getData({q:value,page:currentPage,sort:sortDirection,status:statusValue,perPage:rowsPerPage,sortColumn:column.sortField}));};return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-wrapper\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"py-1\",children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Invoices\"}),/*#__PURE__*/_jsxs(UncontrolledButtonDropdown,{children:[/*#__PURE__*/_jsxs(DropdownToggle,{color:\"secondary\",outline:true,caret:true,children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]}),/*#__PURE__*/_jsxs(DropdownMenu,{end:true,children:[/*#__PURE__*/_jsxs(DropdownItem,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Printer,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Print\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{className:\"w-100\",children:[/*#__PURE__*/_jsx(FileText,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"CSV\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{className:\"w-100\",children:[/*#__PURE__*/_jsx(File,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Excel\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Clipboard,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"PDF\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Copy,{className:\"font-small-4 me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-dataTable react-dataTable\",children:/*#__PURE__*/_jsx(DataTable,{noHeader:true,sortServer:true,columns:columns,responsive:true,onSort:handleSort,data:dataToRender(),sortIcon:/*#__PURE__*/_jsx(ChevronDown,{}),className:\"react-dataTable\",defaultSortField:\"invoiceId\"})})]})});};export default InvoiceList;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/src/views/apps/user/view/InvoiceList.js"],"names":["useState","useEffect","columns","DataTable","ChevronDown","ExternalLink","Printer","FileText","File","Clipboard","Copy","Card","CardTitle","CardHeader","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledButtonDropdown","getData","useDispatch","useSelector","InvoiceList","dispatch","store","state","invoice","value","rowsPerPage","currentPage","statusValue","sort","setSort","sortColumn","setSortColumn","q","page","perPage","status","data","length","dataToRender","filters","isFiltered","Object","keys","some","k","slice","allData","handleSort","column","sortDirection","sortField"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useState, useEffect } from 'react'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Third Party Components\r\nimport DataTable from 'react-data-table-component'\r\nimport { ChevronDown, ExternalLink, Printer, FileText, File, Clipboard, Copy } from 'react-feather'\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Card,\r\n  CardTitle,\r\n  CardHeader,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledButtonDropdown\r\n} from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { getData } from '@src/views/apps/invoice/store'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n// ** Styles\r\nimport '@styles/react/apps/app-invoice.scss'\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\nconst InvoiceList = () => {\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.invoice)\r\n\r\n  // ** States\r\n  const [value] = useState('')\r\n  const [rowsPerPage] = useState(6)\r\n  const [currentPage] = useState(1)\r\n  const [statusValue] = useState('')\r\n  const [sort, setSort] = useState('desc')\r\n  const [sortColumn, setSortColumn] = useState('id')\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        sort,\r\n        q: value,\r\n        sortColumn,\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: statusValue\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      status: statusValue,\r\n      q: value\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data.slice(0, rowsPerPage)\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSort(sortDirection)\r\n    setSortColumn(column.sortField)\r\n    dispatch(\r\n      getData({\r\n        q: value,\r\n        page: currentPage,\r\n        sort: sortDirection,\r\n        status: statusValue,\r\n        perPage: rowsPerPage,\r\n        sortColumn: column.sortField\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='invoice-list-wrapper'>\r\n      <Card>\r\n        <CardHeader className='py-1'>\r\n          <CardTitle tag='h4'>Invoices</CardTitle>\r\n          <UncontrolledButtonDropdown>\r\n            <DropdownToggle color='secondary' outline caret>\r\n              <ExternalLink className='font-small-4 me-50' />\r\n              <span>Export</span>\r\n            </DropdownToggle>\r\n            <DropdownMenu end>\r\n              <DropdownItem className='w-100'>\r\n                <Printer className='font-small-4 me-50' />\r\n                <span>Print</span>\r\n              </DropdownItem>\r\n              <DropdownItem className='w-100'>\r\n                <FileText className='font-small-4 me-50' />\r\n                <span>CSV</span>\r\n              </DropdownItem>\r\n              <DropdownItem className='w-100'>\r\n                <File className='font-small-4 me-50' />\r\n                <span>Excel</span>\r\n              </DropdownItem>\r\n              <DropdownItem className='w-100'>\r\n                <Clipboard className='font-small-4 me-50' />\r\n                <span>PDF</span>\r\n              </DropdownItem>\r\n              <DropdownItem className='w-100'>\r\n                <Copy className='font-small-4 me-50' />\r\n                <span>Copy</span>\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </UncontrolledButtonDropdown>\r\n        </CardHeader>\r\n        <div className='invoice-list-dataTable react-dataTable'>\r\n          <DataTable\r\n            noHeader\r\n            sortServer\r\n            columns={columns}\r\n            responsive={true}\r\n            onSort={handleSort}\r\n            data={dataToRender()}\r\n            sortIcon={<ChevronDown />}\r\n            className='react-dataTable'\r\n            defaultSortField='invoiceId'\r\n          />\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InvoiceList\r\n"]},"metadata":{},"sourceType":"module"}