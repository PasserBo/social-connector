{"ast":null,"code":"var _jsxFileName = \"/Users/jvledesma/www-bitfari/src/views/pages/payment/PaymentCards.js\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport { showConnect } from '@stacks/connect';\nimport { makeSTXTokenTransfer, broadcastTransaction, AnchorMode } from '@stacks/transactions';\nimport { Session } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PaymentCards = () => {\n  async function payAndPublish(val) {\n    const txOptions = {\n      recipient: 'ST32XCD69XPS3GKDEXAQ29PJRDSD5AR643GY0C3Q5',\n      amount: val,\n      senderKey: 'b244296d5907de9864c0b0d51f98a13c52890be0404e83f273144cd5b9960eed01',\n      network: 'testnet',\n      // for mainnet, use 'mainnet'\n      memo: 'Budget for Bitfari Ads',\n      nonce: 0n,\n      // set a nonce manually if you don't want builder to fetch from a Stacks node\n      fee: 200n,\n      // set a tx fee if you don't want the builder to estimate\n      anchorMode: AnchorMode.Any\n    }; // to see the raw serialized tx\n    //const serializedTx = transaction.serialize().toString('hex')\n    // broadcasting transaction to the specified network\n    //const broadcastResponse = await broadcastTransaction(transaction)\n    //const txId = broadcastResponse.txid\n\n    const send = await broadcastTransaction(makeSTXTokenTransfer(txOptions));\n    showConnect({\n      appDetails: {\n        name: 'Bitfari',\n        icon: 'https://bitfari.com/assets/logo-hiro-wallet.png'\n      },\n      redirectTo: '/',\n      onFinish: () => {\n        window.location.reload();\n      },\n      userSession: Session\n    });\n    return send;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Booked Ads Ready for Publishing:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ad Title: Place Your Ad Here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Network: Billboards.btc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Duration: 1 Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Please Provide a Budget (FARI):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"budget\",\n        id: \"budget\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: () => payAndPublish(budget),\n        children: \"Pay and Publish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"annual-plan\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plan-price mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pricing-duration text-body font-medium-1 fw-bold ms-25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true);\n};\n\n_c = PaymentCards;\nexport default PaymentCards;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentCards\");","map":{"version":3,"sources":["/Users/jvledesma/www-bitfari/src/views/pages/payment/PaymentCards.js"],"names":["React","Button","showConnect","makeSTXTokenTransfer","broadcastTransaction","AnchorMode","Session","PaymentCards","payAndPublish","val","txOptions","recipient","amount","senderKey","network","memo","nonce","fee","anchorMode","Any","send","appDetails","name","icon","redirectTo","onFinish","window","location","reload","userSession","budget"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,oBAAT,EAA+BC,oBAA/B,EAAqDC,UAArD,QAAuE,sBAAvE;AACA,SAASC,OAAT,QAAwB,QAAxB;;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAE3B,iBAAeC,aAAf,CAA6BC,GAA7B,EAAkC;AAEhC,UAAMC,SAAS,GAAG;AAChBC,MAAAA,SAAS,EAAE,2CADK;AAEhBC,MAAAA,MAAM,EAAEH,GAFQ;AAGhBI,MAAAA,SAAS,EAAE,oEAHK;AAIhBC,MAAAA,OAAO,EAAE,SAJO;AAII;AACpBC,MAAAA,IAAI,EAAE,wBALU;AAMhBC,MAAAA,KAAK,EAAE,EANS;AAML;AACXC,MAAAA,GAAG,EAAE,IAPW;AAOL;AACXC,MAAAA,UAAU,EAAEb,UAAU,CAACc;AARP,KAAlB,CAFgC,CAahC;AACA;AAEA;AACA;AACA;;AAEA,UAAMC,IAAI,GAAG,MAAMhB,oBAAoB,CAACD,oBAAoB,CAACO,SAAD,CAArB,CAAvC;AAEAR,IAAAA,WAAW,CAAC;AACVmB,MAAAA,UAAU,EAAE;AACVC,QAAAA,IAAI,EAAE,SADI;AAEVC,QAAAA,IAAI,EAAE;AAFI,OADF;AAKVC,MAAAA,UAAU,EAAE,GALF;AAMVC,MAAAA,QAAQ,EAAE,MAAM;AACdC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,OARS;AASVC,MAAAA,WAAW,EAAEvB;AATH,KAAD,CAAX;AAcA,WAAOc,IAAP;AACC;;AAEA,sBACW;AAAA,4BACA;AAAA,8BAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA;AAAA;AAAA;AAAA;AAAA,cAHA,eAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALA,eAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANA,eAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA,eASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATA,eAUA;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,EAAE,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,cAVA,eAYA,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,MAAMZ,aAAa,CAACsB,MAAD,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAiBA;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BACE;AAAM,UAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAjBA;AAAA,kBADX;AAyBC,CAlEJ;;KAAMvB,Y;AAoEN,eAAeA,YAAf","sourcesContent":["import React from 'react'\r\nimport { Button } from 'reactstrap'\r\nimport { showConnect } from '@stacks/connect'\r\nimport { makeSTXTokenTransfer, broadcastTransaction, AnchorMode } from '@stacks/transactions'\r\nimport { Session } from './auth'\r\n\r\nconst PaymentCards = () => {\r\n\r\nasync function payAndPublish(val) {\r\n\r\n  const txOptions = {\r\n    recipient: 'ST32XCD69XPS3GKDEXAQ29PJRDSD5AR643GY0C3Q5',\r\n    amount: val,\r\n    senderKey: 'b244296d5907de9864c0b0d51f98a13c52890be0404e83f273144cd5b9960eed01',\r\n    network: 'testnet', // for mainnet, use 'mainnet'\r\n    memo: 'Budget for Bitfari Ads',\r\n    nonce: 0n, // set a nonce manually if you don't want builder to fetch from a Stacks node\r\n    fee: 200n, // set a tx fee if you don't want the builder to estimate\r\n    anchorMode: AnchorMode.Any\r\n  }\r\n\r\n  // to see the raw serialized tx\r\n  //const serializedTx = transaction.serialize().toString('hex')\r\n  \r\n  // broadcasting transaction to the specified network\r\n  //const broadcastResponse = await broadcastTransaction(transaction)\r\n  //const txId = broadcastResponse.txid\r\n\r\n  const send = await broadcastTransaction(makeSTXTokenTransfer(txOptions))\r\n\r\n  showConnect({\r\n    appDetails: {\r\n      name: 'Bitfari',\r\n      icon: 'https://bitfari.com/assets/logo-hiro-wallet.png'\r\n    },\r\n    redirectTo: '/',\r\n    onFinish: () => { \r\n      window.location.reload()\r\n    },\r\n    userSession: Session\r\n  })\r\n\r\n\r\n\r\n  return send\r\n  }\r\n\r\n   return (\r\n              <>\r\n              <center>\r\n\r\n              <h2>Booked Ads Ready for Publishing:</h2>\r\n              <hr/>\r\n\r\n              <h3>Ad Title: Place Your Ad Here!</h3>\r\n              <h4>Network: Billboards.btc</h4>\r\n              <h4>Duration: 1 Day</h4>\r\n\r\n              <h4>Please Provide a Budget (FARI):</h4>  \r\n              <input name=\"budget\" id=\"budget\" />\r\n\r\n              <Button color='primary' onClick={() => payAndPublish(budget)}>\r\n                Pay and Publish</Button>\r\n              </center> \r\n\r\n              <div className='annual-plan'>\r\n                <div className='plan-price mt-2'>                 \r\n                  <span className='pricing-duration text-body font-medium-1 fw-bold ms-25'></span>\r\n                </div>\r\n              </div>   \r\n              </>         \r\n          )\r\n   }\r\n\r\nexport default PaymentCards\r\n"]},"metadata":{},"sourceType":"module"}