{"ast":null,"code":"// ** React Imports\nimport{useEffect}from'react';import{Link,useLocation}from'react-router-dom';// ** Third Party Components\nimport classnames from'classnames';import{useTranslation}from'react-i18next';// ** Reactstrap Imports\nimport{Collapse,Badge}from'reactstrap';// ** Vertical Menu Items Component\nimport VerticalNavMenuItems from'./VerticalNavMenuItems';// ** Utils\nimport{hasActiveChild,removeChildren}from'@layouts/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const VerticalNavMenuGroup=_ref=>{let{item,groupOpen,menuHover,activeItem,parentItem,routerProps,groupActive,currentActiveGroup,setGroupOpen,setActiveItem,menuCollapsed,setGroupActive,setCurrentActiveGroup,currentActiveItem,...rest}=_ref;// ** Hooks\nconst{t}=useTranslation();const location=useLocation();// ** Current Val\nconst currentURL=useLocation().pathname;// ** Toggle Open Group\nconst toggleOpenGroup=(item,parent)=>{let openGroup=groupOpen;const activeGroup=groupActive;// ** If Group is already open and clicked, close the group\nif(openGroup.includes(item.id)){openGroup.splice(openGroup.indexOf(item.id),1);// ** If clicked Group has open group children, Also remove those children to close those groups\nif(item.children){removeChildren(item.children,openGroup,groupActive);}}else if(activeGroup.includes(item.id)||currentActiveGroup.includes(item.id)){// ** If Group clicked is Active Group\n// ** If Active group is closed and clicked again, we should open active group else close active group\nif(!activeGroup.includes(item.id)&&currentActiveGroup.includes(item.id)){activeGroup.push(item.id);}else{activeGroup.splice(activeGroup.indexOf(item.id),1);}// ** Update Active Group\nsetGroupActive([...activeGroup]);}else if(parent){// ** If Group clicked is the child of a open group, first remove all the open groups under that parent\nif(parent.children){removeChildren(parent.children,openGroup,groupActive);}// ** After removing all the open groups under that parent, add the clicked group to open group array\nif(!openGroup.includes(item.id)){openGroup.push(item.id);}}else{// ** If clicked on another group that is not active or open, create openGroup array from scratch\n// ** Empty Open Group array\nopenGroup=[];// ** Push current clicked group item to Open Group array\nif(!openGroup.includes(item.id)){openGroup.push(item.id);}}setGroupOpen([...openGroup]);};// ** On Group Item Click\nconst onCollapseClick=(e,item)=>{toggleOpenGroup(item,parentItem);e.preventDefault();};// ** Checks url & updates active item\nuseEffect(()=>{if(hasActiveChild(item,currentURL)){if(!groupActive.includes(item.id))groupActive.push(item.id);}else{const index=groupActive.indexOf(item.id);if(index>-1)groupActive.splice(index,1);}setGroupActive([...groupActive]);setCurrentActiveGroup([...groupActive]);setGroupOpen([]);},[location]);// ** Returns condition to add open class\nconst openClassCondition=id=>{if(menuCollapsed&&menuHover||menuCollapsed===false){if(groupActive.includes(id)||groupOpen.includes(id)){return true;}}else if(groupActive.includes(id)&&menuCollapsed&&menuHover===false){return false;}else{return null;}};return/*#__PURE__*/_jsxs(\"li\",{className:classnames('nav-item has-sub',{open:openClassCondition(item.id),'menu-collapsed-open':groupActive.includes(item.id),'sidebar-group-active':groupActive.includes(item.id)||groupOpen.includes(item.id)||currentActiveGroup.includes(item.id)}),children:[/*#__PURE__*/_jsxs(Link,{className:\"d-flex align-items-center\",to:\"/\",onClick:e=>onCollapseClick(e,item),children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"menu-title text-truncate\",children:t(item.title)}),item.badge&&item.badgeText?/*#__PURE__*/_jsx(Badge,{className:\"ms-auto me-1\",color:item.badge,pill:true,children:item.badgeText}):null]}),/*#__PURE__*/_jsx(\"ul\",{className:\"menu-content\",children:/*#__PURE__*/_jsx(Collapse,{isOpen:groupActive&&groupActive.includes(item.id)||groupOpen&&groupOpen.includes(item.id),children:/*#__PURE__*/_jsx(VerticalNavMenuItems,{...rest,items:item.children,groupActive:groupActive,setGroupActive:setGroupActive,currentActiveGroup:currentActiveGroup,setCurrentActiveGroup:setCurrentActiveGroup,groupOpen:groupOpen,setGroupOpen:setGroupOpen,parentItem:item,menuCollapsed:menuCollapsed,menuHover:menuHover,routerProps:routerProps,currentActiveItem:currentActiveItem,activeItem:activeItem,setActiveItem:setActiveItem})})})]});};export default VerticalNavMenuGroup;","map":{"version":3,"sources":["/Users/jvledesma/www-bitfari/src/@core/layouts/components/menu/vertical-menu/VerticalNavMenuGroup.js"],"names":["useEffect","Link","useLocation","classnames","useTranslation","Collapse","Badge","VerticalNavMenuItems","hasActiveChild","removeChildren","VerticalNavMenuGroup","item","groupOpen","menuHover","activeItem","parentItem","routerProps","groupActive","currentActiveGroup","setGroupOpen","setActiveItem","menuCollapsed","setGroupActive","setCurrentActiveGroup","currentActiveItem","rest","t","location","currentURL","pathname","toggleOpenGroup","parent","openGroup","activeGroup","includes","id","splice","indexOf","children","push","onCollapseClick","e","preventDefault","index","openClassCondition","open","icon","title","badge","badgeText"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\n// ** Reactstrap Imports\r\nimport { Collapse, Badge } from 'reactstrap'\r\n\r\n// ** Vertical Menu Items Component\r\nimport VerticalNavMenuItems from './VerticalNavMenuItems'\r\n\r\n// ** Utils\r\nimport { hasActiveChild, removeChildren } from '@layouts/utils'\r\n\r\nconst VerticalNavMenuGroup = ({\r\n  item,\r\n  groupOpen,\r\n  menuHover,\r\n  activeItem,\r\n  parentItem,\r\n  routerProps,\r\n  groupActive,\r\n  currentActiveGroup,\r\n  setGroupOpen,\r\n  setActiveItem,\r\n  menuCollapsed,\r\n  setGroupActive,\r\n  setCurrentActiveGroup,\r\n  currentActiveItem,\r\n  ...rest\r\n}) => {\r\n  // ** Hooks\r\n  const { t } = useTranslation()\r\n  const location = useLocation()\r\n\r\n  // ** Current Val\r\n  const currentURL = useLocation().pathname\r\n\r\n  // ** Toggle Open Group\r\n  const toggleOpenGroup = (item, parent) => {\r\n    let openGroup = groupOpen\r\n    const activeGroup = groupActive\r\n\r\n    // ** If Group is already open and clicked, close the group\r\n    if (openGroup.includes(item.id)) {\r\n      openGroup.splice(openGroup.indexOf(item.id), 1)\r\n\r\n      // ** If clicked Group has open group children, Also remove those children to close those groups\r\n      if (item.children) {\r\n        removeChildren(item.children, openGroup, groupActive)\r\n      }\r\n    } else if (activeGroup.includes(item.id) || currentActiveGroup.includes(item.id)) {\r\n      // ** If Group clicked is Active Group\r\n\r\n      // ** If Active group is closed and clicked again, we should open active group else close active group\r\n      if (!activeGroup.includes(item.id) && currentActiveGroup.includes(item.id)) {\r\n        activeGroup.push(item.id)\r\n      } else {\r\n        activeGroup.splice(activeGroup.indexOf(item.id), 1)\r\n      }\r\n\r\n      // ** Update Active Group\r\n      setGroupActive([...activeGroup])\r\n    } else if (parent) {\r\n      // ** If Group clicked is the child of a open group, first remove all the open groups under that parent\r\n      if (parent.children) {\r\n        removeChildren(parent.children, openGroup, groupActive)\r\n      }\r\n\r\n      // ** After removing all the open groups under that parent, add the clicked group to open group array\r\n      if (!openGroup.includes(item.id)) {\r\n        openGroup.push(item.id)\r\n      }\r\n    } else {\r\n      // ** If clicked on another group that is not active or open, create openGroup array from scratch\r\n\r\n      // ** Empty Open Group array\r\n      openGroup = []\r\n\r\n      // ** Push current clicked group item to Open Group array\r\n      if (!openGroup.includes(item.id)) {\r\n        openGroup.push(item.id)\r\n      }\r\n    }\r\n    setGroupOpen([...openGroup])\r\n  }\r\n\r\n  // ** On Group Item Click\r\n  const onCollapseClick = (e, item) => {\r\n    toggleOpenGroup(item, parentItem)\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  // ** Checks url & updates active item\r\n  useEffect(() => {\r\n    if (hasActiveChild(item, currentURL)) {\r\n      if (!groupActive.includes(item.id)) groupActive.push(item.id)\r\n    } else {\r\n      const index = groupActive.indexOf(item.id)\r\n      if (index > -1) groupActive.splice(index, 1)\r\n    }\r\n    setGroupActive([...groupActive])\r\n    setCurrentActiveGroup([...groupActive])\r\n    setGroupOpen([])\r\n  }, [location])\r\n\r\n  // ** Returns condition to add open class\r\n  const openClassCondition = id => {\r\n    if ((menuCollapsed && menuHover) || menuCollapsed === false) {\r\n      if (groupActive.includes(id) || groupOpen.includes(id)) {\r\n        return true\r\n      }\r\n    } else if (groupActive.includes(id) && menuCollapsed && menuHover === false) {\r\n      return false\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li\r\n      className={classnames('nav-item has-sub', {\r\n        open: openClassCondition(item.id),\r\n        'menu-collapsed-open': groupActive.includes(item.id),\r\n        'sidebar-group-active':\r\n          groupActive.includes(item.id) || groupOpen.includes(item.id) || currentActiveGroup.includes(item.id)\r\n      })}\r\n    >\r\n      <Link className='d-flex align-items-center' to='/' onClick={e => onCollapseClick(e, item)}>\r\n        {item.icon}\r\n        <span className='menu-title text-truncate'>{t(item.title)}</span>\r\n\r\n        {item.badge && item.badgeText ? (\r\n          <Badge className='ms-auto me-1' color={item.badge} pill>\r\n            {item.badgeText}\r\n          </Badge>\r\n        ) : null}\r\n      </Link>\r\n\r\n      {/* Render Child Recursively Through VerticalNavMenuItems Component */}\r\n      <ul className='menu-content'>\r\n        <Collapse isOpen={(groupActive && groupActive.includes(item.id)) || (groupOpen && groupOpen.includes(item.id))}>\r\n          <VerticalNavMenuItems\r\n            {...rest}\r\n            items={item.children}\r\n            groupActive={groupActive}\r\n            setGroupActive={setGroupActive}\r\n            currentActiveGroup={currentActiveGroup}\r\n            setCurrentActiveGroup={setCurrentActiveGroup}\r\n            groupOpen={groupOpen}\r\n            setGroupOpen={setGroupOpen}\r\n            parentItem={item}\r\n            menuCollapsed={menuCollapsed}\r\n            menuHover={menuHover}\r\n            routerProps={routerProps}\r\n            currentActiveItem={currentActiveItem}\r\n            activeItem={activeItem}\r\n            setActiveItem={setActiveItem}\r\n          />\r\n        </Collapse>\r\n      </ul>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default VerticalNavMenuGroup\r\n"]},"metadata":{},"sourceType":"module"}