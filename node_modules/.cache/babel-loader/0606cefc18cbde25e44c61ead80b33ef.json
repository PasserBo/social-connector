{"ast":null,"code":"// ** React Imports\nimport{Fragment,useState}from'react';// ** Mail Components Imports\nimport MailCard from'./MailCard';import MailDetails from'./MailDetails';import ComposePopUp from'./ComposePopup';// ** Utils\nimport{formatDateToMonthShort}from'@utils';// ** Third Party Components\nimport PerfectScrollbar from'react-perfect-scrollbar';import{Menu,Search,Folder,Tag,Mail,Trash,Edit2,Info}from'react-feather';// ** Reactstrap Imports\nimport{Input,Label,InputGroup,DropdownMenu,DropdownItem,InputGroupText,DropdownToggle,UncontrolledDropdown}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Mails=props=>{// ** Props\nconst{query,store,setQuery,dispatch,selectMail,composeOpen,updateMails,paginateMail,selectAllMail,toggleCompose,setSidebarOpen,updateMailLabel,resetSelectedMail,selectCurrentMail}=props;const{mails,selectedMails}=store;// ** States\nconst[openMail,setOpenMail]=useState(false);// ** Variables\nconst labelColors={personal:'success',company:'primary',important:'warning',private:'danger'};// ** Handles Update Functions\nconst handleMailClick=id=>{dispatch(selectCurrentMail(id));setOpenMail(true);};// ** Handles SelectAll\nconst handleSelectAll=e=>{dispatch(selectAllMail(e.target.checked));};/*eslint-disable */ // ** Handles Folder Update\nconst handleFolderUpdate=function(e,folder){let ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMails({emailIds:ids,dataToUpdate:{folder}}));dispatch(resetSelectedMail());};// ** Handles Label Update\nconst handleLabelsUpdate=function(e,label){let ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMailLabel({emailIds:ids,label}));dispatch(resetSelectedMail());};// ** Handles Mail Read Update\nconst handleMailReadUpdate=(arr,bool)=>{dispatch(updateMails({emailIds:arr,dataToUpdate:{isRead:bool}})).then(()=>dispatch(resetSelectedMail()));dispatch(selectAllMail(false));};// ** Handles Move to Trash\nconst handleMailToTrash=ids=>{dispatch(updateMails({emailIds:ids,dataToUpdate:{folder:'trash'}}));dispatch(resetSelectedMail());};/*eslint-enable */ // ** Renders Mail\nconst renderMails=()=>{if(mails.length){return mails.map((mail,index)=>{return/*#__PURE__*/_jsx(MailCard,{mail:mail,dispatch:dispatch,selectMail:selectMail,updateMails:updateMails,labelColors:labelColors,selectedMails:selectedMails,handleMailClick:handleMailClick,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort},index);});}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-app-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-fixed-search d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-toggle d-block d-lg-none ms-1\",onClick:()=>setSidebarOpen(true),children:/*#__PURE__*/_jsx(Menu,{size:\"21\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-content-center justify-content-between w-100\",children:/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-merge\",children:[/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsx(Search,{className:\"text-muted\",size:14})}),/*#__PURE__*/_jsx(Input,{id:\"email-search\",placeholder:\"Search email\",value:query,onChange:e=>setQuery(e.target.value)})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-action\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-left form-check\",children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"select-all\",onChange:handleSelectAll,checked:selectedMails.length&&selectedMails.length===mails.length}),/*#__PURE__*/_jsx(Label,{className:\"form-check-label fw-bolder ps-25 mb-0\",for:\"select-all\",children:\"Select All\"})]}),selectedMails.length?/*#__PURE__*/_jsx(\"div\",{className:\"action-right\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline m-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item me-1\",children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"span\",children:/*#__PURE__*/_jsx(Folder,{size:18})}),/*#__PURE__*/_jsxs(DropdownMenu,{end:true,children:[/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleFolderUpdate(e,'draft'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Edit2,{className:\"me-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Draft\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleFolderUpdate(e,'spam'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Info,{className:\"me-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Spam\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleFolderUpdate(e,'trash'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash,{className:\"me-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Trash\"})]})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item me-1\",children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"span\",children:/*#__PURE__*/_jsx(Tag,{size:18})}),/*#__PURE__*/_jsxs(DropdownMenu,{end:true,children:[/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleLabelsUpdate(e,'personal'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-success bullet-sm me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Personal\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleLabelsUpdate(e,'company'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-primary bullet-sm me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Company\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleLabelsUpdate(e,'important'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-warning bullet-sm me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Important\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:e=>handleLabelsUpdate(e,'private'),className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-danger bullet-sm me-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Private\"})]})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item me-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"action-icon\",onClick:()=>handleMailReadUpdate(selectedMails,false),children:/*#__PURE__*/_jsx(Mail,{size:18})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"action-icon\",onClick:()=>handleMailToTrash(selectedMails),children:/*#__PURE__*/_jsx(Trash,{size:18})})})]})}):null]}),/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"email-user-list\",options:{wheelPropagation:false},children:mails.length?/*#__PURE__*/_jsx(\"ul\",{className:\"email-media-list\",children:renderMails()}):/*#__PURE__*/_jsx(\"div\",{className:\"no-results d-block\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"No Items Found\"})})})]}),/*#__PURE__*/_jsx(MailDetails,{openMail:openMail,dispatch:dispatch,mail:store.currentMail,labelColors:labelColors,setOpenMail:setOpenMail,updateMails:updateMails,paginateMail:paginateMail,updateMailLabel:updateMailLabel,handleMailToTrash:handleMailToTrash,handleFolderUpdate:handleFolderUpdate,handleLabelsUpdate:handleLabelsUpdate,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort}),/*#__PURE__*/_jsx(ComposePopUp,{composeOpen:composeOpen,toggleCompose:toggleCompose})]});};export default Mails;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/react-version/full-version/src/views/apps/tellfari/Mails.js"],"names":["Fragment","useState","MailCard","MailDetails","ComposePopUp","formatDateToMonthShort","PerfectScrollbar","Menu","Search","Folder","Tag","Mail","Trash","Edit2","Info","Input","Label","InputGroup","DropdownMenu","DropdownItem","InputGroupText","DropdownToggle","UncontrolledDropdown","Mails","props","query","store","setQuery","dispatch","selectMail","composeOpen","updateMails","paginateMail","selectAllMail","toggleCompose","setSidebarOpen","updateMailLabel","resetSelectedMail","selectCurrentMail","mails","selectedMails","openMail","setOpenMail","labelColors","personal","company","important","private","handleMailClick","id","handleSelectAll","e","target","checked","handleFolderUpdate","folder","ids","preventDefault","emailIds","dataToUpdate","handleLabelsUpdate","label","handleMailReadUpdate","arr","bool","isRead","then","handleMailToTrash","renderMails","length","map","mail","index","value","wheelPropagation","currentMail"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Mail Components Imports\r\nimport MailCard from './MailCard'\r\nimport MailDetails from './MailDetails'\r\nimport ComposePopUp from './ComposePopup'\r\n\r\n// ** Utils\r\nimport { formatDateToMonthShort } from '@utils'\r\n\r\n// ** Third Party Components\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { Menu, Search, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather'\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Input,\r\n  Label,\r\n  InputGroup,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  InputGroupText,\r\n  DropdownToggle,\r\n  UncontrolledDropdown\r\n} from 'reactstrap'\r\n\r\nconst Mails = props => {\r\n  // ** Props\r\n  const {\r\n    query,\r\n    store,\r\n    setQuery,\r\n    dispatch,\r\n    selectMail,\r\n    composeOpen,\r\n    updateMails,\r\n    paginateMail,\r\n    selectAllMail,\r\n    toggleCompose,\r\n    setSidebarOpen,\r\n    updateMailLabel,\r\n    resetSelectedMail,\r\n    selectCurrentMail\r\n  } = props\r\n\r\n  const { mails, selectedMails } = store\r\n\r\n  // ** States\r\n  const [openMail, setOpenMail] = useState(false)\r\n\r\n  // ** Variables\r\n  const labelColors = {\r\n    personal: 'success',\r\n    company: 'primary',\r\n    important: 'warning',\r\n    private: 'danger'\r\n  }\r\n\r\n  // ** Handles Update Functions\r\n  const handleMailClick = id => {\r\n    dispatch(selectCurrentMail(id))\r\n    setOpenMail(true)\r\n  }\r\n\r\n  // ** Handles SelectAll\r\n  const handleSelectAll = e => {\r\n    dispatch(selectAllMail(e.target.checked))\r\n  }\r\n\r\n  /*eslint-disable */\r\n\r\n  // ** Handles Folder Update\r\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMails({ emailIds: ids, dataToUpdate: { folder } }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Label Update\r\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMailLabel({ emailIds: ids, label }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Mail Read Update\r\n  const handleMailReadUpdate = (arr, bool) => {\r\n    dispatch(updateMails({ emailIds: arr, dataToUpdate: { isRead: bool } })).then(() => dispatch(resetSelectedMail()))\r\n    dispatch(selectAllMail(false))\r\n  }\r\n\r\n  // ** Handles Move to Trash\r\n  const handleMailToTrash = ids => {\r\n    dispatch(updateMails({ emailIds: ids, dataToUpdate: { folder: 'trash' } }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n  /*eslint-enable */\r\n\r\n  // ** Renders Mail\r\n  const renderMails = () => {\r\n    if (mails.length) {\r\n      return mails.map((mail, index) => {\r\n        return (\r\n          <MailCard\r\n            mail={mail}\r\n            key={index}\r\n            dispatch={dispatch}\r\n            selectMail={selectMail}\r\n            updateMails={updateMails}\r\n            labelColors={labelColors}\r\n            selectedMails={selectedMails}\r\n            handleMailClick={handleMailClick}\r\n            handleMailReadUpdate={handleMailReadUpdate}\r\n            formatDateToMonthShort={formatDateToMonthShort}\r\n          />\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='email-app-list'>\r\n        <div className='app-fixed-search d-flex align-items-center'>\r\n          <div className='sidebar-toggle d-block d-lg-none ms-1' onClick={() => setSidebarOpen(true)}>\r\n            <Menu size='21' />\r\n          </div>\r\n          <div className='d-flex align-content-center justify-content-between w-100'>\r\n            <InputGroup className='input-group-merge'>\r\n              <InputGroupText>\r\n                <Search className='text-muted' size={14} />\r\n              </InputGroupText>\r\n              <Input\r\n                id='email-search'\r\n                placeholder='Search email'\r\n                value={query}\r\n                onChange={e => setQuery(e.target.value)}\r\n              />\r\n            </InputGroup>\r\n          </div>\r\n        </div>\r\n        <div className='app-action'>\r\n          <div className='action-left form-check'>\r\n            <Input\r\n              type='checkbox'\r\n              id='select-all'\r\n              onChange={handleSelectAll}\r\n              checked={selectedMails.length && selectedMails.length === mails.length}\r\n            />\r\n            <Label className='form-check-label fw-bolder ps-25 mb-0' for='select-all'>\r\n              Select All\r\n            </Label>\r\n          </div>\r\n          {selectedMails.length ? (\r\n            <div className='action-right'>\r\n              <ul className='list-inline m-0'>\r\n                <li className='list-inline-item me-1'>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle tag='span'>\r\n                      <Folder size={18} />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu end>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'draft')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Edit2 className='me-50' size={18} />\r\n                        <span>Draft</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'spam')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Info className='me-50' size={18} />\r\n                        <span>Spam</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'trash')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Trash className='me-50' size={18} />\r\n                        <span>Trash</span>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </li>\r\n                <li className='list-inline-item me-1'>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle tag='span'>\r\n                      <Tag size={18} />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu end>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'personal')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-success bullet-sm me-50' />\r\n                        <span>Personal</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'company')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-primary bullet-sm me-50' />\r\n                        <span>Company</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'important')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-warning bullet-sm me-50' />\r\n                        <span>Important</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'private')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-danger bullet-sm me-50' />\r\n                        <span>Private</span>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </li>\r\n                <li className='list-inline-item me-1'>\r\n                  <span className='action-icon' onClick={() => handleMailReadUpdate(selectedMails, false)}>\r\n                    <Mail size={18} />\r\n                  </span>\r\n                </li>\r\n                <li className='list-inline-item'>\r\n                  <span className='action-icon' onClick={() => handleMailToTrash(selectedMails)}>\r\n                    <Trash size={18} />\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\r\n          {mails.length ? (\r\n            <ul className='email-media-list'>{renderMails()}</ul>\r\n          ) : (\r\n            <div className='no-results d-block'>\r\n              <h5>No Items Found</h5>\r\n            </div>\r\n          )}\r\n        </PerfectScrollbar>\r\n      </div>\r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={store.currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      />\r\n      <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Mails\r\n"]},"metadata":{},"sourceType":"module"}