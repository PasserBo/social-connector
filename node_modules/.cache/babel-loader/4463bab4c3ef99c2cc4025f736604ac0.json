{"ast":null,"code":"// ** React Imports\nimport{useEffect}from'react';import{Link,useLocation}from'react-router-dom';// ** Third Party Components\nimport classnames from'classnames';import{useTranslation}from'react-i18next';// ** Reactstrap Imports\nimport{Dropdown,DropdownMenu,DropdownToggle}from'reactstrap';// ** Utils\nimport{hasActiveChild}from'@layouts/utils';// ** Horizontal Menu Items Component\nimport HorizontalNavMenuItems from'./HorizontalNavMenuItems';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const HorizontalNavMenuGroup=props=>{// ** Props\nconst{item,submenu,activeItem,routerProps,groupActive,onMouseEnter,onMouseLeave,openDropdown,setActiveItem,setGroupActive,setOpenDropdown,currentActiveItem}=props;// ** Hooks\nconst{t}=useTranslation();const location=useLocation();// ** URL Var\nconst currentURL=useLocation().pathname;useEffect(()=>{if(hasActiveChild(item,currentURL)){if(!groupActive.includes(item.id))groupActive.push(item.id);}else{const index=groupActive.indexOf(item.id);if(index>-1)groupActive.splice(index,1);}setGroupActive([...groupActive]);},[location]);// ** Dropdown menu modifiers\nconst menuModifiers=[{enabled:true,phase:'write',name:'setMaxHeight',fn:data=>{const pageHeight=window.innerHeight,popperEl=data.state.elements.popper,ddTop=popperEl.getBoundingClientRect().top,ddHeight=popperEl.clientHeight;let maxHeight,stylesObj;// ** Calculate and set height\nif(pageHeight-ddTop-ddHeight-28<1){maxHeight=pageHeight-ddTop-25;stylesObj={maxHeight,overflowY:'auto'};}const ddRef=popperEl.getBoundingClientRect();// ** If there is not space left to open sub menu open it to the right\nif(ddRef.left+ddRef.width-(window.innerWidth-16)>=0){popperEl.closest('.dropdown').classList.add('openLeft');}data.state.styles.popper={...data.state.styles.popper,...stylesObj};}}];return/*#__PURE__*/_jsxs(Dropdown,{tag:\"li\",toggle:()=>null,className:classnames({'nav-item':submenu===false,'dropdown-submenu':submenu===true,'sidebar-group-active active':groupActive.includes(item.id)}),isOpen:openDropdown.includes(item.id),onMouseEnter:()=>onMouseEnter(item.id),onMouseLeave:()=>onMouseLeave(item.id),children:[/*#__PURE__*/_jsxs(DropdownToggle,{to:\"/\",tag:Link,onClick:e=>e.preventDefault(),className:classnames('dropdown-toggle d-flex align-items-center',{'dropdown-item':submenu===true,'nav-link':submenu===false}),children:[item.icon,/*#__PURE__*/_jsx(\"span\",{children:t(item.title)})]}),/*#__PURE__*/_jsx(DropdownMenu,{tag:\"ul\",modifiers:menuModifiers,className:classnames({'first-level':submenu===false}),children:/*#__PURE__*/_jsx(HorizontalNavMenuItems,{submenu:true,parentItem:item,items:item.children,activeItem:activeItem,groupActive:groupActive,routerProps:routerProps,openDropdown:openDropdown,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,setActiveItem:setActiveItem,setGroupActive:setGroupActive,isChild:true,setOpenDropdown:setOpenDropdown,currentActiveItem:currentActiveItem})})]});};export default HorizontalNavMenuGroup;","map":{"version":3,"sources":["/Users/jvledesma/Downloads/react-version/full-version/src/@core/layouts/components/menu/horizontal-menu/HorizontalNavMenuGroup.js"],"names":["useEffect","Link","useLocation","classnames","useTranslation","Dropdown","DropdownMenu","DropdownToggle","hasActiveChild","HorizontalNavMenuItems","HorizontalNavMenuGroup","props","item","submenu","activeItem","routerProps","groupActive","onMouseEnter","onMouseLeave","openDropdown","setActiveItem","setGroupActive","setOpenDropdown","currentActiveItem","t","location","currentURL","pathname","includes","id","push","index","indexOf","splice","menuModifiers","enabled","phase","name","fn","data","pageHeight","window","innerHeight","popperEl","state","elements","popper","ddTop","getBoundingClientRect","top","ddHeight","clientHeight","maxHeight","stylesObj","overflowY","ddRef","left","width","innerWidth","closest","classList","add","styles","e","preventDefault","icon","title","children"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\n// ** Reactstrap Imports\r\nimport { Dropdown, DropdownMenu, DropdownToggle } from 'reactstrap'\r\n\r\n// ** Utils\r\nimport { hasActiveChild } from '@layouts/utils'\r\n\r\n// ** Horizontal Menu Items Component\r\nimport HorizontalNavMenuItems from './HorizontalNavMenuItems'\r\n\r\nconst HorizontalNavMenuGroup = props => {\r\n  // ** Props\r\n  const {\r\n    item,\r\n    submenu,\r\n    activeItem,\r\n    routerProps,\r\n    groupActive,\r\n    onMouseEnter,\r\n    onMouseLeave,\r\n    openDropdown,\r\n    setActiveItem,\r\n    setGroupActive,\r\n    setOpenDropdown,\r\n    currentActiveItem\r\n  } = props\r\n\r\n  // ** Hooks\r\n  const { t } = useTranslation()\r\n  const location = useLocation()\r\n\r\n  // ** URL Var\r\n  const currentURL = useLocation().pathname\r\n\r\n  useEffect(() => {\r\n    if (hasActiveChild(item, currentURL)) {\r\n      if (!groupActive.includes(item.id)) groupActive.push(item.id)\r\n    } else {\r\n      const index = groupActive.indexOf(item.id)\r\n      if (index > -1) groupActive.splice(index, 1)\r\n    }\r\n    setGroupActive([...groupActive])\r\n  }, [location])\r\n\r\n  // ** Dropdown menu modifiers\r\n  const menuModifiers = [\r\n    {\r\n      enabled: true,\r\n      phase: 'write',\r\n      name: 'setMaxHeight',\r\n      fn: data => {\r\n        const pageHeight = window.innerHeight,\r\n          popperEl = data.state.elements.popper,\r\n          ddTop = popperEl.getBoundingClientRect().top,\r\n          ddHeight = popperEl.clientHeight\r\n\r\n        let maxHeight, stylesObj\r\n\r\n        // ** Calculate and set height\r\n        if (pageHeight - ddTop - ddHeight - 28 < 1) {\r\n          maxHeight = pageHeight - ddTop - 25\r\n          stylesObj = {\r\n            maxHeight,\r\n            overflowY: 'auto'\r\n          }\r\n        }\r\n\r\n        const ddRef = popperEl.getBoundingClientRect()\r\n\r\n        // ** If there is not space left to open sub menu open it to the right\r\n        if (ddRef.left + ddRef.width - (window.innerWidth - 16) >= 0) {\r\n          popperEl.closest('.dropdown').classList.add('openLeft')\r\n        }\r\n\r\n        data.state.styles.popper = { ...data.state.styles.popper, ...stylesObj }\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Dropdown\r\n      tag='li'\r\n      toggle={() => null}\r\n      className={classnames({\r\n        'nav-item': submenu === false,\r\n        'dropdown-submenu': submenu === true,\r\n        'sidebar-group-active active': groupActive.includes(item.id)\r\n      })}\r\n      isOpen={openDropdown.includes(item.id)}\r\n      onMouseEnter={() => onMouseEnter(item.id)}\r\n      onMouseLeave={() => onMouseLeave(item.id)}\r\n    >\r\n      <DropdownToggle\r\n        to='/'\r\n        tag={Link}\r\n        onClick={e => e.preventDefault()}\r\n        className={classnames('dropdown-toggle d-flex align-items-center', {\r\n          'dropdown-item': submenu === true,\r\n          'nav-link': submenu === false\r\n        })}\r\n      >\r\n        {item.icon}\r\n        <span>{t(item.title)}</span>\r\n      </DropdownToggle>\r\n      <DropdownMenu tag='ul' modifiers={menuModifiers} className={classnames({ 'first-level': submenu === false })}>\r\n        <HorizontalNavMenuItems\r\n          submenu={true}\r\n          parentItem={item}\r\n          items={item.children}\r\n          activeItem={activeItem}\r\n          groupActive={groupActive}\r\n          routerProps={routerProps}\r\n          openDropdown={openDropdown}\r\n          onMouseEnter={onMouseEnter}\r\n          onMouseLeave={onMouseLeave}\r\n          setActiveItem={setActiveItem}\r\n          setGroupActive={setGroupActive}\r\n          isChild={true}\r\n          setOpenDropdown={setOpenDropdown}\r\n          currentActiveItem={currentActiveItem}\r\n        />\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nexport default HorizontalNavMenuGroup\r\n"]},"metadata":{},"sourceType":"module"}